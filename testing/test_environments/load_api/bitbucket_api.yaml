openapi: 3.0.0
info:
  termsOfService: https://www.atlassian.com/legal/customer-agreement
  version: "2.0"
  title: Bitbucket API
  description: Code against the Bitbucket API to automate simple tasks, embed Bitbucket
    data into your own site, build mobile or desktop apps, or even add custom UI
    add-ons into Bitbucket itself using the Connect framework.
  contact:
    url: https://support.atlassian.com/bitbucket-cloud/
    name: Bitbucket Support
    email: support@bitbucket.org
x-radar-pages:
  - content: >
      
      # Authentication methods


      The purpose of this section is to describe how to authenticate when making API calls using the Bitbucket REST API.


      -----


      *On this page*


      * [Oauth 2](#oauth-2)
        * [Making requests](#make-requests)
        * [Repository cloning](#repo-clone)
        * [Refresh tokens](#refresh-tokens)
      * [Scopes](#scopes-bbc)

      * [App passwords](#app-pw)

      * [Basic auth](#basic-auth)


      ---


      # Bitbucket Cloud OAuth 2.0 


      Our OAuth 2 implementation is merged in with our existing OAuth 1 in

      such a way that existing OAuth 1 consumers automatically become

      valid OAuth 2 clients. The only thing you need to do is edit your

      existing consumer and configure a callback URL.


      Once that is in place, you'll have the following 2 URLs:

          https://bitbucket.org/site/oauth2/authorize
          https://bitbucket.org/site/oauth2/access_token

      For obtaining access/bearer tokens, we support all 4 of RFC-6749's grant

      flows, plus a custom Bitbucket flow for exchanging JWT tokens for access tokens:



      ### 1. Authorization Code Grant (4.1)


      The full-blown 3-LO flow. Request authorization from the end user by

      sending their browser to:

          https://bitbucket.org/site/oauth2/authorize?client_id={client_id}&response_type=code

      The callback includes the `?code={}` query parameter that you can swap

      for an access token:

          $ curl -X POST -u "client_id:secret" \
            https://bitbucket.org/site/oauth2/access_token \
            -d grant_type=authorization_code -d code={code}


      ### 2. Implicit Grant (4.2)


      This flow is useful for browser-based add-ons that operate without server-side backends.


      Request the end user for authorization by directing the browser to:

          https://bitbucket.org/site/oauth2/authorize?client_id={client_id}&response_type=token

      That will redirect to your preconfigured callback URL with a fragment

      containing the access token

      (`#access_token={token}&token_type=bearer`) where your page's js can

      pull it out of the URL.



      ### 3. Resource Owner Password Credentials Grant (4.3)


      Useful if you have the end user's password but you want to use a more

      secure end user access token instead. This method will not work when the user has two-step verification enabled.

          $ curl -X POST -u "client_id:secret" \
            https://bitbucket.org/site/oauth2/access_token -d grant_type=password \
            -d username={username} -d password={password}


      ### 4. Client Credentials Grant (4.4)


      Somewhat like our existing "2-LO" flow for OAuth 1. Obtain an access

      token that represents not an end user, but the owner of the

      client/consumer:

          $ curl -X POST -u "client_id:secret" \
            https://bitbucket.org/site/oauth2/access_token \
            -d grant_type=client_credentials


      ### 5. Bitbucket Cloud JWT Grant (urn:bitbucket:oauth2:jwt)


      If your Atlassian Connect add-on uses JWT authentication, you can swap a

      JWT for an OAuth access token. The resulting access token represents the

      account for which the add-on is installed.


      Make sure you send the JWT token in the Authorization request header

      using the "JWT" scheme (case sensitive). Note that this custom scheme

      makes this different from HTTP Basic Auth (and so you cannot use "curl

      -u").

          $ curl -X POST -H "Authorization: JWT {jwt_token}" \
            https://bitbucket.org/site/oauth2/access_token \
            -d grant_type=urn:bitbucket:oauth2:jwt


      ## Making Requests 


      Once you have an access token, as per RFC-6750, you can use it in a request in any of

      the following ways (in decreasing order of desirability):


      1. Send it in a request header: `Authorization: Bearer {access_token}`

      2. Include it in a (application/x-www-form-urlencoded) POST body as `access_token={access_token}`

      3. Put it in the query string of a non-POST: `?access_token={access_token}`



      ## Repository Cloning 


      Since add-ons will not be able to upload their own SSH keys to clone

      with, access tokens can be used as Basic HTTP Auth credentials to

      clone securely over HTTPS. This is much like GitHub, yet slightly

      different:

          $ git clone https://x-token-auth:{access_token}@bitbucket.org/user/repo.git

      The literal string `x-token-auth` as a substitute for username is

      required (note the difference with GitHub where the actual token is in

      the username field).



      ## Refresh Tokens 


      Our access tokens expire in one hour. When this happens you'll get 401

      responses.


      Most access tokens grant responses (Implicit and JWT excluded). Therefore, you should include a

      refresh token that can then be used to generate a new access token,

      without the need for end user participation:

          $ curl -X POST -u "client_id:secret" \
            https://bitbucket.org/site/oauth2/access_token \
            -d grant_type=refresh_token -d refresh_token={refresh_token}


      # Scopes for the Bitbucket Cloud REST API 


      Bitbucket's API applies a number of privilege scopes to endpoints. In order to access an endpoint, a request will need to have the necessary scopes.


      Scopes are declared in the descriptor as a list of strings, with each string being the name of a unique scope.


      A descriptor lacking the `scopes` element is implicitly assumed to require all scopes and as a result, Bitbucket will require end users authorizing/installing the add-on

      to explicitly accept all scopes.


      Our best practice suggests you add the scopes your add-on needs, but no more than it needs.


      Invalid scope strings will cause the descriptor to be rejected and the installation to fail.


      Following is the set of all currently available scopes.


      ### repository


      Gives the add-on read access to all the repositories the authorizing user has access to.

      Note that this scope does not give access to a repository's pull requests.


      * access to the repo's source code

      * clone over https

      * access the the file browsing API

      * download zip archives of the repo's contents

      * the ability to view and use the issue tracker on any repo (created issues, comment, vote, etc)

      * the ability to view and use the wiki on any repo (create/edit pages)


      ### repository:write


      Gives the add-on write (not admin) access to all the repositories the authorizing user has access to. No distinction is made between public or private repos. This scope implies `repository`, which does not need to be requested separately.

      This scope alone does not give access to the pull requests API.


      * push access over https

      * fork repos


      ### repository:admin


      Gives the add-on admin access to all the repositories the authorizing user has access to. No distinction is made between public or private repos. This scope does not imply `repository` or `repository:write`. It gives access to the admin features of a repo only, not direct access to its contents. Of course it can be (mis)used to grant read access to another user account who can then clone the repo, but repos that need to read of write source code would also request explicit read or write.

      This scope comes with access to the following functionality:


      * view and manipulate committer mappings

      * list and edit deploy keys

      * ability to delete the repo

      * view and edit repo permissions

      * view and edit branch permissions

      * import and export the issue tracker

      * enable and disable the issue tracker

      * list and edit issue tracker version, milestones and components

      * enable and disable the wiki

      * list and edit default reviewers

      * list and edit repo links (Jira/Bamboo/Custom)

      * list and edit the repository web hooks

      * initiate a repo ownership transfer


      ### snippet


      Gives the add-on read access to all the snippets the authorizing user has access to.

      No distinction is made between public and private snippets (public snippets are accessible without any form of authentication).


      * view any snippet

      * create snippet comments


      ### snippet:write


      Gives the add-on write access to all the snippets the authorizing user can edit.

      No distinction is made between public and private snippets (public snippets are accessible without any form of authentication).

      This implies the Snippet Read scope which does not need to be requested separately.


      * edit snippets

      * delete snippets


      ### issue


      Ability to interact with issue trackers the way non-repo members can.

      This scope does not imply any other scopes and does not give implicit access to the repository the issue is attached to.


      * view, list and search issues

      * create new issues

      * comment on issues

      * watch issues

      * vote for issues


      ### issue:write


      This implies `issue`, but adds the ability to transition and delete issues.

      This scope does not imply any other scopes and does not give implicit access to the repository the issue is attached to.


      * transition issues

      * delete issues


      ### wiki


      Gives access to wikis. No distinction is made between read and write as wikis are always editable by anyone.

      This scope does not imply any other scopes and does not give implicit access to the repository the wiki is attached to.


      * view wikis

      * create pages

      * edit pages

      * push to wikis

      * clone wikis


      ### pullrequest


      Gives the add-on read access to pull requests.

      This scope implies `repository`, giving read access to the pull request's destination repository.


      * see and list pull requests

      * create and resolve tasks


      ### pullrequest:write


      Implies `pullrequest` but adds the ability to create, merge and decline pull requests.

      This scope implies `repository:write`, giving write access to the pull request's destination repository. This is necessary to facilitate merging.


      * merge pull requests

      * decline pull requests

      * create pull requests

      * comment on pull requests

      * approve pull requests


      ### email


      Ability to see the user's primary email address. This should make it easier to use Bitbucket Cloud as a login provider to add-ons or external applications.


      ### account


      Ability to see all the user's account information. Note that this does not include any ability to mutate any of the data.


      * see all email addresses

      * language

      * location

      * website

      * full name

      * SSH keys

      * user groups


      ### account:write


      Ability to change properties on the user's account.


      * delete the authorizing user's account

      * manage the user's groups

      * manupilate a user's email addresses

      * change username, display name and avatar


      ### team


      The ability to find out what teams the current user is part of. This is covered by the teams endpoint.


      * information about all the groups and teams I am a member or admin of



      ### team:write


      Implies `team`, but adds the ability to manage the teams that the authorizing user is an admin on.


      * manage team permissions


      ### webhook


      Gives access to webhooks. This scope is required for any webhook

      related operation.


      This scope gives read access to existing webhook subscriptions on all

      resources you can access, without needing further scopes. This means that

      a client can list all existing webhook subscriptions on repository

      `foo/bar` (assuming the principal user has access to this repo). The

      additional `repository` scope is not required for this.


      Likewise, existing webhook subscriptions for a repo's issue tracker can be

      retrieved without holding the `issue` scope. All that is required is the

      `webhook` scope.


      However, to create a webhook for `issue:created`, the client will need to

      have both the `webhook` as well as `issue` scope.


      * list webhook subscriptions on any accessible repository, user, team, or snippet

      * create/update/delete webhook subscriptions



      # App passwords 


      App passwords allow two-step verification users to make API calls to their Bitbucket account through apps such as Sourcetree.


      Some important points about app passwords:


      * You cannot view an app password or adjust permissions after you create the app password. Because app passwords are encrypted on our database and cannot be viewed by anyone. They are essentially designed to be disposable. If you need to change the scopes or lost the password just create a new one.

      * You cannot use them to log into your Bitbucket account.

      * You cannot use app passwords to manage team actions.

          App passwords are tied to an individual account's credentials and should not be shared. If you're sharing your app password you're essentially giving direct, authenticated, access to everything that password has been scoped to do with the Bitbucket API's.

      * You can use them for API call authentication, even if you don't have two-step verification enabled.

      * You can set permission scopes (specific access rights) for each app password.


      ### Create an app password


      To create an app password:


      1. Select **Avatar > Bitbucket settings**.

      2. [Click **App passwords** in the Access management section.](https://bitbucket.org/account/admin/app-passwords)

      3. Click **Create app password**.

      4. Give the app password a name related to the application that will use the password.

      5. Select the specific access and permissions you want this application password to have.

      6. Copy the generated password and either record or paste it into the application you want to give access. The password is only displayed this one time.


      That's all there is to creating an app password. See your applications documentation for how to apply the app password for a specific application.


      ## Basic auth 


      Basic HTTP Authentication as per [RFC-2617](https://tools.ietf.org/html/rfc2617) (Digest not supported). Note that Basic Auth with username and password as credentials is only available on accounts that have 2-factor-auth / 2-step-verification disabled. If you use 2fa, you should authenticate using OAuth2 instead.
    title: Authentication methods
    description: How to authenticate API actions
    key: authentication
    icon: data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxOTcuNjQ3MyAxODYuODEzOCI+CiAgPGRlZnM+CiAgICA8c3R5bGU+CiAgICAgIC5jbHMtMSB7CiAgICAgICAgaXNvbGF0aW9uOiBpc29sYXRlOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICNkZTM1MGI7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsbDogI2ZmNTYzMDsKICAgICAgfQoKICAgICAgLmNscy00IHsKICAgICAgICBmaWxsOiAjZGZlMWU1OwogICAgICAgIG1peC1ibGVuZC1tb2RlOiBtdWx0aXBseTsKICAgICAgfQoKICAgICAgLmNscy01IHsKICAgICAgICBmaWxsOiAjZmFmYmZjOwogICAgICB9CgogICAgICAuY2xzLTYgewogICAgICAgIGZpbGw6ICNlYmVjZjA7CiAgICAgIH0KCiAgICAgIC5jbHMtNyB7CiAgICAgICAgZmlsbDogbm9uZTsKICAgICAgICBzdHJva2U6ICMwMDY1ZmY7CiAgICAgICAgc3Ryb2tlLW1pdGVybGltaXQ6IDEwOwogICAgICAgIHN0cm9rZS13aWR0aDogMnB4OwogICAgICB9CgogICAgICAuY2xzLTggewogICAgICAgIGZpbGw6ICM1ZTZjODQ7CiAgICAgIH0KCiAgICAgIC5jbHMtOSB7CiAgICAgICAgZmlsbDogIzI1Mzg1ODsKICAgICAgfQoKICAgICAgLmNscy0xMCB7CiAgICAgICAgZmlsbDogIzI2ODRmZjsKICAgICAgfQoKICAgICAgLmNscy0xMSB7CiAgICAgICAgZmlsbDogIzAwNjVmZjsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHRpdGxlPlNlY3VyaXR5IHdpdGggS2V5PC90aXRsZT4KICA8ZyBjbGFzcz0iY2xzLTEiPgogICAgPGcgaWQ9IkxheWVyXzIiIGRhdGEtbmFtZT0iTGF5ZXIgMiI+CiAgICAgIDxnIGlkPSJPYmplY3RzIj4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik00Mi4wNjcyLDBoLjYxMTRhOCw4LDAsMCwxLDgsOFYyMy4yMzM4YTAsMCwwLDAsMSwwLDBIMzQuMDY3MmEwLDAsMCwwLDEsMCwwVjhBOCw4LDAsMCwxLDQyLjA2NzIsMFoiLz4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0xMDguMjIsMGguNjExNGE4LDgsMCwwLDEsOCw4VjIzLjIzMzhhMCwwLDAsMCwxLDAsMEgxMDAuMjJhMCwwLDAsMCwxLDAsMFY4QTgsOCwwLDAsMSwxMDguMjIsMFoiLz4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0xNzQuMzcyMiwwaC42MTE0YTgsOCwwLDAsMSw4LDhWMjMuMjMzOGEwLDAsMCwwLDEsMCwwSDE2Ni4zNzIyYTAsMCwwLDAsMSwwLDBWOEE4LDgsMCwwLDEsMTc0LjM3MjIsMFoiLz4KICAgICAgICA8cmVjdCBjbGFzcz0iY2xzLTIiIHg9IjM0LjA2NzIiIHk9IjIzLjIzMzgiIHdpZHRoPSIxNjMuNTgiIGhlaWdodD0iMTYzLjU4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0yIiBkPSJNNDIuMDY3MiwwSDU5LjI5YTgsOCwwLDAsMSw4LDhWMjMuMjIyOGEwLDAsMCwwLDEsMCwwSDM0LjA2NzJhMCwwLDAsMCwxLDAsMFY4YTgsOCwwLDAsMSw4LThaIi8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMTA3LjI0NTgsMGgxNy4yMjI4YTgsOCwwLDAsMSw4LDhWMjMuMjIyOGEwLDAsMCwwLDEsMCwwSDk5LjI0NThhMCwwLDAsMCwxLDAsMFY4YTgsOCwwLDAsMSw4LThaIi8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMTcyLjQyNDQsMGgxNy4yMjI4YTgsOCwwLDAsMSw4LDhWMjMuMjIyOGEwLDAsMCwwLDEsMCwwSDE2NC40MjQ0YTAsMCwwLDAsMSwwLDBWOGE4LDgsMCwwLDEsOC04WiIvPgogICAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMyIgeD0iMTcuNDU1OCIgeT0iMjMuMjMzOCIgd2lkdGg9IjE2My41OCIgaGVpZ2h0PSIxNjMuNTgiLz4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik0yNS40NTU4LDBINDIuNjc4NmE4LDgsMCwwLDEsOCw4VjIzLjIyMjhhMCwwLDAsMCwxLDAsMEgxNy40NTU4YTAsMCwwLDAsMSwwLDBWOEE4LDgsMCwwLDEsMjUuNDU1OCwwWiIvPgogICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTkwLjYzNDQsMGgxNy4yMjI4YTgsOCwwLDAsMSw4LDhWMjMuMjIyOGEwLDAsMCwwLDEsMCwwSDgyLjYzNDRhMCwwLDAsMCwxLDAsMFY4QTgsOCwwLDAsMSw5MC42MzQ0LDBaIi8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTU1LjgxMywwaDE3LjIyMjhhOCw4LDAsMCwxLDgsOFYyMy4yMjI4YTAsMCwwLDAsMSwwLDBIMTQ3LjgxM2EwLDAsMCwwLDEsMCwwVjhBOCw4LDAsMCwxLDE1NS44MTMsMFoiLz4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTMiIGQ9Ik0yNS40NTU4LDBINDIuNjc4NmE4LDgsMCwwLDEsOCw4VjIzLjIyMjhhMCwwLDAsMCwxLDAsMEgxNy40NTU4YTAsMCwwLDAsMSwwLDBWOEE4LDgsMCwwLDEsMjUuNDU1OCwwWiIvPgogICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTkwLjYzNDQsMGgxNy4yMjI4YTgsOCwwLDAsMSw4LDhWMjMuMjIyOGEwLDAsMCwwLDEsMCwwSDgyLjYzNDRhMCwwLDAsMCwxLDAsMFY4QTgsOCwwLDAsMSw5MC42MzQ0LDBaIi8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTU1LjgxMywwaDE3LjIyMjhhOCw4LDAsMCwxLDgsOFYyMy4yMjI4YTAsMCwwLDAsMSwwLDBIMTQ3LjgxM2EwLDAsMCwwLDEsMCwwVjhBOCw4LDAsMCwxLDE1NS44MTMsMFoiLz4KICAgICAgICA8cmVjdCBjbGFzcz0iY2xzLTIiIHg9IjM1Ljc1OTYiIHk9IjU2LjgwNjUiIHdpZHRoPSIzMy4yMjI4IiBoZWlnaHQ9IjE1LjYwMzgiLz4KICAgICAgICA8cmVjdCBjbGFzcz0iY2xzLTIiIHg9IjEzMS4yMDE2IiB5PSIxMzYuOTYxNSIgd2lkdGg9IjMzLjIyMjgiIGhlaWdodD0iMTUuNjAzOCIvPgogICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTU3LjM3MDksNzEuNjAzNmg3MC43NWE5LDksMCwwLDEsOSw5djM1LjM3NDlhNDQuMzc0OCw0NC4zNzQ4LDAsMCwxLTQ0LjM3NDgsNDQuMzc0OGgwYTQ0LjM3NDgsNDQuMzc0OCwwLDAsMS00NC4zNzQ4LTQ0LjM3NDhWODAuNjAzNkE5LDksMCwwLDEsNTcuMzcwOSw3MS42MDM2WiIvPgogICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtNSIgZD0iTTY2LjM3MSw2Ni42NjE3aDcwLjc1YTksOSwwLDAsMSw5LDl2MzUuMzc0OWE0NC4zNzQ4LDQ0LjM3NDgsMCwwLDEtNDQuMzc0OCw0NC4zNzQ4aDBBNDQuMzc0OCw0NC4zNzQ4LDAsMCwxLDU3LjM3MSwxMTEuMDM2NlY3NS42NjE3YTksOSwwLDAsMSw5LTlaIi8+CiAgICAgICAgPHBhdGggaWQ9Il9SZWN0YW5nbGVfIiBkYXRhLW5hbWU9IiZsdDtSZWN0YW5nbGUmZ3Q7IiBjbGFzcz0iY2xzLTYiIGQ9Ik02MS4zNzEsNjYuNjYxN2g3MC43NWE5LDksMCwwLDEsOSw5djM1LjM3NDlhNDQuMzc0OCw0NC4zNzQ4LDAsMCwxLTQ0LjM3NDgsNDQuMzc0OGgwQTQ0LjM3NDgsNDQuMzc0OCwwLDAsMSw1Mi4zNzEsMTExLjAzNjZWNzUuNjYxN0E5LDksMCwwLDEsNjEuMzcxLDY2LjY2MTdaIi8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy03IiBkPSJNOTYuNzQ1OSwxNDcuNzQ0MWEzNi43NDg3LDM2Ljc0ODcsMCwwLDEtMzYuNzA3NC0zNi43MDc0Vjc4LjA1ODRhMy43MzMzLDMuNzMzMywwLDAsMSwzLjcyOS0zLjcyOWg2NS45NTYzYTMuNzMzMywzLjczMzMsMCwwLDEsMy43MjksMy43Mjl2MzIuOTc4NEEzNi43NDg2LDM2Ljc0ODYsMCwwLDEsOTYuNzQ1OSwxNDcuNzQ0MVoiLz4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0xMDAuNjg5MywxNjMuMzE2N1YxMTEuMDk3M2EzLjk0NDMsMy45NDQzLDAsMCwwLTcuODg4NywwdjUyLjIyYTIyLjUyNTIsMjIuNTI1MiwwLDAsMC0xOC41NDc5LDIyLjE0YzAsLjQ1Ni4wMTc4LjkwNzguMDQ0NywxLjM1NzFIODIuMjFjLS4wNDE0LS40NDc0LS4wNjg4LS44OTktLjA2ODgtMS4zNTcxYTE0LjYyLDE0LjYyLDAsMCwxLDE0LjU5NzQtMTQuNjA0MWwuMDA2MS4wMDA2LjAwNjgtLjAwMDdBMTQuNjIxMSwxNC42MjExLDAsMCwxLDExMS4zNSwxODUuNDU2NmMwLC40NTgxLS4wMjczLjkxLS4wNjg4LDEuMzU3MWg3LjkxMjhjLjAyNjktLjQ0OTMuMDQ0Ny0uOTAxMS4wNDQ3LTEuMzU3MUEyMi41MjU5LDIyLjUyNTksMCwwLDAsMTAwLjY4OTMsMTYzLjMxNjdaIi8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy0yIiB4PSIxNy40NTU4IiB5PSIzNi40NzAyIiB3aWR0aD0iMzMuMjIyOCIgaGVpZ2h0PSIxNS42MDM4Ii8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy0yIiB4PSIxNy40NTU4IiB5PSIxNTguMTIxNyIgd2lkdGg9IjMzLjIyMjgiIGhlaWdodD0iMTUuNjAzOCIvPgogICAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMTQ3LjgxMyIgeT0iMzYuNDcwMiIgd2lkdGg9IjMzLjIyMjgiIGhlaWdodD0iMTUuNjAzOCIvPgogICAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMTUwLjA2NDMiIHk9IjE1Ny41NTEzIiB3aWR0aD0iMzMuMjIyOCIgaGVpZ2h0PSIxNS42MDM4Ii8+CiAgICAgICAgPHBhdGggaWQ9Il9QYXRoXyIgZGF0YS1uYW1lPSImbHQ7UGF0aCZndDsiIGNsYXNzPSJjbHMtOCIgZD0iTTEwNy41MjU0LDEwMS4wMDI3YTExLjc3OTQsMTEuNzc5NCwwLDEsMC0xOS44Niw4LjU1NDhBNC4wNDE3LDQuMDQxNywwLDAsMSw4OC44NSwxMTMuNjJsLTIuMTA0LDcuMjY4MWEzLDMsMCwwLDAsMi44ODE3LDMuODM0MmgxMi4yMzcxYTMsMywwLDAsMCwyLjg4MTctMy44MzQybC0yLjA5NTktNy4yNGE0LjA3NDMsNC4wNzQzLDAsMCwxLDEuMTgwOC00LjA5NDVBMTEuNzE3MiwxMS43MTcyLDAsMCwwLDEwNy41MjU0LDEwMS4wMDI3WiIvPgogICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtOSIgZD0iTTEwNC43NDYxLDEyMC44ODc3bC0yLjA5NTktNy4yNGE0LjA3NDQsNC4wNzQ0LDAsMCwxLDEuMTgwOC00LjA5NDUsMTEuNzYyOSwxMS43NjI5LDAsMCwwLTUuMDYtMTkuOTMxMywxMS45MSwxMS45MSwwLDAsMC04Ljc5OCwxMC45OTQ5LDExLjcxODUsMTEuNzE4NSwwLDAsMCwzLjY5MjksOC45NDFBNC4wNDE2LDQuMDQxNiwwLDAsMSw5NC44NSwxMTMuNjJsLTMuMjE0LDExLjEwMjNoMTAuMjI4OEEzLDMsMCwwLDAsMTA0Ljc0NjEsMTIwLjg4NzdaIi8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0xMCIgZD0iTTgxLjc5NzUsMTAwLjMxYTMuOTQzOSwzLjk0MzksMCwwLDAtMy45NDQzLTMuOTQ0M0g0MS4wNDE3YTMuOTQ0MywzLjk0NDMsMCwwLDAsMCw3Ljg4ODdINzcuODUzMkEzLjk0MzksMy45NDM5LDAsMCwwLDgxLjc5NzUsMTAwLjMxWiIvPgogICAgICAgIDxwYXRoIGlkPSJfUGF0aF8yIiBkYXRhLW5hbWU9IiZsdDtQYXRoJmd0OyIgY2xhc3M9ImNscy0xMSIgZD0iTTQxLjA0MTYsMTA0LjI1MzlIOTYuODUzMmEzLjk0NDMsMy45NDQzLDAsMCwwLDAtNy44ODg3SDQxLjA0MTZhMy45NDQzLDMuOTQ0MywwLDAsMCwwLDcuODg4N1oiLz4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTEwIiBkPSJNODEuNzk3NSwxMDAuMzFhMy45NDM5LDMuOTQzOSwwLDAsMC0zLjk0NDMtMy45NDQzSDQxLjA0MTdhMy45NDQzLDMuOTQ0MywwLDAsMCwwLDcuODg4N0g3Ny44NTMyQTMuOTQzOSwzLjk0MzksMCwwLDAsODEuNzk3NSwxMDAuMzFaIi8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0xMCIgZD0iTTIyLjQ5MzIsMTIyLjgwMjlBMjIuNDkyOSwyMi40OTI5LDAsMSwxLDQ0Ljk4NTgsMTAwLjMxLDIyLjUxODUsMjIuNTE4NSwwLDAsMSwyMi40OTMyLDEyMi44MDI5Wm0wLTM3LjA5NzJBMTQuNjA0MiwxNC42MDQyLDAsMSwwLDM3LjA5NzIsMTAwLjMxLDE0LjYyMDcsMTQuNjIwNywwLDAsMCwyMi40OTMyLDg1LjcwNTdaIi8+CiAgICAgIDwvZz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=
  - content: >+
      
      # Filter and sort API objects


      You can query the 2.0 API for specific objects using a simple language which resembles SQL.


      Note that filtering and querying by username has been deprecated, due to privacy changes. 

      See the [announcement](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#changes-to-querying) 

      for details.


      ---

      **On this page**


      * [Supported endpoints](#supp-endpoints)

      * [Operators](#operators)

      * [Data types](#data-types)

      * [Querying](#querying)
          * [Repositoriess](#query-repo)
          * [Pull requests](#query-pullreq)
          * [Issues](#query-issues)
          * [Refs, tags, bookmarks](#query-ref)
      * [Sorting query results](#query-sort)


      ----


      ### Supported endpoints 


      Several 2.0 API resources that return collections of objects all support a single, shared, generic querying language that is used to filter down a result set.


      Currently, the endpoints which support filtering and sorting include:

          /2.0/repositories/{username}
          /2.0/repositories/{username}/{slug}/refs
          /2.0/repositories/{username}/{slug}/refs/branches
          /2.0/repositories/{username}/{slug}/refs/tags
          /2.0/repositories/{username}/{slug}/forks
          /2.0/repositories/{username}/{slug}/src
          /2.0/repositories/{username}/{slug}/issues
          /2.0/repositories/{username}/{slug}/pullrequests

      Filtering and sorting supports several distinct operators and data types as well as basic features, like logical operators (AND, OR) as shown in the following examples:

      	(state = "open" OR state = "new") AND assignee = null
      	reporter.username != "evzijst" AND priority >= "major"
      	(title ~ "unicode" OR content.raw ~ "unicode") AND created_on > 2015-10-04T14:00:00-07:00

      Filter queries can be added to the URL using the q= query parameter. To sort the response, add sort=. Note that the entire query string is put in the q parameter and hence needs to be URL-encoded as shown in the following example:

      	/2.0/repositories/foo/bar/issues?q=state="new"&sort=-updated_on

      ### Operators 


      Filtering and sorting supports the following operators:


      
      Operator	Definition	Example
      "="	test for equality	username = "evzijst"
      "!="	not equal	is_private != true
      "~"	case-insensitive text contains	description ~ "beef"
      "!~"	case-insensitive not contains	description !~ "fubar"
      ">"	greater than	priority > "major"
      ">="	greater than or equal	priority <= "trivial"
      "<"	less than	id < 1234
      "<="	less than or equal	updated_on <= 2015-03-04



      ### Data types 


      Filtering and sorting supports the following data types:


      
      Type	Description	Example
      String	any text inside double quotes	"foo"
      Number	arbitrary precision integers and floats	1, -10.302
      Null	to test for the absence of a value	null
      boolean	the unquoted strings true or false	true, false
      datetime	an unquoted ISO-8601 date time string with the timezone offset, milliseconds and entire time component being optional	2015-03-04T14:08:59.123+02:00, 2015-03-04T14:08:59 Date time strings are assumed to be in UTC, unless an explicit timezone offset is provided.



      ## Querying 


      Objects can be filtered based on their properties. In principle, every element in an object's JSON document can be used as a filter criterion.


      ### Repositories 


      You can query the following fields in the repository resource:

          uuid (string)
          full_name (string)
          scm (string)
          owner (embedded user object)
          name (string)
          description (string)
          created_on (datetime)
          updated_on (datetime)
          size (number)
          language (string)
          parent (embedded repository object)
          fork_policy (string)
          is_private (boolean)
          has_issues (boolean)
          has_wiki (boolean)

      Fields that contain embedded instances of other object types (e.g. owner is an embedded user object, while parent is an embedded repository) can be traversed recursively. For instance:

      	parent.owner.username = "bitbucket"

      ### Pull Requests 


      You can query the following fields in the pull request resource:

          id (number)
          title (string)
          description (string)
          author (embedded user object)
          reviewers (embedded user object)
          state (string)
          source.repository (embedded repository object)
          source.branch.name (string)
          destination.repository (embedded repository object)
          destination.branch.name (string)
          close_source_branch (boolean)
          closed_by (embedded user object)
          reason (string)
          created_on (datetime)
          updated_on (datetime)
          task_count (number)
          comment_count (number)

      **For example**


      To find pull requests which merge into master, come from a fork of the repo rather than a branch inside the repo, and on which I am a reviewer:


      ```

      source.repository.full_name != "main/repo" AND state = "OPEN" AND reviewers.username = "evzijst" AND destination.branch.name = "master"

      ```

      ```

      /2.0/repositories/main/repo/pullrequests?q=source.repository.full_name+%21%3D+%22main%2Frepo%22+AND+state+%3D+%22OPEN%22+AND+reviewers.username+%3D+%22evzijst%22+AND+destination.branch.name+%3D+%22master%22

      ```


      ### Issues 


      You can query the following fields in the issues resource:

          id (number)
          title (string)
          reporter (embedded user object)
          assignee (embedded user object)
          content.raw (string)
          created_on (datetime)
          updated_on (datetime)
          state (string)
          kind (string)
          priority (string)
          version (string)
          component (string)
          milestone (string)
          watches (number)
          votes (number)

      **For example**


      To find new or on-hold issues related to the UI, created or updated in the last day (SF local time), that have not yet been assigned to anyone:


      ```

      (state = "new" OR state = "on hold") AND assignee = null AND component = "UI" and updated_on > 2015-11-11T00:00:00-07:00

      ```

      ```

      /2.0/repositories/main/repo/issues?q=%28state+%3D+%22new%22+OR+state+%3D+%22on+hold%22%29+AND+assignee+%3D+null+AND+component+%3D+%22UI%22+and+updated_on+%3E+2015-11-11T00%3A00%3A00-07%3A00

      ```


      ### Refs (Branches/Tags/Bookmarks) 


      You can query the following fields in the refs resource:

          name (string)
          type (string)

      **For example**


      To find all tags with the string "2015" in the name:


      ```

      name ~ "2015"

      ```

      ```

      /2.0/repositories/{username}/{slug}/refs/tags?q=name+%7E+%222015%22

      ```

      Or all my branches and bookmarks:


      ```

      name ~ "erik/"

      ```

      ```

      /2.0/repositories/{username}/{slug}/refs/tags?q=name+%7E+%22erik%2F%22

      ```

      ## Sorting query results 


      You can sort result sets using the ?sort= query parameter, available on the same resources that support filtering:


      * In principle, every field that can be queried can also be used as a key for sorting.

      * By default the sort order is ascending. To reverse the order, prefix the field name with a hyphen (e.g. ?sort=-updated_on).

      * Only one field can be sorted on. Compound fields (e.g. sort on state first, followed by updated_on) are not supported.


    title: Filter and sort API objects
    description: Query the 2.0 API for specific objects
    key: filtering
    icon: data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTk0LjE5MTkgMTQ3LjYwOTIiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGlzb2xhdGlvbjogaXNvbGF0ZTsKICAgICAgfQoKICAgICAgLmNscy0yIHsKICAgICAgICBmaWxsOiAjY2ZkNGRiOwogICAgICB9CgogICAgICAuY2xzLTMsIC5jbHMtNCB7CiAgICAgICAgZmlsbDogIzg3NzdkOTsKICAgICAgfQoKICAgICAgLmNscy00IHsKICAgICAgICBtaXgtYmxlbmQtbW9kZTogbXVsdGlwbHk7CiAgICAgIH0KCiAgICAgIC5jbHMtNSB7CiAgICAgICAgZmlsbDogIzAwNjVmZjsKICAgICAgfQoKICAgICAgLmNscy02IHsKICAgICAgICBmaWxsOiAjY2NlMGZmOwogICAgICB9CgogICAgICAuY2xzLTcgewogICAgICAgIGZpbGw6IHVybCgjbGluZWFyLWdyYWRpZW50KTsKICAgICAgfQogICAgPC9zdHlsZT4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iNDE2LjMwODIiIHkxPSI3NS4wNDc5IiB4Mj0iNTg0Ljg1NTYiIHkyPSI3NS4wNDc5IiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKC00NDMuOTQ2NyAxMjMuMDY4Nikgcm90YXRlKC0xMy43OTc2KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIwLjY5MDgiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMC4xIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8dGl0bGU+TWFnbmlmeWluZyBHbGFzczwvdGl0bGU+CiAgPGcgY2xhc3M9ImNscy0xIj4KICAgIDxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPgogICAgICA8ZyBpZD0iT2JqZWN0cyI+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMTMxLjExMjUsOTQuOTMwN2wtOS44ODc4LTUuOTg4OC04LjMyOTIsMTMuNzUxOSw5Ljg4NzgsNS45ODg4YTE1LjYwMywxNS42MDMsMCwwLDEsNS44OCw2LjM4MzVoMGExNS42MDMsMTUuNjAzLDAsMCwwLDUuODgsNi4zODM1bDQwLjExNDMsMjQuMjk2NGExMi44NjY0LDEyLjg2NjQsMCwwLDAsMTcuNjcwOS00LjM0aDBhMTIuODY2NCwxMi44NjY0LDAsMCwwLTQuMzQtMTcuNjcwOUwxNDcuODc0OSw5OS40MzkyYTE1LjYwMywxNS42MDMsMCwwLDAtOC4zODEyLTIuMjU0MmgwQTE1LjYwMywxNS42MDMsMCwwLDEsMTMxLjExMjUsOTQuOTMwN1oiLz4KICAgICAgICA8cGF0aCBpZD0iX1BhdGhfIiBkYXRhLW5hbWU9IiZsdDtQYXRoJmd0OyIgY2xhc3M9ImNscy0zIiBkPSJNMTMxLjExMjUsOTQuOTMwN2wtMy4wMTE4LTEuODI0MkE4LjAzODgsOC4wMzg4LDAsMCwwLDExNy4wNiw5NS44MTc4aDBhOC4wMzg4LDguMDM4OCwwLDAsMCwyLjcxMTMsMTEuMDQwNWwzLjAxMTgsMS44MjQyYTE1LjYwMywxNS42MDMsMCwwLDEsNS44OCw2LjM4MzVoMGExNS42MDMsMTUuNjAzLDAsMCwwLDUuODgsNi4zODM1bDQwLjExNDMsMjQuMjk2NGExMi44NjY0LDEyLjg2NjQsMCwwLDAsMTcuNjcwOS00LjM0aDBhMTIuODY2NCwxMi44NjY0LDAsMCwwLTQuMzQtMTcuNjcwOUwxNDcuODc0OSw5OS40MzkyYTE1LjYwMywxNS42MDMsMCwwLDAtOC4zODEyLTIuMjU0M2gwQTE1LjYwMywxNS42MDMsMCwwLDEsMTMxLjExMjUsOTQuOTMwN1oiLz4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0xMzkuMTQzNyw5Ny4xNzkyYTE1LjU5NzMsMTUuNTk3MywwLDAsMS04LjAzMTItMi4yNDg1bC0zLjAxMTgtMS44MjQyQTguMDM4OCw4LjAzODgsMCwwLDAsMTE3LjA2LDk1LjgxNzhoMGE4LjAzODgsOC4wMzg4LDAsMCwwLDIuNzExMywxMS4wNDA1bDMuMDExOCwxLjgyNDJhMTUuNTk3LDE1LjU5NywwLDAsMSw1LjcwNjksNi4wNjQ4LDY3Ljg0ODEsNjcuODQ4MSwwLDAsMCwxMC42NTM2LTE3LjU2ODFaIi8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy01IiBkPSJNODMuMjUzNywxMzIuNTU2QTY3LjIzNDgsNjcuMjM0OCwwLDAsMSw5LjcxLDMyLjQyOTUsNjYuNzk3NCw2Ni43OTc0LDAsMCwxLDUxLjE4MzcsMS45NjY2bC4wMDA3LDBBNjYuNzk2Miw2Ni43OTYyLDAsMCwxLDEwMi4wNTEsOS43NTI1aDBBNjcuMjM0Niw2Ny4yMzQ2LDAsMCwxLDgzLjI1MzcsMTMyLjU1NloiLz4KICAgICAgICA8cGF0aCBpZD0iX1BhdGhfMiIgZGF0YS1uYW1lPSImbHQ7UGF0aCZndDsiIGNsYXNzPSJjbHMtNiIgZD0iTTIzLjQzOSw0MC43NDgyQTUxLjE5MDgsNTEuMTkwOCwwLDAsMCwxMTEuMDEsOTMuNzg4OSw1MS4xOTA4LDUxLjE5MDgsMCwwLDAsMjMuNDM5LDQwLjc0ODJaIi8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy03IiBkPSJNNzkuNDMzLDExNi45ODJBNTEuMjE2Miw1MS4yMTYyLDAsMCwwLDExOC40MjQxLDY3LjAzN2E0OS4xMzkxLDQ5LjEzOTEsMCwwLDEtNS4wODY3LDIuMjc4OWMtMTUuNzAyOSw1Ljk2MDktMjkuNjg5NSwyLjExLTM2LjQ5ODcuMTMwOC0yMC40MzA3LTUuOTM5LTI0Ljc5LTE3LjM3ODUtMzkuMDQxNC0yNC41ODIzYTQ4LjMwOTIsNDguMzA5MiwwLDAsMC0xNC4wOTM5LTQuNTNjLS4wODYyLjEzOTUtLjE3OTMuMjczLS4yNjQ0LjQxMzVBNTEuMTkwNyw1MS4xOTA3LDAsMCwwLDc5LjQzMywxMTYuOTgyWiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K
  - content: >
      
      # Pagination


      Endpoints that return collections of objects should always apply pagination.

      Paginated collections are always wrapped in the following wrapper object:


      ```json

      {
        "size": 5421,
        "page": 2,
        "pagelen: 10,
        "next": "https://api.bitbucket.org/2.0/repositories/pypy/pypy/commits?page=3",
        "previous": "https://api.bitbucket.org/2.0/repositories/pypy/pypy/commits?page=1",
        "values": [
          ...
        ]
      }

      ```


      Pagination is often page-bound, with a query parameter page indicating which

      page is to be returned.


      However, clients are not expected to construct URLs themselves by manipulating

      the page number query parameter. Instead, the response contains a link to the

      next page. This link should be treated as an opaque location that is not to be

      constructed by clients or even assumed to be predictable. The only contract

      around the next link is that it will return the next chunk of results.


      Lack of a next link in the response indicates the end of the collection.


      The paginated response contains the following fields:


      
      Field	Value
      size	Total number of objects in the response. This is an optional element that is not provided in all responses, as it can be expensive to compute.
      page	Page number of the current results. This is an optional element that is not provided in all responses.
      pagelen	Current number of objects on the existing page. Globally, the minimum length is 10 and the maximum is 100. Some APIs may specify a different default.
      next	Link to the next page if it exists. The last page of a collection does not have this value. Use this link to navigate the result set and refrain from constructing your own URLs.
      previous	Link to previous page if it exists. A collections first page does not have this value. This is an optional element that is not provided in all responses. Some result sets strictly support forward navigation and never provide previous links. Clients must anticipate that backwards navigation is not always available. Use this link to navigate the result set and refrain from constructing your own URLs.
      values	The list of objects. This contains at most pagelen objects.



      The link to the next page is included such that you don't have to hardcode or construct any links.  Only values and next are guaranteed (except the last page, which lacks next). This is because the previous and size values can be expensive for some data sets.


      It is important to realize that Bitbucket support both list-based pagination and iterator-based pagination. List-based pagination assumes that the collection is a discrete, immutable, consistently ordered, finite array of objects with a fixed size. Clients navigate a list-based collection by requesting offset-based chunks. In Bitbucket Cloud, list-based responses include the optional size, page, and previous element. The the next and previous links typically resemble something like /foo/bar?page=4.


      However, not all result sets can be treated as immutable and finite â€“ much like how programming languages tend to distinguish between lists and arrays on one hand and iterators or stream on the other. Where an list-based pagination offers random access into any point in a collection, iterator-based pagination can only navigate forward one element at a time. In Bitbucket such iterator-based pagination contains the next link and pagelen elements, but not necessarily anything else. In these cases, the next link's value often contains an unpredictable hash instead of an explicit page number. The commits resource uses iterator-based pagination.
    title: Pagination
    description: Learn more about pagination
    key: pagination
    icon: data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMjM4LjgyIDE1MS42Ij48ZGVmcz48c3R5bGU+LmNscy0xe2ZpbGw6I2IyZDRmZjt9LmNscy0ye2ZpbGw6IzRjOWFmZjt9LmNscy0ze2ZpbGw6IzAwNTJjYzt9LmNscy00e29wYWNpdHk6MC42O30uY2xzLTV7ZmlsbDp1cmwoI2xpbmVhci1ncmFkaWVudCk7fS5jbHMtNntmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50LTIpO30uY2xzLTd7ZmlsbDp1cmwoI2xpbmVhci1ncmFkaWVudC0zKTt9LmNscy04e2ZpbGw6dXJsKCNsaW5lYXItZ3JhZGllbnQtNCk7fS5jbHMtOXtmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50LTUpO30uY2xzLTEwLC5jbHMtMTEsLmNscy0xMntmaWxsOm5vbmU7fS5jbHMtMTB7c3Ryb2tlOiMzMzg0ZmY7fS5jbHMtMTAsLmNscy0xMSwuY2xzLTEyLC5jbHMtMTN7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjJweDt9LmNscy0xMXtzdHJva2U6I2ZmYWIwMDt9LmNscy0xMntzdHJva2U6I2ZhZmJmYzt9LmNscy0xM3tmaWxsOiNmZmFiMDA7c3Ryb2tlOiMyNjg0ZmY7fTwvc3R5bGU+PGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQiIHkxPSI2NS4xNyIgeDI9Ijg2LjM4IiB5Mj0iNjUuMTciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM0YzlhZmYiLz48c3RvcCBvZmZzZXQ9IjAuMDgiIHN0b3AtY29sb3I9IiM0YzlhZmYiIHN0b3Atb3BhY2l0eT0iMC45NCIvPjxzdG9wIG9mZnNldD0iMC4yNCIgc3RvcC1jb2xvcj0iIzRjOWFmZiIgc3RvcC1vcGFjaXR5PSIwLjc4Ii8+PHN0b3Agb2Zmc2V0PSIwLjQ1IiBzdG9wLWNvbG9yPSIjNGM5YWZmIiBzdG9wLW9wYWNpdHk9IjAuNTMiLz48c3RvcCBvZmZzZXQ9IjAuNTUiIHN0b3AtY29sb3I9IiM0YzlhZmYiIHN0b3Atb3BhY2l0eT0iMC40Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudC0yIiB4MT0iMTUyLjQ0IiB5MT0iNjUuMTciIHgyPSIyMzguODIiIHkyPSI2NS4xNyIgeGxpbms6aHJlZj0iI2xpbmVhci1ncmFkaWVudCIvPjxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50LTMiIHgxPSIxOC44NSIgeTE9IjExOC43OCIgeDI9IjEyNi4wOCIgeTI9IjExLjU2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwLjA2IiBzdG9wLWNvbG9yPSIjMDA2NWZmIi8+PHN0b3Agb2Zmc2V0PSIwLjE5IiBzdG9wLWNvbG9yPSIjMDA2NWZmIiBzdG9wLW9wYWNpdHk9IjAuOTQiLz48c3RvcCBvZmZzZXQ9IjAuNDYiIHN0b3AtY29sb3I9IiMwMDY1ZmYiIHN0b3Atb3BhY2l0eT0iMC43OCIvPjxzdG9wIG9mZnNldD0iMC44MiIgc3RvcC1jb2xvcj0iIzAwNjVmZiIgc3RvcC1vcGFjaXR5PSIwLjUzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDA2NWZmIiBzdG9wLW9wYWNpdHk9IjAuNCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQtNCIgeDE9IjExMi43NSIgeTE9IjExOC43OCIgeDI9IjIxOS45NyIgeTI9IjExLjU2IiB4bGluazpocmVmPSIjbGluZWFyLWdyYWRpZW50LTMiLz48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudC01IiB4MT0iNTAuOTciIHkxPSIxMzMuNjEiIHgyPSIxODcuODYiIHkyPSItMy4yOCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMC42NiIgc3RvcC1jb2xvcj0iIzI1Mzg1OCIvPjxzdG9wIG9mZnNldD0iMC44OCIgc3RvcC1jb2xvcj0iIzI1Mzg1OCIgc3RvcC1vcGFjaXR5PSIwLjgzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMjUzODU4IiBzdG9wLW9wYWNpdHk9IjAuNyIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjx0aXRsZT5WaWV3IFZlcnNpb25zPC90aXRsZT48ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj48ZyBpZD0iU29mdHdhcmUiPjxjaXJjbGUgY2xhc3M9ImNscy0xIiBjeD0iOTQuNTMiIGN5PSIxNDcuOTMiIHI9IjMuNjciLz48Y2lyY2xlIGNsYXNzPSJjbHMtMiIgY3g9IjEwNi45NCIgY3k9IjE0Ny45MyIgcj0iMy42NyIvPjxjaXJjbGUgY2xhc3M9ImNscy0zIiBjeD0iMTE5LjM0IiBjeT0iMTQ3LjkzIiByPSIzLjY3Ii8+PGNpcmNsZSBjbGFzcz0iY2xzLTIiIGN4PSIxMzEuNzUiIGN5PSIxNDcuOTMiIHI9IjMuNjciLz48Y2lyY2xlIGNsYXNzPSJjbHMtMSIgY3g9IjE0NC4xNiIgY3k9IjE0Ny45MyIgcj0iMy42NyIvPjxnIGNsYXNzPSJjbHMtNCI+PHJlY3QgaWQ9Il9SZWN0YW5nbGVfIiBkYXRhLW5hbWU9IiZsdDtSZWN0YW5nbGUmZ3Q7IiBjbGFzcz0iY2xzLTUiIHk9IjI1LjkyIiB3aWR0aD0iODYuMzgiIGhlaWdodD0iNzguNDkiLz48L2c+PGcgY2xhc3M9ImNscy00Ij48cmVjdCBpZD0iX1JlY3RhbmdsZV8yIiBkYXRhLW5hbWU9IiZsdDtSZWN0YW5nbGUmZ3Q7IiBjbGFzcz0iY2xzLTYiIHg9IjE1Mi40NCIgeT0iMjUuOTIiIHdpZHRoPSI4Ni4zOCIgaGVpZ2h0PSI3OC40OSIvPjwvZz48cmVjdCBpZD0iX1JlY3RhbmdsZV8zIiBkYXRhLW5hbWU9IiZsdDtSZWN0YW5nbGUmZ3Q7IiBjbGFzcz0iY2xzLTciIHg9IjE2LjI4IiB5PSIxNC4xMiIgd2lkdGg9IjExMi4zNiIgaGVpZ2h0PSIxMDIuMDkiLz48cmVjdCBpZD0iX1JlY3RhbmdsZV80IiBkYXRhLW5hbWU9IiZsdDtSZWN0YW5nbGUmZ3Q7IiBjbGFzcz0iY2xzLTgiIHg9IjExMC4xOCIgeT0iMTQuMTIiIHdpZHRoPSIxMTIuMzYiIGhlaWdodD0iMTAyLjA5Ii8+PHJlY3QgaWQ9Il9SZWN0YW5nbGVfNSIgZGF0YS1uYW1lPSImbHQ7UmVjdGFuZ2xlJmd0OyIgY2xhc3M9ImNscy05IiB4PSI0Ny42OSIgd2lkdGg9IjE0My40NSIgaGVpZ2h0PSIxMzAuMzQiLz48bGluZSBjbGFzcz0iY2xzLTEwIiB4MT0iNzkuMTYiIHkxPSIxNi4xOCIgeDI9IjExNy4yNCIgeTI9IjE2LjE4Ii8+PGxpbmUgY2xhc3M9ImNscy0xMCIgeDE9IjYyLjkzIiB5MT0iMTYuMTgiIHgyPSI3Mi42IiB5Mj0iMTYuMTgiLz48bGluZSBjbGFzcz0iY2xzLTExIiB4MT0iNzkuMTYiIHkxPSIyNi45NSIgeDI9IjExNy4yNCIgeTI9IjI2Ljk1Ii8+PGxpbmUgY2xhc3M9ImNscy0xMCIgeDE9IjYyLjkzIiB5MT0iMjYuOTUiIHgyPSI3Mi42IiB5Mj0iMjYuOTUiLz48bGluZSBjbGFzcz0iY2xzLTEwIiB4MT0iNzkuMTYiIHkxPSIzNy43MiIgeDI9IjE1MC43IiB5Mj0iMzcuNzIiLz48bGluZSBjbGFzcz0iY2xzLTEwIiB4MT0iNjIuOTMiIHkxPSIzNy43MiIgeDI9IjcyLjYiIHkyPSIzNy43MiIvPjxsaW5lIGNsYXNzPSJjbHMtMTEiIHgxPSIxNTAuNyIgeTE9IjQ4LjQ5IiB4Mj0iMTc1LjU5IiB5Mj0iNDguNDkiLz48bGluZSBjbGFzcz0iY2xzLTEyIiB4MT0iMTEwLjMyIiB5MT0iNDguNDkiIHgyPSIxNDMuMDUiIHkyPSI0OC40OSIvPjxsaW5lIGNsYXNzPSJjbHMtMTEiIHgxPSI3OS4xNiIgeTE9IjQ4LjQ5IiB4Mj0iMTAxLjM3IiB5Mj0iNDguNDkiLz48bGluZSBjbGFzcz0iY2xzLTEwIiB4MT0iNjIuOTMiIHkxPSI0OC40OSIgeDI9IjcyLjYiIHkyPSI0OC40OSIvPjxsaW5lIGNsYXNzPSJjbHMtMTAiIHgxPSI3OS4xNiIgeTE9IjU5LjI2IiB4Mj0iMTUwLjciIHkyPSI1OS4yNiIvPjxsaW5lIGNsYXNzPSJjbHMtMTAiIHgxPSI2Mi45MyIgeTE9IjU5LjI2IiB4Mj0iNzIuNiIgeTI9IjU5LjI2Ii8+PGxpbmUgY2xhc3M9ImNscy0xMCIgeDE9Ijc5LjE2IiB5MT0iNzAuMDMiIHgyPSIxNzUuNTkiIHkyPSI3MC4wMyIvPjxsaW5lIGNsYXNzPSJjbHMtMTAiIHgxPSI2Mi45MyIgeTE9IjcwLjAzIiB4Mj0iNzIuNiIgeTI9IjcwLjAzIi8+PGxpbmUgY2xhc3M9ImNscy0xMSIgeDE9Ijc5LjE2IiB5MT0iODAuNzkiIHgyPSIxMTcuMjQiIHkyPSI4MC43OSIvPjxsaW5lIGNsYXNzPSJjbHMtMTAiIHgxPSI2Mi45MyIgeTE9IjgwLjc5IiB4Mj0iNzIuNiIgeTI9IjgwLjc5Ii8+PGxpbmUgY2xhc3M9ImNscy0xMyIgeDE9Ijc5LjE2IiB5MT0iOTEuNTYiIHgyPSIxNDkuMDYiIHkyPSI5MS41NiIvPjxsaW5lIGNsYXNzPSJjbHMtMTAiIHgxPSI2Mi45MyIgeTE9IjkxLjU2IiB4Mj0iNzIuNiIgeTI9IjkxLjU2Ii8+PGxpbmUgY2xhc3M9ImNscy0xMCIgeDE9IjYyLjkzIiB5MT0iODAuNzkiIHgyPSI3Mi42IiB5Mj0iODAuNzkiLz48bGluZSBjbGFzcz0iY2xzLTEwIiB4MT0iNjIuOTMiIHkxPSI5MS41NiIgeDI9IjcyLjYiIHkyPSI5MS41NiIvPjxsaW5lIGNsYXNzPSJjbHMtMTEiIHgxPSI3OS4xNiIgeTE9IjEwMi4zMyIgeDI9IjExNy4yNCIgeTI9IjEwMi4zMyIvPjxsaW5lIGNsYXNzPSJjbHMtMTAiIHgxPSI2Mi45MyIgeTE9IjEwMi4zMyIgeDI9IjcyLjYiIHkyPSIxMDIuMzMiLz48bGluZSBjbGFzcz0iY2xzLTEwIiB4MT0iMTI1Ljk4IiB5MT0iMTEzLjEiIHgyPSIxNDkuMDYiIHkyPSIxMTMuMSIvPjxsaW5lIGNsYXNzPSJjbHMtMTIiIHgxPSI3OS4xNiIgeTE9IjExMy4xIiB4Mj0iMTE3LjI0IiB5Mj0iMTEzLjEiLz48bGluZSBjbGFzcz0iY2xzLTEwIiB4MT0iNjIuOTMiIHkxPSIxMTMuMSIgeDI9IjcyLjYiIHkyPSIxMTMuMSIvPjwvZz48L2c+PC9zdmc+
  - content: >
      
      # Partial responses


      By default, each endpoint returns the full representation of a resource and in

      some cases that can be a lot of data. For example, retrieving a list of pull

      requests can amount to quite a large document.


      For better performance, you can ask the server to only return the fields you

      really need and to omit unwanted data. To request a partial response and to

      add or remove specific fields from a response, use the `fields` query

      parameter.



      ## Example


      Most API resources embed a substantial list of links pointing to related

      resources. This saves the client from constructing its own URLs, but is

      somewhat wasteful when the client doesn't need them.


      To significantly reduce the size of the response, use `?fields=-links`:


      ```json

      $ curl https://api.bitbucket.org/2.0/users/evzijst?fields=-links

      {
        "username": "evzijst",
        "nickname": "evzijst",
        "account_status": "active",
        "website": "",
        "display_name": "Erik van Zijst",
        "uuid": "{a288a0ab-e13b-43f0-a689-c4ef0a249875}",
        "created_on": "2010-07-07T05:16:36+00:00",
        "location": null,
        "type": "user"
      }

      ```


      ## Fields parameter syntax


      The `fields` parameter supports 3 modes of operation:


      1. Removal of select fields (e.g. `-links`)

      2. Pulling in additional fields not normally returned by an endpoint, while
         still getting all the default fields (e.g. `+reviewers`)
      3. Omitting all fields, except those specified (e.g. `owner.username`)


      The fields parameter can contain a list of multiple comma-separated field names

      (e.g. `fields=owner.username,uuid,links.self.href`). The parameter itself is

      not repeated.


      As discussed at [Condensed Versus Full Objects](serialization#representations),

      most objects that are embedded inside other objects (like how `owner` is an

      embedded `user` object in `repository`) appear in "condensed" form that omits

      many fields. The `fields` parameter allows us to pull in additional fields in

      such cases.


      For example, the embedded repository object in a pull request does not normally

      contain its `owner`. To add that in we can use:

      `+values.destination.repository.owner`.



      ## Wildcards


      The asterisk can be used to match all fields on a particular level. For

      example, removing all entries from the `links` element can be done like this:


      ```json

      $ curl https://api.bitbucket.org/2.0/users/evzijst?fields=-links.*

      {
        "username": "evzijst",
        "nickname": "evzijst",
        "account_status": "active",
        "website": "",
        "display_name": "Erik van Zijst",
        "uuid": "{a288a0ab-e13b-43f0-a689-c4ef0a249875}",
        "links": {},
        "created_on": "2010-07-07T05:16:36+00:00",
        "location": null,
        "type": "user"
      }

      ```


      Wildcards can be used in combination with exclusion and inclusion. For

      instance, `-*,+foo,+bar` will remove all elements from the root level and then

      add in `foo` and `bar`.



      ## URL encoding


      Be aware that when using the `+foo.bar` syntax in the query string, that the

      "+" must be URL encoded as "%2B" and so the URL will be:


      ```

      https://api.bitbucket.org/2.0/repositories/evzijst/interruptingcow?fields=%2Bowner.created_on

      ```


      Without URL escaping, "+" is interpreted as an encoded space which will not

      match any fields.



      ## Field discovery


      While a resource's `self` URL, as well its "collection" URL typically return

      the full object with all its fields, there are some exceptions for fields that

      are overly verbose or costly to generate.


      For instance, a pull request contains the embedded lists of reviewers and

      participants. These fields are included from the `self` URL, but not from the

      `/pullrequests` collections resource, as it would impact performance too much.


      To discover any additional fields that might not be included by default,

      `fields=*` can be used.



      ## More examples


      If we want to get a list of all reviewer usernames on pull requests I created,

      we could combine a [filter](filtering) with a partial response. This will omit

      all other data from the response:


      ```

      /2.0/repositories/bitbucket/bitbucket/pullrequests?fields=values.id,values.reviewers.username,values.state&q=author.username%3D%22erik%22

      {
        "values": [
          {
            "reviewers": [
              {
                "username": "abhin"
              },
              {
                "username": "dtao"
              },
              {
                "username": "csomme"
              }
            ],
            "state": "OPEN",
            "id": 11355
          },
          {
            "reviewers": [
              {
                "username": "csomme"
              },
              {
                "username": "abhin"
              },
              {
                "username": "dstevens"
              }
            ],
            "state": "MERGED",
            "id": 11347
          },
          {
            "reviewers": [
              {
                "username": "csomme"
              },
              {
                "username": "jmooring"
              },
              {
                "username": "zdavis"
              },
              {
                "username": "flexbox"
              }
            ],
            "state": "OPEN",
            "id": 11344
          }
        ]
      }

      ```
    title: Partial responses
    description: Tweak which fields are returned
    key: partial-response
    icon: data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTYyLjQ0ODcgMjEwLjExMTUiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGlzb2xhdGlvbjogaXNvbGF0ZTsKICAgICAgfQoKICAgICAgLmNscy0yLCAuY2xzLTYsIC5jbHMtOCB7CiAgICAgICAgZmlsbDogbm9uZTsKICAgICAgfQoKICAgICAgLmNscy0yLCAuY2xzLTggewogICAgICAgIHN0cm9rZTogIzAwNjVmZjsKICAgICAgICBzdHJva2Utd2lkdGg6IDJweDsKICAgICAgfQoKICAgICAgLmNscy0yIHsKICAgICAgICBzdHJva2UtbGluZWpvaW46IHJvdW5kOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGw6ICNlN2U4ZWM7CiAgICAgIH0KCiAgICAgIC5jbHMtNCB7CiAgICAgICAgZmlsbDogI2ZmZTM4MDsKICAgICAgfQoKICAgICAgLmNscy01IHsKICAgICAgICBmaWxsOiAjZmZmMGIyOwogICAgICB9CgogICAgICAuY2xzLTYgewogICAgICAgIHN0cm9rZTogI2ZmOTkxZjsKICAgICAgICBzdHJva2Utd2lkdGg6IDEuODE1NnB4OwogICAgICB9CgogICAgICAuY2xzLTYsIC5jbHMtOCB7CiAgICAgICAgc3Ryb2tlLW1pdGVybGltaXQ6IDEwOwogICAgICB9CgogICAgICAuY2xzLTcgewogICAgICAgIG1peC1ibGVuZC1tb2RlOiBtdWx0aXBseTsKICAgICAgICBmaWxsOiB1cmwoI2xpbmVhci1ncmFkaWVudCk7CiAgICAgIH0KCiAgICAgIC5jbHMtOSB7CiAgICAgICAgZmlsbDogI2Y0ZjVmNzsKICAgICAgfQogICAgPC9zdHlsZT4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB4MT0iMTEzLjM4MTgiIHkxPSI0OS40MyIgeDI9IjE1My43ODkzIiB5Mj0iOS4wMjI1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZhZmJmYyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuMjc4NiIgc3RvcC1jb2xvcj0iI2VmZjFmMyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjAuNzY4OCIgc3RvcC1jb2xvcj0iI2QxZDZkZCIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNjMWM3ZDAiLz4KICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgPC9kZWZzPgogIDx0aXRsZT5Eb2N1bWVudCBUYWJsZTwvdGl0bGU+CiAgPGcgY2xhc3M9ImNscy0xIj4KICAgIDxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPgogICAgICA8ZyBpZD0iT2JqZWN0cyI+CiAgICAgICAgPGxpbmUgY2xhc3M9ImNscy0yIiB4MT0iMTcuNDcxIiB5MT0iMTcxLjc1NzMiIHgyPSI3OS4yOTgiIHkyPSIxNzEuNzU3MyIvPgogICAgICAgIDxwb2x5Z29uIGlkPSJfUGF0aF8iIGRhdGEtbmFtZT0iJmx0O1BhdGgmZ3Q7IiBjbGFzcz0iY2xzLTMiIHBvaW50cz0iMTYyLjQ0NSAzOC43MTEgMTYyLjQ0NSAyMTAuMTExIDAgMjEwLjExMSAwIDAgMTIzLjcwNCAwIDE2Mi40MTUgMzguNzExIDE2Mi40NDUgMzguNzExIi8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy00IiB4PSIxOC45MTE3IiB5PSI3OC4xNTQyIiB3aWR0aD0iNDcuODQ4NSIgaGVpZ2h0PSI3OS42NTM3Ii8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy01IiB4PSIxOC45MTE3IiB5PSI1MS42MDMiIHdpZHRoPSIxMjMuNDUyOSIgaGVpZ2h0PSIyNi41NTEyIi8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy02IiB4PSIxOC45MTE3IiB5PSI1MS42MDMiIHdpZHRoPSIxMjMuNDUyOSIgaGVpZ2h0PSIxMDYuMjA0OSIvPgogICAgICAgIDxsaW5lIGNsYXNzPSJjbHMtNiIgeDE9IjY2Ljc2MDEiIHkxPSI1MS42MDMiIHgyPSI2Ni43NjAxIiB5Mj0iMTU3LjgwNzkiLz4KICAgICAgICA8bGluZSBjbGFzcz0iY2xzLTYiIHgxPSI5MS4zMjg0IiB5MT0iNTEuNjAzIiB4Mj0iOTEuMzI4NCIgeTI9IjE1Ny44MDc5Ii8+CiAgICAgICAgPGxpbmUgY2xhc3M9ImNscy02IiB4MT0iMTE1Ljg5NjciIHkxPSI1MS42MDMiIHgyPSIxMTUuODk2NyIgeTI9IjE1Ny44MDc5Ii8+CiAgICAgICAgPGxpbmUgY2xhc3M9ImNscy02IiB4MT0iMTguOTExNyIgeTE9Ijc4LjE1NDIiIHgyPSIxNDIuMzY0NiIgeTI9Ijc4LjE1NDIiLz4KICAgICAgICA8bGluZSBjbGFzcz0iY2xzLTYiIHgxPSIxOC45MTE3IiB5MT0iMTA0LjcwNTUiIHgyPSIxNDIuMzY0NiIgeTI9IjEwNC43MDU1Ii8+CiAgICAgICAgPGxpbmUgY2xhc3M9ImNscy02IiB4MT0iMTguOTExNyIgeTE9IjEzMS4yNTY3IiB4Mj0iMTQyLjM2NDYiIHkyPSIxMzEuMjU2NyIvPgogICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtNyIgcG9pbnRzPSIxNjIuNDQ1IDM4LjcxMSAxNjIuNDE1IDM4LjcxMSAxMjMuODcyIDAuMTY5IDEyMy44NzIgNTkuOTIxIDE2Mi40NDUgMzkuMTM3IDE2Mi40NDUgMzguNzExIi8+CiAgICAgICAgPGxpbmUgY2xhc3M9ImNscy04IiB4MT0iMTguMzk3MyIgeTE9IjE4MS4zNDQiIHgyPSI3OS4xMTM1IiB5Mj0iMTgxLjM0NCIvPgogICAgICAgIDxsaW5lIGNsYXNzPSJjbHMtOCIgeDE9IjE4LjM5NzMiIHkxPSIxOTAuOTMwNiIgeDI9IjUxLjMwNDkiIHkyPSIxOTAuOTMwNiIvPgogICAgICAgIDxsaW5lIGNsYXNzPSJjbHMtOCIgeDE9IjE4LjM5NzMiIHkxPSIxNzEuNzU3MyIgeDI9Ijc5LjExMzUiIHkyPSIxNzEuNzU3MyIvPgogICAgICAgIDxsaW5lIGNsYXNzPSJjbHMtOCIgeDE9IjE4LjM5NzMiIHkxPSIzNi4xNzA1IiB4Mj0iNzkuMTEzNSIgeTI9IjM2LjE3MDUiLz4KICAgICAgICA8bGluZSBjbGFzcz0iY2xzLTgiIHgxPSIxOC4zOTczIiB5MT0iMjYuNTgzOCIgeDI9Ijc5LjExMzUiIHkyPSIyNi41ODM4Ii8+CiAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy05IiBwb2ludHM9IjE2Mi40NDkgMzguNzQyIDEyMy43MDcgMzguNzQyIDEyMy43MDcgMCAxNjIuNDQ5IDM4Ljc0MiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K
  - content: >
      
      # Open API Specification and Object Representations


      ----


      *On this page*


      * [Open API Specification](#oai)

      * [JSON Schema](#jsonschema)

      * [Condensed Versus Full Objects](#representations)


      ____



      ## Open API Specification 


      Bitbucket uses the [Open API Specification](https://openapis.org) (OAI,

      formerly known as Swagger) to describe its APIs. Our OAI specification schema

      is hosted at [https://api.bitbucket.org/swagger.json](https://api.bitbucket.org/swagger.json)

      and serves as the canonical definition and comprehensive declaration of all

      available endpoints.


      The OAI specification makes writing client applications easier by:

      auto-generating boilerplate code (like data object classes) and dealing with

      authentication and error handling.


      You can find a comprehensive set of open tools for the OAI specification at:

      [https://github.com/swagger-api](https://github.com/swagger-api).



      ## JSON Schema 


      Bitbucket uses JSON Schema to describe the layout of every type of object

      consumed or produced by the API. These schemas are collected under the

      `#definitions` element of our swagger.json file.


      When an endpoint expects an object as part of a POST or PUT, it also expects

      the object to validate against the JSON schemas. The same applies to objects

      returned by an endpoint.



      ## Condensed Versus Full Objects 


      Most objects in Bitbucket come both in "full" and "partial" representation.

      The full representation is when all elements are included. This is the layout

      returned by a resource's `self` location (e.g. `/2.0/repositories/foo/bar`),

      as well as resource collection endpoints (e.g. `/2.0/repositories`).


      However, Bitbucket objects often embed other objects. For example, a `repository`

      object embeds a `user` object for its owner. Likewise, a `pullrequest` object

      embeds its `repository` object.


      These related objects are embedded, or inlined, to reduce the "chatter" when

      clients make frequent followup API calls to collect information on common,

      related information.


      Embedded related objects are typically limited in their fields to avoid such

      object graphs from becoming too deep and noisy. They often exclude their own

      nested objects in an attempt to strike a balance between performance and

      utility.


      An object's embedded or condensed representation tends to be standardized,

      meaning the fields included is the same set, regardless of where the object

      was embedded.
    title: Schemas and Serialization
    description: Learn more about object representations
    key: serialization
    icon: data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMjAuNzYyNCAyMDUuNTg2Ij4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBpc29sYXRpb246IGlzb2xhdGU7CiAgICAgIH0KCiAgICAgIC5jbHMtMiwgLmNscy02IHsKICAgICAgICBtaXgtYmxlbmQtbW9kZTogbXVsdGlwbHk7CiAgICAgIH0KCiAgICAgIC5jbHMtMTMsIC5jbHMtMywgLmNscy00LCAuY2xzLTYgewogICAgICAgIGZpbGw6IG5vbmU7CiAgICAgICAgc3Ryb2tlOiAjYzFjN2QwOwogICAgICAgIHN0cm9rZS1saW5lY2FwOiByb3VuZDsKICAgICAgICBzdHJva2UtbWl0ZXJsaW1pdDogMTA7CiAgICAgICAgc3Ryb2tlLXdpZHRoOiAycHg7CiAgICAgIH0KCiAgICAgIC5jbHMtNCB7CiAgICAgICAgc3Ryb2tlLWRhc2hhcnJheTogMy43ODE2IDUuMjk0MzsKICAgICAgfQoKICAgICAgLmNscy01IHsKICAgICAgICBmaWxsOiAjMDA2NWZmOwogICAgICB9CgogICAgICAuY2xzLTYgewogICAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDMuOTIxOSA1LjQ5MDc7CiAgICAgIH0KCiAgICAgIC5jbHMtNyB7CiAgICAgICAgZmlsbDogIzAwNTJjYzsKICAgICAgfQoKICAgICAgLmNscy04IHsKICAgICAgICBmaWxsOiAjNGM5YWZmOwogICAgICB9CgogICAgICAuY2xzLTkgewogICAgICAgIGZpbGw6ICMwMDQ5YjA7CiAgICAgIH0KCiAgICAgIC5jbHMtMTAgewogICAgICAgIGZpbGw6ICM1N2Q5YTM7CiAgICAgIH0KCiAgICAgIC5jbHMtMTEgewogICAgICAgIGZpbGw6ICM3OWYyYzA7CiAgICAgIH0KCiAgICAgIC5jbHMtMTIgewogICAgICAgIGZpbGw6ICMzNmIzN2U7CiAgICAgIH0KCiAgICAgIC5jbHMtMTMgewogICAgICAgIHN0cm9rZS1kYXNoYXJyYXk6IDMuODY4MSA1LjQxNTQ7CiAgICAgIH0KCiAgICAgIC5jbHMtMTQgewogICAgICAgIGZpbGw6ICM0MjUyNmU7CiAgICAgIH0KCiAgICAgIC5jbHMtMTUgewogICAgICAgIGZpbGw6ICMzNDQ1NjM7CiAgICAgIH0KCiAgICAgIC5jbHMtMTYgewogICAgICAgIGZpbGw6ICM1MDVmNzk7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgPC9kZWZzPgogIDx0aXRsZT5JbnRlZ3JhdGlvbnM8L3RpdGxlPgogIDxnIGNsYXNzPSJjbHMtMSI+CiAgICA8ZyBpZD0iTGF5ZXJfMiIgZGF0YS1uYW1lPSJMYXllciAyIj4KICAgICAgPGcgaWQ9Ik9iamVjdHMiPgogICAgICAgIDxnIGNsYXNzPSJjbHMtMiI+CiAgICAgICAgICA8Zz4KICAgICAgICAgICAgPGxpbmUgY2xhc3M9ImNscy0zIiB4MT0iNzUuMjExNCIgeTE9IjE4Ny44NTczIiB4Mj0iNzcuMDI0OCIgeTI9IjE4Ny4xMTA5Ii8+CiAgICAgICAgICAgIDxsaW5lIGNsYXNzPSJjbHMtNCIgeDE9IjgxLjkyMDUiIHkxPSIxODUuMDk1NiIgeDI9IjEzOC4yMjEyIiB5Mj0iMTYxLjkyMDMiLz4KICAgICAgICAgICAgPGxpbmUgY2xhc3M9ImNscy0zIiB4MT0iMTQwLjY2OSIgeTE9IjE2MC45MTI2IiB4Mj0iMTQyLjQ4MjQiIHkyPSIxNjAuMTY2MiIvPgogICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTUiIHBvaW50cz0iMTk0LjUyNiAyNi41NTIgMTc2LjkwMSAzOC4yNDEgMTU5LjI3IDI2LjU1MiAxNzYuOTAxIDE0Ljg3IDE5NC41MjYgMjYuNTUyIi8+CiAgICAgICAgPGxpbmUgY2xhc3M9ImNscy02IiB4MT0iMTgzLjcxMzUiIHkxPSI0My4yMTg4IiB4Mj0iMTgzLjcxMzUiIHkyPSI5Ny44ODMyIi8+CiAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy03IiBwb2ludHM9IjE3Ni45MDEgMzguMjQxIDE3Ni45MDEgNTguMTY2IDE1OS4yNyA0Ni40NzcgMTU5LjI3IDI2LjU1MiAxNzYuOTAxIDM4LjI0MSIvPgogICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtOCIgcG9pbnRzPSIxOTQuNTI2IDI2LjU1MiAxOTQuNTI2IDQ2LjQ3NyAxNzYuOTAxIDU4LjE2NiAxNzYuOTAxIDM4LjI0MSAxOTQuNTI2IDI2LjU1MiIvPgogICAgICAgIDxsaW5lIGNsYXNzPSJjbHMtNiIgeDE9IjQ3Ljk0ODgiIHkxPSI0Mi4yMTg4IiB4Mj0iMTU5LjExNzIiIHkyPSI0Mi4yMTg4Ii8+CiAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy01IiBwb2ludHM9IjIyMC43NjIgOTkuNzUyIDE2Ny44MTcgMTM0Ljg2NCAxMTQuODU0IDk5Ljc1MiAxNjcuODE3IDY0LjY1NyAyMjAuNzYyIDk5Ljc1MiIvPgogICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtOSIgcG9pbnRzPSIxNjcuODE3IDEzNC44NjQgMTY3LjgxNyAxOTQuNzE4IDExNC44NTQgMTU5LjYwNiAxMTQuODU0IDk5Ljc1MiAxNjcuODE3IDEzNC44NjQiLz4KICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTgiIHBvaW50cz0iMjIwLjc2MiA5OS43NTIgMjIwLjc2MiAxNTkuNjA2IDE2Ny44MTcgMTk0LjcxOCAxNjcuODE3IDEzNC44NjQgMjIwLjc2MiA5OS43NTIiLz4KICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTEwIiBwb2ludHM9IjExMC41NDEgMjEuNjA0IDc3Ljk0OSA0My4yMTkgNDUuMzQ1IDIxLjYwNCA3Ny45NDkgMCAxMTAuNTQxIDIxLjYwNCIvPgogICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtMTEiIHBvaW50cz0iMTEwLjU0MSAyMS42MDQgMTEwLjU0MSA1OC40NDkgNzcuOTQ5IDgwLjA2NCA3Ny45NDkgNDMuMjE5IDExMC41NDEgMjEuNjA0Ii8+CiAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy01IiBwb2ludHM9IjE0MS4xOSAxNDguMDczIDE2Ny44MTMgMTMwLjQxNyAxOTQuNDQ0IDE0OC4wNzMgMTY3LjgxMyAxNjUuNzE5IDE0MS4xOSAxNDguMDczIi8+CiAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy05IiBwb2ludHM9IjE2Ny44MTMgMTMwLjQxNyAxNjcuODEzIDEwMC4zMjEgMTk0LjQ0NCAxMTcuOTc2IDE5NC40NDQgMTQ4LjA3MyAxNjcuODEzIDEzMC40MTciLz4KICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTgiIHBvaW50cz0iMTQxLjE5IDE0OC4wNzMgMTQxLjE5IDExNy45NzYgMTY3LjgxMyAxMDAuMzIxIDE2Ny44MTMgMTMwLjQxNyAxNDEuMTkgMTQ4LjA3MyIvPgogICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtMTIiIHBvaW50cz0iNDUuMzQ1IDIxLjYwNCA0NS4zNDUgNDQuOTg0IDU3LjIzMSA1Mi44NjQgNTcuMjMxIDY2LjI5NiA3Ny45NDkgODAuMDY0IDc3Ljk0OSA0My4yMTkgNDUuMzQ1IDIxLjYwNCIvPgogICAgICAgIDxnIGNsYXNzPSJjbHMtMiI+CiAgICAgICAgICA8Zz4KICAgICAgICAgICAgPGxpbmUgY2xhc3M9ImNscy0zIiB4MT0iMjQuNjQzOCIgeTE9Ijg2Ljk1NDQiIHgyPSIyNi4wMTU3IiB5Mj0iODUuNTUzMSIvPgogICAgICAgICAgICA8bGluZSBjbGFzcz0iY2xzLTEzIiB4MT0iMjkuODA0IiB5MT0iODEuNjgzNCIgeDI9IjYwLjM4MTEiIHkyPSI1MC40NDkyIi8+CiAgICAgICAgICAgIDxsaW5lIGNsYXNzPSJjbHMtMyIgeDE9IjYyLjI3NTIiIHkxPSI0OC41MTQzIiB4Mj0iNjMuNjQ3IiB5Mj0iNDcuMTEzIi8+CiAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtNSIgcG9pbnRzPSIzNS4yNTUgODkuNjQ1IDE3LjczNiAxMDEuNDkyIDAgODkuOTYyIDE3LjUyNSA3OC4xMjEgMzUuMjU1IDg5LjY0NSIvPgogICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtNyIgcG9pbnRzPSIxNy43MzYgMTAxLjQ5MiAxNy45MTUgMTIxLjQxNiAwLjE3OSAxMDkuODg3IDAgODkuOTYyIDE3LjczNiAxMDEuNDkyIi8+CiAgICAgICAgPGxpbmUgY2xhc3M9ImNscy02IiB4MT0iMjAuNTg0OSIgeTE9IjEwNS41MzA1IiB4Mj0iNjUuODc0OSIgeTI9IjE3MS4zNjgxIi8+CiAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy04IiBwb2ludHM9IjM1LjI1NSA4OS42NDUgMzUuNDM0IDEwOS41NjkgMTcuOTE1IDEyMS40MTYgMTcuNzM2IDEwMS40OTIgMzUuMjU1IDg5LjY0NSIvPgogICAgICAgIDxwb2x5Z29uIGNsYXNzPSJjbHMtMTQiIHBvaW50cz0iOTIuMzk0IDE3My44MTUgNzQuODc1IDE4NS42NjIgNTcuMTM5IDE3NC4xMzIgNzQuNjY0IDE2Mi4yOTEgOTIuMzk0IDE3My44MTUiLz4KICAgICAgICA8cG9seWdvbiBjbGFzcz0iY2xzLTE1IiBwb2ludHM9Ijc0Ljg3NSAxODUuNjYyIDc1LjA1NCAyMDUuNTg2IDU3LjMxOSAxOTQuMDU3IDU3LjEzOSAxNzQuMTMyIDc0Ljg3NSAxODUuNjYyIi8+CiAgICAgICAgPHBvbHlnb24gY2xhc3M9ImNscy0xNiIgcG9pbnRzPSI5Mi4zOTQgMTczLjgxNSA5Mi41NzQgMTkzLjczOSA3NS4wNTQgMjA1LjU4NiA3NC44NzUgMTg1LjY2MiA5Mi4zOTQgMTczLjgxNSIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K
  - content: >
      
      # URI, UUID, and structures


      You should be familiar with REST architecture before writing an integration. Read this overview page to gain a good understanding of Bitbucket's REST implementation.


      ----

      **On this page**


      * [URI structure](#uri-structure)

      * [HTTP methods](#http-methods)

      * [UUID](#uuid)
          * [User object and UUID](#userobj)
          * [Repository object and UUID](#repo-obj)
          * [Team object and UUID](#teamobj)
      * [Standard error repsponses](#stand-error)

      * [Standard ISO-8601 timestamps](#timestamp)


      ----



      ## URI structure 


      All Bitbucket Cloud requests start with the `https://api.bitbucket.org/2.0` prefix (for the 2.0 API) and `https://api.bitbucket.org/1.0` prefix (1.0 API).


      The next segment of the URI path depends on the endpoint of the request. For example, using the curl command and the repositories endpoint you can list all the issues on Bitbucket's tutorial repository:


      ```

      curl https://api.bitbucket.org/2.0/repositories/tutorials/tutorials.bitbucket.org

      ```

      Given a specific endpoint, you can then drill down to a particular aspect or resource of that endpoint. The issues resource on a repository is an example:


      ```

      curl https://api.bitbucket.org/1.0/repositories/tutorials/tutorials.bitbucket.org/issues

      ```

      ### HTTP methods 

      A given endpoint or resource has a series of actions (or methods) associated with it. The Bitbucket service supports these standard HTTP methods:


      
      Call	Description
      GET	Retrieves information.
      PUT	Updates existing information.
      POST	Creates new information.
      DELETE	Removes existing information.



      For example, you can call use the POST action on the issues resource and create an issue on the issue tracker.


      **Specifying content length**


      You can get a `411 Length Required` response. If this happens, the API requires a Content-Length header but the client is not sending it. You should add the header yourself, for example using the curl client:


      ```

      curl -r PUT --header "Content-Length: 0" -u user:pass https://api.bitbucket.org/1.0/emails/rap@atlassian.com

      ```

      ## Universally Unique Identifier 


      UUID's provide a single point of recognition for users, teams, and repositories. The UUID is distinct from the username, team name, and repository name fields and remains the same even when those fields change. For example when a user changes their username or moves a repository you will need to modify calls which use those identifiers but not if you are pointing to the UUID.


      ### UUID examples and structure


      UUID's work with both the 1.0 and 2.0 APIs for the user, team, and repository objects. The following examples the following characters are replacements for curly brackets: `%7B` replaces `{`  and `%7D` replaces `}`. You will see this structure in the following example sections.


      ### User object and UUID 


      When you make a call using either the username or the UUID for that user the response is the same.


      **Call with username**:


      ```

      curl https://api.bitbucket.org/2.0/users/tutorials

      ```


      ***Call with UUID for the user**:


      ```

      curl https://api.bitbucket.org/2.0/users/%7Bc788b2da-b7a2-404c-9e26-d3f077557007%7D

      ```


      **Response**

      ```JSON

      {
          "username": "tutorials",
          "nickname": "tutorials",
          "account_status": "active",
          "website": "https://tutorials.bitbucket.org/",
          "display_name": "tutorials account",
          "uuid": "{c788b2da-b7a2-404c-9e26-d3f077557007}",
          "links": {
              "self": {
                  "href": "https://api.bitbucket.org/2.0/users/tutorials"
              },
              "repositories": {
                  "href": "https://api.bitbucket.org/2.0/repositories/tutorials"
              },
              "html": {
                  "href": "https://bitbucket.org/tutorials"
              },
              "followers": {
                  "href": "https://api.bitbucket.org/2.0/users/tutorials/followers"
              },
              "avatar": {
                  "href": "https://bitbucket-assetroot.s3.amazonaws.com/c/photos/2013/Nov/25/tutorials-avatar-1563784409-6_avatar.png"
              },
              "following": {
                  "href": "https://api.bitbucket.org/2.0/users/tutorials/following"
              }
          },
          "created_on": "2011-12-20T16:34:07.132459+00:00",
          "location": "Santa Monica, CA",
          "type": "user"
      }

      ```


      ### Repository object and UUID 


      Once you have the UUID for a repository you no longer need a username or team name to make the API call so long as you use an empty field. This helps you resolve repositories no matter if the username or team name changes.


      **Call with team name (1team) and repository name (moxie)**:


      ```

      curl https://api.bitbucket.org/2.0/repositories/1team/moxie

      ```

      **Call with UUID and empty field**:


      ```

      curl https://api.bitbucket.org/2.0/repositories/%7B%7D/%7B21fa9bf8-b5b2-4891-97ed-d590bad0f871%7D

      ```


      **Call with UUID and teamname**:


      ```

      curl https://api.bitbucket.org/2.0/repositories/1team/%7B21fa9bf8-b5b2-4891-97ed-d590bad0f871%7D

      ```


      **Response**


      ```JSON

      {
          "created_on": "2013-11-08T01:11:03.222520+00:00",
          "description": "",
          "fork_policy": "allow_forks",
          "full_name": "1team/moxie",
          "has_issues": false,
          "has_wiki": false,
          "is_private": false,
          "language": "",
          "links": {
              "avatar": {
                  "href": "https://bitbucket.org/1team/moxie/avatar/32/"
              },
              "branches": {
                  "href": "https://api.bitbucket.org/2.0/repositories/1team/moxie/refs/branches"
              },
              "clone": [
                  {
                      "href": "https://bitbucket.org/1team/moxie.git",
                      "name": "https"
                  },
                  {
                      "href": "ssh://git@bitbucket.org/1team/moxie.git",
                      "name": "ssh"
                  }
              ],
              "commits": {
                  "href": "https://api.bitbucket.org/2.0/repositories/1team/moxie/commits"
              },
              "downloads": {
                  "href": "https://api.bitbucket.org/2.0/repositories/1team/moxie/downloads"
              },
              "forks": {
                  "href": "https://api.bitbucket.org/2.0/repositories/1team/moxie/forks"
              },
              "hooks": {
                  "href": "https://api.bitbucket.org/2.0/repositories/1team/moxie/hooks"
              },
              "html": {
                  "href": "https://bitbucket.org/1team/moxie"
              },
              "pullrequests": {
                  "href": "https://api.bitbucket.org/2.0/repositories/1team/moxie/pullrequests"
              },
              "self": {
                  "href": "https://api.bitbucket.org/2.0/repositories/1team/moxie"
              },
              "tags": {
                  "href": "https://api.bitbucket.org/2.0/repositories/1team/moxie/refs/tags"
              },
              "watchers": {
                  "href": "https://api.bitbucket.org/2.0/repositories/1team/moxie/watchers"
              }
          },
          "name": "moxie",
          "owner": {
              "display_name": "the team",
              "links": {
                  "avatar": {
                      "href": "https://bitbucket.org/account/1team/avatar/32/"
                  },
                  "html": {
                      "href": "https://bitbucket.org/1team/"
                  },
                  "self": {
                      "href": "https://api.bitbucket.org/2.0/teams/1team"
                  }
              },
              "type": "team",
              "username": "1team",
              "uuid": "{aa559944-83c9-4963-a9a8-69ac8d9cf5d2}"
          },
          "project": {
              "key": "PROJ",
              "links": {
                  "avatar": {
                      "href": "https://bitbucket.org/account/user/1team/projects/PROJ/avatar/32"
                  },
                  "html": {
                      "href": "https://bitbucket.org/account/user/1team/projects/PROJ"
                  }
              },
              "name": "Untitled project",
              "type": "project",
              "uuid": "{ab52aaeb-16ad-4fb0-bb1d-47e4f00367ff}"
          },
          "scm": "git",
          "size": 33348,
          "type": "repository",
          "updated_on": "2013-11-08T01:11:03.263237+00:00",
          "uuid": "{21fa9bf8-b5b2-4891-97ed-d590bad0f871}",
          "website": ""
      }

      ```


      ### Team object and UUID 


      This example shows a call for a list of team members using both the team name and with the UUID for the team object. As the call is unauthenticated in the following example the response object will only show members with public profiles. The response is the same in either case.


      **Call with teamname**


      ```

      curl https://api.bitbucket.org/2.0/teams/1team/members

      ```

      **Call with UUID for team object**


      ```

      curl https://api.bitbucket.org/2.0/teams/%7Baa559944-83c9-4963-a9a8-69ac8d9cf5d2%7D/members

      ```


      **Response**


      ```JSON

      {
          "page": 1,
          "pagelen": 50,
          "size": 2,
          "values": [
              {
                  "created_on": "2011-12-20T16:34:07.132459+00:00",
                  "display_name": "tutorials account",
                  "links": {
                      "avatar": {
                          "href": "https://bitbucket.org/account/tutorials/avatar/32/"
                      },
                      "followers": {
                          "href": "https://api.bitbucket.org/2.0/users/tutorials/followers"
                      },
                      "following": {
                          "href": "https://api.bitbucket.org/2.0/users/tutorials/following"
                      },
                      "hooks": {
                          "href": "https://api.bitbucket.org/2.0/users/tutorials/hooks"
                      },
                      "html": {
                          "href": "https://bitbucket.org/tutorials/"
                      },
                      "repositories": {
                          "href": "https://api.bitbucket.org/2.0/repositories/tutorials"
                      },
                      "self": {
                          "href": "https://api.bitbucket.org/2.0/users/tutorials"
                      },
                      "snippets": {
                          "href": "https://api.bitbucket.org/2.0/snippets/tutorials"
                      }
                  },
                  "location": null,
                  "type": "user",
                  "username": "tutorials",
                  "nickname": "tutorials",
                  "account_status": "active",
                  "uuid": "{c788b2da-b7a2-404c-9e26-d3f077557007}",
                  "website": "https://tutorials.bitbucket.org/"
              },
              {
                  "created_on": "2013-12-10T14:44:13+00:00",
                  "display_name": "Dan Stevens [Atlassian]",
                  "links": {
                      "avatar": {
                          "href": "https://bitbucket.org/account/dans9190/avatar/32/"
                      },
                      "followers": {
                          "href": "https://api.bitbucket.org/2.0/users/dans9190/followers"
                      },
                      "following": {
                          "href": "https://api.bitbucket.org/2.0/users/dans9190/following"
                      },
                      "hooks": {
                          "href": "https://api.bitbucket.org/2.0/users/dans9190/hooks"
                      },
                      "html": {
                          "href": "https://bitbucket.org/dans9190/"
                      },
                      "repositories": {
                          "href": "https://api.bitbucket.org/2.0/repositories/dans9190"
                      },
                      "self": {
                          "href": "https://api.bitbucket.org/2.0/users/dans9190"
                      },
                      "snippets": {
                          "href": "https://api.bitbucket.org/2.0/snippets/dans9190"
                      }
                  },
                  "location": null,
                  "type": "user",
                  "username": "dans9190",
                  "nickname": "dans9190",
                  "account_status": "active",
                  "uuid": "{1cd06601-cd0e-4fce-be03-e9ac226978b7}",
                  "website": ""
              }
          ]
      }

      ```


      ## Standardized error responses 


      The 2.0 API standardizes the error response layout. The 2.0 API serves a JSON

      object along with the appropriate HTTP status code. The JSON object provides a

      detailed  problem description.


      ```json

      {
          "type": "error",
          "error": {
              "message": "Bad request",
              "fields": {
                  "src": [
                      "This field is required."
                  ]
              },
              "detail": "You must specify a valid source branch when creating a pull request.",
              "id": "d23a1cc5178f7637f3d9bf2d13824258",
              "data": {
                "extra": "Optional, endpoint-specific data to further augment the error."
              }
          }
      }

      ```


      This object contains an error element which contains the following nested

      elements:


      
      Element	Description
      message	A short description of the problem. This element is always present. Its value may be localized.
      fields	This optional element is used in response to POST or PUT operations in which clients have provided invalid input. It contains a list of one or more client-provided fields that failed validation. The values may be localized.
      detail	An optional detailed explanation of the failure. Its value may be localized.
      id	An optional unique error identifier that identifies the error in Bitbucket's logging system. If you feel you hit a bug in an API and this field is provided, please mention it if you decide to contact support as it will greatly help us narrow down the problem.



      ## Standard ISO-8601 timestamps 


      All 2.0 APIs use standardized ISO-8601 timestamps. In most cases, our APIs return UTC timestamps and for these, the timezone offset part will be 00:00. In rare cases where the original localized timestamp has significance, the timezone offset may identify the event's original timezone.
    title: URI, UUID, and structures
    description: URL's, UUID's, errors, and timestamps
    key: uri-uuid
    icon: data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTc5LjI2IDE3Ny42NSI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50KTt9LmNscy0ye2ZpbGw6IzA5MWU0Mjt9LmNscy0xMCwuY2xzLTExLC5jbHMtMywuY2xzLTQsLmNscy05e2ZpbGw6bm9uZTt9LmNscy0ze3N0cm9rZTojOTljMWZmO30uY2xzLTMsLmNscy00e3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6MDt9LmNscy0xMiwuY2xzLTQsLmNscy05e3N0cm9rZTojZTVlOGVjO30uY2xzLTV7ZmlsbDojMzQ0NTYzO30uY2xzLTZ7ZmlsbDojZmY4YjAwO30uY2xzLTd7ZmlsbDojZmZjNDAwO30uY2xzLTh7ZmlsbDojMDA2NWZmO30uY2xzLTEwLC5jbHMtMTEsLmNscy0xMiwuY2xzLTEzLC5jbHMtOXtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2Utd2lkdGg6MnB4O30uY2xzLTEwe3N0cm9rZTojZmZhYjAwO30uY2xzLTExLC5jbHMtMTN7c3Ryb2tlOiMwMDY1ZmY7fS5jbHMtMTJ7ZmlsbDojOTljMWZmO30uY2xzLTEze2ZpbGw6I2U1ZThlYzt9PC9zdHlsZT48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudCIgeDE9IjAuNCIgeTE9IjE3OC4wNSIgeDI9IjE3OC44NSIgeTI9Ii0wLjQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMwOTFlNDIiLz48c3RvcCBvZmZzZXQ9IjAuMDciIHN0b3AtY29sb3I9IiMwZDIyNDUiLz48c3RvcCBvZmZzZXQ9IjAuNDkiIHN0b3AtY29sb3I9IiMxZjMyNTMiLz48c3RvcCBvZmZzZXQ9IjAuNzkiIHN0b3AtY29sb3I9IiMyNTM4NTgiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48dGl0bGU+Q29kZTwvdGl0bGU+PGcgaWQ9IkxheWVyXzIiIGRhdGEtbmFtZT0iTGF5ZXIgMiI+PGcgaWQ9IlNvZnR3YXJlIj48cmVjdCBpZD0iX1JlY3RhbmdsZV8iIGRhdGEtbmFtZT0iJmx0O1JlY3RhbmdsZSZndDsiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjE3OS4yNiIgaGVpZ2h0PSIxNzcuNjUiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0xNzkuMjYsMjYuNjRIMFY3MS43NUExNjYuNDEsMTY2LjQxLDAsMCwwLDYzLjI0LDU5LjUxYTE4OC40MSwxODguNDEsMCwwLDAsMTcuMzktOC4zNmMxOC40NC05LjQzLDQ4LjM3LTE3LjksOTguNjItMTNabS0xNTkuNDQsMzRoMFptMC0xNC4wOGgwWiIvPjxsaW5lIGNsYXNzPSJjbHMtMyIgeDE9IjE5LjgxIiB5MT0iNDYuNTgiIHgyPSIyNS4wNyIgeTI9IjQ2LjU4Ii8+PGxpbmUgY2xhc3M9ImNscy0zIiB4MT0iMjUuMDciIHkxPSI2MC42NiIgeDI9IjE5LjgxIiB5Mj0iNjAuNjYiLz48bGluZSBjbGFzcz0iY2xzLTMiIHgxPSIxOS44MSIgeTE9Ijc0Ljc0IiB4Mj0iMjUuMDciIHkyPSI3NC43NCIvPjxsaW5lIGNsYXNzPSJjbHMtMyIgeDE9IjI1LjA3IiB5MT0iODguODIiIHgyPSIxOS44MSIgeTI9Ijg4LjgyIi8+PGxpbmUgY2xhc3M9ImNscy0zIiB4MT0iMjUuMDciIHkxPSIxMDIuODkiIHgyPSIxOS44MSIgeTI9IjEwMi44OSIvPjxsaW5lIGNsYXNzPSJjbHMtMyIgeDE9IjI1LjA3IiB5MT0iMTE2Ljk3IiB4Mj0iMTkuODEiIHkyPSIxMTYuOTciLz48bGluZSBjbGFzcz0iY2xzLTMiIHgxPSIyNS4wNyIgeTE9IjEzMS4wNSIgeDI9IjE5LjgxIiB5Mj0iMTMxLjA1Ii8+PGxpbmUgY2xhc3M9ImNscy0zIiB4MT0iMjUuMDciIHkxPSIxNDUuMTMiIHgyPSIxOS44MSIgeTI9IjE0NS4xMyIvPjxsaW5lIGNsYXNzPSJjbHMtMyIgeDE9IjI1LjA3IiB5MT0iMTU5LjIxIiB4Mj0iMTkuODEiIHkyPSIxNTkuMjEiLz48bGluZSBjbGFzcz0iY2xzLTQiIHgxPSI1NS44OSIgeTE9IjEzMS4wNSIgeDI9IjkzLjk5IiB5Mj0iMTMxLjA1Ii8+PGxpbmUgY2xhc3M9ImNscy00IiB4MT0iNTUuODkiIHkxPSIxNDUuMTMiIHgyPSIxMzkuNjciIHkyPSIxNDUuMTMiLz48cmVjdCBjbGFzcz0iY2xzLTUiIHdpZHRoPSIxNzkuMjYiIGhlaWdodD0iMjYuNjQiLz48Y2lyY2xlIGNsYXNzPSJjbHMtNiIgY3g9IjEzLjUiIGN5PSIxMi4wOCIgcj0iNS4xMSIvPjxjaXJjbGUgY2xhc3M9ImNscy03IiBjeD0iMzAuMTgiIGN5PSIxMi4wOCIgcj0iNS4xMSIvPjxjaXJjbGUgY2xhc3M9ImNscy04IiBjeD0iNDYuODYiIGN5PSIxMi4wOCIgcj0iNS4xMSIvPjxwYXRoIGNsYXNzPSJjbHMtOSIgZD0iTTc1LjQxLDg4LjgyIi8+PHBhdGggY2xhc3M9ImNscy05IiBkPSJNMzIuODksODguODIiLz48bGluZSBjbGFzcz0iY2xzLTEwIiB4MT0iMzIuODkiIHkxPSI3NC43NCIgeDI9Ijc1LjQxIiB5Mj0iNzQuNzQiLz48bGluZSBjbGFzcz0iY2xzLTExIiB4MT0iMzIuODkiIHkxPSI2MC42NiIgeDI9Ijc1LjQxIiB5Mj0iNjAuNjYiLz48bGluZSBjbGFzcz0iY2xzLTkiIHgxPSIzMi44OSIgeTE9IjQ2LjU4IiB4Mj0iNTUuODkiIHkyPSI0Ni41OCIvPjxsaW5lIGNsYXNzPSJjbHMtMTIiIHgxPSIxOS44MSIgeTE9IjQ2LjU4IiB4Mj0iMjUuMDciIHkyPSI0Ni41OCIvPjxsaW5lIGNsYXNzPSJjbHMtMTIiIHgxPSIxOS44MSIgeTE9IjYwLjY2IiB4Mj0iMjUuMDciIHkyPSI2MC42NiIvPjxsaW5lIGNsYXNzPSJjbHMtMTIiIHgxPSIxOS44MSIgeTE9Ijc0Ljc0IiB4Mj0iMjUuMDciIHkyPSI3NC43NCIvPjxsaW5lIGNsYXNzPSJjbHMtMTIiIHgxPSIxOS44MSIgeTE9Ijg4LjgyIiB4Mj0iMjUuMDciIHkyPSI4OC44MiIvPjxsaW5lIGNsYXNzPSJjbHMtMTIiIHgxPSIxOS44MSIgeTE9IjEwMi44OSIgeDI9IjI1LjA3IiB5Mj0iMTAyLjg5Ii8+PGxpbmUgY2xhc3M9ImNscy0xMiIgeDE9IjE5LjgxIiB5MT0iMTE2Ljk3IiB4Mj0iMjUuMDciIHkyPSIxMTYuOTciLz48bGluZSBjbGFzcz0iY2xzLTEyIiB4MT0iMTkuODEiIHkxPSIxMzEuMDUiIHgyPSIyNS4wNyIgeTI9IjEzMS4wNSIvPjxsaW5lIGNsYXNzPSJjbHMtMTIiIHgxPSIxOS44MSIgeTE9IjE0NS4xMyIgeDI9IjI1LjA3IiB5Mj0iMTQ1LjEzIi8+PGxpbmUgY2xhc3M9ImNscy0xMiIgeDE9IjE5LjgxIiB5MT0iMTU5LjIxIiB4Mj0iMjUuMDciIHkyPSIxNTkuMjEiLz48bGluZSBpZD0iX0xpbmVfIiBkYXRhLW5hbWU9IiZsdDtMaW5lJmd0OyIgY2xhc3M9ImNscy0xMCIgeDE9Ijg0LjI0IiB5MT0iMTE2Ljk3IiB4Mj0iMTU2LjY1IiB5Mj0iMTE2Ljk3Ii8+PHBhdGggY2xhc3M9ImNscy05IiBkPSJNMzIuODksMTE3aDBaIi8+PGxpbmUgY2xhc3M9ImNscy0xMCIgeDE9IjEwMiIgeTE9IjEzMS4wNSIgeDI9IjE2My42MiIgeTI9IjEzMS4wNSIvPjxsaW5lIGNsYXNzPSJjbHMtMTMiIHgxPSI1NS44OSIgeTE9IjEzMS4wNSIgeDI9IjkzLjk5IiB5Mj0iMTMxLjA1Ii8+PGxpbmUgY2xhc3M9ImNscy0xMyIgeDE9IjU1Ljg5IiB5MT0iMTQ1LjEzIiB4Mj0iMTM5LjY3IiB5Mj0iMTQ1LjEzIi8+PGxpbmUgY2xhc3M9ImNscy05IiB4MT0iNzguOSIgeTE9IjE1OS4yMSIgeDI9IjExMy41MSIgeTI9IjE1OS4yMSIvPjxsaW5lIGNsYXNzPSJjbHMtOSIgeDE9IjU5LjYxIiB5MT0iODguODIiIHgyPSI5OS4zMyIgeTI9Ijg4LjgyIi8+PGxpbmUgY2xhc3M9ImNscy05IiB4MT0iNTkuNjEiIHkxPSIxMDIuODkiIHgyPSI5OS4zMyIgeTI9IjEwMi44OSIvPjxjaXJjbGUgY2xhc3M9ImNscy02IiBjeD0iMTMuNSIgY3k9IjEyLjA4IiByPSI1LjExIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTciIGN4PSIzMC4xOCIgY3k9IjEyLjA4IiByPSI1LjExIi8+PGNpcmNsZSBjbGFzcz0iY2xzLTgiIGN4PSI0Ni44NiIgY3k9IjEyLjA4IiByPSI1LjExIi8+PC9nPjwvZz48L3N2Zz4=
  - content: >
      
      # Cors and hypermedia


      This section describes [Cross-origin resource sharing](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing) (CORS), what content types we support in requests and responses, and hyperlinking resources in each json responses.



      ----

      **On this page**


      * [CORS](#cors)

      * [Supported content types](#supported-content)

      * [Resource links](#resource-links)


      ----


      ## Cors 


      The Bitbucket API supports Cross-origin resource sharing to allow requests for restricted resources across domains. For more information you can refer to:


      * [Wikipedia article on CORS](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing)

      * [W3C CORS recommendation](https://www.w3.org/TR/cors/)


      Sending a general request from the api to bitbucket.com:


      `curl -i https://api.bitbucket.org -H "origin: http://bitbucket.com"`


      Gives this result:

          HTTP/1.1 302 FOUND
          Server: nginx/1.6.2
          Vary: Cookie
          Cache-Control: max-age=900
          Content-Type: text/html; charset=utf-8
          Strict-Transport-Security: max-age=31536000
          Date: Tue, 21 Jun 2016 17:54:37 GMT
          Location: http://confluence.atlassian.com/x/IYBGDQ
          X-Served-By: app-110
          X-Static-Version: 2c820eb0d2b3
          ETag: "d41d8cd98f00b204e9800998ecf8427e"
          X-Content-Type-Options: nosniff
          X-Render-Time: 0.00379920005798
          Connection: Keep-Alive
          X-Version: 2c820eb0d2b3
          X-Frame-Options: SAMEORIGIN
          X-Request-Count: 383
          X-Cache-Info: cached
          Content-Length: 0

      Sending the same request with the CORS check -X OPTIONS in the call:


      `curl -i https://api.bitbucket.org -H "origin: http://bitbucket.com" -X OPTIONS`


      Gives this result:

          HTTP/1.1 302 FOUND
          Server: nginx/1.6.2
          Vary: Cookie
          Cache-Control: max-age=900
          Content-Type: text/html; charset=utf-8
          Access-Control-Expose-Headers: Accept-Ranges, Content-Encoding, Content-Length, Content-Type, ETag, Last-Modified
          Strict-Transport-Security: max-age=31536000
          Date: Tue, 21 Jun 2016 18:04:30 GMT
          Access-Control-Max-Age: 86400
          Location: http://confluence.atlassian.com/x/IYBGDQ
          X-Served-By: app-111
          Access-Control-Allow-Origin: *
          X-Static-Version: 2c820eb0d2b3
          ETag: "d41d8cd98f00b204e9800998ecf8427e"
          X-Content-Type-Options: nosniff
          X-Render-Time: 0.00371098518372
          Connection: keep-alive
          X-Version: 2c820eb0d2b3
          X-Frame-Options: SAMEORIGIN
          X-Request-Count: 357
          Access-Control-Allow-Methods: GET, POST, PUT, PATCH, DELETE, OPTIONS
          Access-Control-Allow-Headers: Accept, Authorization, Content-Type, If-Match, If-Modified-Since, If-None-Match, If-Unmodified-Since, Origin, Range, X-CsrftokenX-Requested-With
          X-Cache-Info: not cacheable; request wasn't a GET or HEAD
          Content-Length: 0



      ## Supported content types 


      The default and primary content type for 2.0 APIs is JSON. This applies both to responses from the server and to the request bodies provided by the client.


      Unless documented otherwise, whenever creating a new (POST) or modifying an existing (PUT) object, your client must provide the object's normal representation. Not every object element can be mutated. For example, a repository's created_on date is an auto-generated, immutable field. Your client can omit immutable fields from a request body.


      In some cases, a resource might also accept regular application/x-www-url-form-encoded POST and PUT bodies. Such bodies can be more convenient in scripts and command line usage. Requests bodies can contain contain nested elements or they can be flat (without nested elements). Clients can send flat request bodies as either as application/json or as application/x-www-url-form-encoded. Nested objects always require JSON.


      ## Resource links 


      Every 2.0 object contains a links element that points to related resources or alternate representations. Use links to quickly discover and traverse to related objects. Links serve a "self-documenting" function for each endpoint. For example, the following request for a specific user:



      `$ curl https://api.bitbucket.org/2.0/users/tutorials`


      ```json

      {
          "username": "tutorials",
          "nickname": "tutorials",
          "account_status": "active",
          "website": "https://tutorials.bitbucket.org/",
          "display_name": "tutorials account",
          "uuid": "{c788b2da-b7a2-404c-9e26-d3f077557007}",
          "links": {
              "self": {
                  "href": "https://api.bitbucket.org/2.0/users/tutorials"
              },
              "repositories": {
                  "href": "https://api.bitbucket.org/2.0/repositories/tutorials"
              },
              "html": {
                  "href": "https://bitbucket.org/tutorials"
              },
              "followers": {
                  "href": "https://api.bitbucket.org/2.0/users/tutorials/followers"
              },
              "avatar": {
                  "href": "https://bitbucket-assetroot.s3.amazonaws.com/c/photos/2013/Nov/25/tutorials-avatar-1563784409-6_avatar.png"
              },
              "following": {
                  "href": "https://api.bitbucket.org/2.0/users/tutorials/following"
              }
          },
          "created_on": "2011-12-20T16:34:07.132459+00:00",
          "location": "Santa Monica, CA",
          "type": "user"
      }

      ```

      Links can be actual REST API resources or they can be informational. In this example, informative resources include the user's avatar and the HTML URL for the user's Bitbucket account. Your client should avoid hardcoding an API's URL and instead use the URLs returned in API responses.


      A link's key is its `rel` (relationship) attribute and it contains a mandatory href element. For example, the following link:


      ```json

      "self": {
            "href": "https://api.bitbucket.org/api/2.0/users/tutorials"
      }

      ```


      The rel for this link is self and the href is https://api.bitbucket.org/api/2.0/users/tutorials. A single rel key can contain an list (array) of href objects. Your client should anticipate that any rel key can contain one or more href objects.


      Finally, links can also contain optional elements. Two common optional elements are the name element and the title element. They are often used to disambiguate links that share the same rel key. In the example below, the repository object that contains a clone link with two href objects. Each object contains the optional name element to clarify its use.


      ```json

      "links": {
        "self": {
          "href": "https://api.bitbucket.org/2.0/repositories/evzijst/bitbucket"
        },
        "clone": [
          {
            "href": "https://api.bitbucket.org/evzijst/bitbucket.git",
            "name": "https"
          },
          {
            "href": "ssh://git@bitbucket.org/erik/bitbucket.git",
            "name": "ssh"
          }
        ],
        ...
      }

      ```

      Links can support [URI Templates](https://tools.ietf.org/html/rfc6570); Those that do contain a `"templated": "true"` element.
    title: Cors and hypermedia
    description: Learn about resources and linking
    key: cors-hypermedia
    icon: data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMjM2LjYgMjE4LjQzIj48ZGVmcz48c3R5bGU+LmNscy0xe2lzb2xhdGlvbjppc29sYXRlO30uY2xzLTIsLmNscy0zLC5jbHMtNHtmaWxsOm5vbmU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjExcHg7fS5jbHMtMntzdHJva2U6dXJsKCNsaW5lYXItZ3JhZGllbnQpO30uY2xzLTN7c3Ryb2tlOnVybCgjTmV3X0dyYWRpZW50X1N3YXRjaF8xNCk7fS5jbHMtNHtzdHJva2U6dXJsKCNOZXdfR3JhZGllbnRfU3dhdGNoXzEpO30uY2xzLTV7ZmlsbDojNDI1MjZlO30uY2xzLTZ7ZmlsbDojZmY1NjMwO30uY2xzLTEwLC5jbHMtNywuY2xzLTh7bWl4LWJsZW5kLW1vZGU6bXVsdGlwbHk7fS5jbHMtN3tmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50LTIpO30uY2xzLTh7ZmlsbDp1cmwoI2xpbmVhci1ncmFkaWVudC0zKTt9LmNscy05e2ZpbGw6IzAwNjVmZjt9LmNscy0xMHtmaWxsOnVybCgjbGluZWFyLWdyYWRpZW50LTQpO308L3N0eWxlPjxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50IiB5MT0iMTY3Ljg3IiB4Mj0iMTkxLjU2IiB5Mj0iMTY3Ljg3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjNTA1Zjc5Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzQ0NTYzIi8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9Ik5ld19HcmFkaWVudF9Td2F0Y2hfMTQiIHgxPSIxMTIuODMiIHkxPSIxMzEuNzIiIHgyPSIyMzYuNiIgeTI9IjEzMS43MiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzAwNTJjYyIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzI2ODRmZiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJOZXdfR3JhZGllbnRfU3dhdGNoXzEiIHgxPSI0NS4wNiIgeTE9Ijg2LjY5IiB4Mj0iMTY4Ljg4IiB5Mj0iODYuNjkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNkZTM1MGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZjc0NTIiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0ibGluZWFyLWdyYWRpZW50LTIiIHgxPSIzNDQ3LjkzIiB5MT0iLTkxOC43OSIgeDI9IjM0NTEuNCIgeTI9Ii0xMDMyLjc2IiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKC01NzIuMzggMzcwNC4yOSkgcm90YXRlKC02NC4zNCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBvZmZzZXQ9IjAuMzEiIHN0b3AtY29sb3I9IiNjMWM3ZDAiIHN0b3Atb3BhY2l0eT0iMCIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2MxYzdkMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQtMyIgeDE9IjM1MDYuNiIgeTE9Ii03OTYuNjYiIHgyPSIzNTEwLjA3IiB5Mj0iLTkxMC42MyIgeGxpbms6aHJlZj0iI2xpbmVhci1ncmFkaWVudC0yIi8+PGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQtNCIgeDE9IjM1ODEuNjgiIHkxPSItOTA2LjgyIiB4Mj0iMzU4NS4xNiIgeTI9Ii0xMDIwLjc5IiB4bGluazpocmVmPSIjbGluZWFyLWdyYWRpZW50LTIiLz48L2RlZnM+PHRpdGxlPldlYmhvb2tzPC90aXRsZT48ZyBjbGFzcz0iY2xzLTEiPjxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPjxnIGlkPSJTb2Z0d2FyZSI+PHBhdGggY2xhc3M9ImNscy0yIiBkPSJNMTg2LjA2LDE2Ny44N0gxMTcuNzJBMjcuNTgsMjcuNTgsMCwwLDAsOTIuMjQsMTg1YTQ1LjA2LDQ1LjA2LDAsMSwxLTQxLjY4LTYyLjE5Ii8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNMTE4LjMzLDUwLjUybDM0LjE1LDU5LjE4YTI3LjU5LDI3LjU5LDAsMCwwLDI3LjU4LDEzLjUxLDQ1LjA2LDQ1LjA2LDAsMSwxLTMzLDY3LjE5Ii8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNNTAuNTYsMTY3Ljg3bDM0LjE4LTU5LjE2YTI3LjU5LDI3LjU5LDAsMCwwLTIuMDktMzAuNjQsNDUuMDYsNDUuMDYsMCwxLDEsNzQuNy01Ii8+PHBhdGggY2xhc3M9ImNscy01IiBkPSJNMTg2LjA2LDE5OS42NmEzMS43OSwzMS43OSwwLDEsMSwzMS43OS0zMS43OUEzMS44MiwzMS44MiwwLDAsMSwxODYuMDYsMTk5LjY2WiIvPjxnIGlkPSJfR3JvdXBfIiBkYXRhLW5hbWU9IiZsdDtHcm91cCZndDsiPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0iTTQ5LjU2LDE5OS42NGEzMS43OSwzMS43OSwwLDEsMSwzMi43Ny0zMC43N0EzMS44MiwzMS44MiwwLDAsMSw0OS41NiwxOTkuNjRaIi8+PC9nPjxwYXRoIGNsYXNzPSJjbHMtNyIgZD0iTTU0LjEyLDE4MC4zNmE1OC45LDU4LjksMCwwLDAtMS41OS0xMS4yN3MtMi4zNS05LjQ0LTcuMzMtMTYuODNhNDMuODksNDMuODksMCwwLDAtMTEuNzMtMTEuMTcsMzEuNzcsMzEuNzcsMCwwLDAsMjkuMjgsNTYuMTNDNTguMjksMTkyLjQ0LDU0LjY4LDE4Ni45LDU0LjEyLDE4MC4zNloiLz48cGF0aCBjbGFzcz0iY2xzLTgiIGQ9Ik0xODkuNjIsMTgwLjM2QTU4LjksNTguOSwwLDAsMCwxODgsMTY5LjA4cy0yLjM1LTkuNDQtNy4zMy0xNi44M0E0My44OSw0My44OSwwLDAsMCwxNjksMTQxLjA4YTMxLjc3LDMxLjc3LDAsMCwwLDI5LjI4LDU2LjEzQzE5My43OSwxOTIuNDQsMTkwLjE4LDE4Ni45LDE4OS42MiwxODAuMzZaIi8+PGcgaWQ9Il9Hcm91cF8yIiBkYXRhLW5hbWU9IiZsdDtHcm91cCZndDsiPjxwYXRoIGNsYXNzPSJjbHMtOSIgZD0iTTg5LjksMzMuNzhhMzIuNDYsMzIuNDYsMCwxLDEsMTEuODgsNDQuMzRBMzIuNDksMzIuNDksMCwwLDEsODkuOSwzMy43OFoiLz48L2c+PHBhdGggY2xhc3M9ImNscy0xMCIgZD0iTTEyMi4yMyw2Ni4xM2E1OC45LDU4LjksMCwwLDAtMS41OS0xMS4yN3MtMi4zNS05LjQ0LTcuMzMtMTYuODNjLTMuMzctNS05LjA2LTkuNzktMTUuNDMtMTMuNDhBMzIuNDQsMzIuNDQsMCwwLDAsMTI4Ljc3LDgwLjZDMTI1LjMxLDc2LjM5LDEyMi43LDcxLjYxLDEyMi4yMyw2Ni4xM1oiLz48L2c+PC9nPjwvZz48L3N2Zz4=
  - content: >
      
      # Atlassian Connect for Bitbucket


      You can use the Atlassian Connect for Bitbucket Cloud to build add-ons which

      can connect with the Bitbucket UI and your own application set. An add-on could

      be an integration with another existing service, new features for the Atlassian

      application, or even a new product that runs within the Atlassian application.


      For complete information see:

      [Atlassian Connect for Bitbucket Cloud](https://developer.atlassian.com/bitbucket/index.html)
    title: Atlassian Connect
    description: Build Bitbucket add-ons with Connect
    key: bb-connect
    icon: data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMjU3LjMxNjMgMTYyLjU5OTQiPgogIDxkZWZzPgogICAgPHN0eWxlPgogICAgICAuY2xzLTEgewogICAgICAgIGlzb2xhdGlvbjogaXNvbGF0ZTsKICAgICAgfQoKICAgICAgLmNscy0yIHsKICAgICAgICBmaWxsOiAjMzQ0NTYzOwogICAgICB9CgogICAgICAuY2xzLTMgewogICAgICAgIGZpbGw6ICMxZGI5ZDQ7CiAgICAgIH0KCiAgICAgIC5jbHMtNCB7CiAgICAgICAgZmlsbDogIzAwNTdkODsKICAgICAgfQoKICAgICAgLmNscy01LCAuY2xzLTcsIC5jbHMtOSB7CiAgICAgICAgbWl4LWJsZW5kLW1vZGU6IG11bHRpcGx5OwogICAgICB9CgogICAgICAuY2xzLTUgewogICAgICAgIGZpbGw6IHVybCgjTjc1KTsKICAgICAgfQoKICAgICAgLmNscy02IHsKICAgICAgICBmaWxsOiAjMDA2NWZmOwogICAgICB9CgogICAgICAuY2xzLTcgewogICAgICAgIGZpbGw6IHVybCgjTjc1LTIpOwogICAgICB9CgogICAgICAuY2xzLTggewogICAgICAgIGZpbGw6IHVybCgjbGluZWFyLWdyYWRpZW50KTsKICAgICAgfQoKICAgICAgLmNscy05IHsKICAgICAgICBmaWxsOiB1cmwoI043NS0zKTsKICAgICAgfQoKICAgICAgLmNscy0xMCB7CiAgICAgICAgZmlsbDogdXJsKCNUMjAwLVQ3NSk7CiAgICAgIH0KICAgIDwvc3R5bGU+CiAgICA8bGluZWFyR3JhZGllbnQgaWQ9Ik43NSIgeDE9Ii0yMTg5LjU1NiIgeTE9IjI4MDguMjI4NCIgeDI9Ii0yMDkxLjE1NTEiIHkyPSIyODA4LjIyODQiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMC4xNjgxLCAwLjk4NTgsIDAuOTg1OCwgLTAuMTY4MSwgLTIzNzMuNzM2LCAyNzIyLjEyNzgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2U1ZThlYyIvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNlNWU4ZWMiIHN0b3Atb3BhY2l0eT0iMC4xIi8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJONzUtMiIgZGF0YS1uYW1lPSJONzUiIHgxPSItMjE2OC41OTQ3IiB5MT0iMjkzNS4wNTU2IiB4Mj0iLTIwNzAuMTkzNyIgeTI9IjI5MzUuMDU1NiIgeGxpbms6aHJlZj0iI043NSIvPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJsaW5lYXItZ3JhZGllbnQiIHgxPSIxOTAuMzU0NyIgeTE9IjE1OS45NjciIHgyPSIyNTkuOTQ4NyIgeTI9IjkwLjM3MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMzNDQ1NjMiLz4KICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNWU2Yzg0Ii8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJONzUtMyIgZGF0YS1uYW1lPSJONzUiIHgxPSItMjI1Ny4zOTc3IiB5MT0iMjg4NC4yMjYzIiB4Mj0iLTIxNTguOTk2NyIgeTI9IjI4ODQuMjI2MyIgeGxpbms6aHJlZj0iI043NSIvPgogICAgPGxpbmVhckdyYWRpZW50IGlkPSJUMjAwLVQ3NSIgeDE9IjEyNi4wMjU3IiB5MT0iODUuMTA4IiB4Mj0iMTk1LjYxOTciIHkyPSIxNS41MTQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjM2RjN2RjIi8+CiAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzljZTNlZSIvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPHRpdGxlPkFkZCBPbiBCbG9ja3MgMjwvdGl0bGU+CiAgPGcgY2xhc3M9ImNscy0xIj4KICAgIDxnIGlkPSJMYXllcl8yIiBkYXRhLW5hbWU9IkxheWVyIDIiPgogICAgICA8ZyBpZD0iT2JqZWN0cyI+CiAgICAgICAgPHJlY3QgaWQ9Il9SZWN0YW5nbGVfIiBkYXRhLW5hbWU9IiZsdDtSZWN0YW5nbGUmZ3Q7IiBjbGFzcz0iY2xzLTIiIHg9IjEyOC42NTgxIiB5PSI4Ny43NDA1IiB3aWR0aD0iNjQuMzI5MSIgaGVpZ2h0PSI3NC44NTkiLz4KICAgICAgICA8cmVjdCBpZD0iX1JlY3RhbmdsZV8yIiBkYXRhLW5hbWU9IiZsdDtSZWN0YW5nbGUmZ3Q7IiBjbGFzcz0iY2xzLTMiIHg9IjY0LjMyOTEiIHk9IjEyLjg4MTUiIHdpZHRoPSI2NC4zMjkxIiBoZWlnaHQ9Ijc0Ljg1OSIvPgogICAgICAgIDxyZWN0IGlkPSJfUmVjdGFuZ2xlXzMiIGRhdGEtbmFtZT0iJmx0O1JlY3RhbmdsZSZndDsiIGNsYXNzPSJjbHMtNCIgeT0iODcuNzQwNSIgd2lkdGg9IjY0LjMyOTEiIGhlaWdodD0iNzQuODU5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9ImNscy01IiBkPSJNNjQuMzI5MSw4Ny43NEg1OC42NTIzYTYyLjc4NzcsNjIuNzg3NywwLDAsMC0yNC41Njg0LDIwLjc2MjFjLTguMjYwNywxMi4xOTYtNC4zNDM3LDE4LjI0MTUtMTEuNjYzNywzMS42Mzk1QzE2LjUxLDE1MC45Niw4LjA1MSwxNTcuODIsMCwxNjIuNTU2di4wNDM1aDY0LjMyOVoiLz4KICAgICAgICA8cmVjdCBpZD0iX1JlY3RhbmdsZV80IiBkYXRhLW5hbWU9IiZsdDtSZWN0YW5nbGUmZ3Q7IiBjbGFzcz0iY2xzLTYiIHg9IjY0LjMyOTEiIHk9Ijg3Ljc0MDUiIHdpZHRoPSI2NC4zMjkxIiBoZWlnaHQ9Ijc0Ljg1OSIvPgogICAgICAgIDxwYXRoIGNsYXNzPSJjbHMtNyIgZD0iTTE5Mi45ODcyLDg3Ljc0SDE4My4zNDNhNjIuNzg3Nyw2Mi43ODc3LDAsMCwwLTI0LjU2ODQsMjAuNzYyMWMtOC4yNjA3LDEyLjE5Ni00LjM0MzgsMTguMjQxNS0xMS42NjM3LDMxLjYzOTVhNTYuNzI0Niw1Ni43MjQ2LDAsMCwxLTE4LjQ1MjcsMTkuOTF2Mi41NDc0aDY0LjMyOVoiLz4KICAgICAgICA8cmVjdCBjbGFzcz0iY2xzLTgiIHg9IjE5Mi45ODcyIiB5PSI4Ny43NDA1IiB3aWR0aD0iNjQuMzI5MSIgaGVpZ2h0PSI3NC44NTkiLz4KICAgICAgICA8cGF0aCBjbGFzcz0iY2xzLTkiIGQ9Ik0xMjguNjU4MiwxMi44ODE1SDExNi41OUE2MS45NjQ2LDYxLjk2NDYsMCwwLDAsMTAxLjMyMzMsMjguMjE1QzkzLjA2MjUsNDAuNDEwOSw5Ni45Nzk0LDQ2LjQ1NjUsODkuNjYsNTkuODU0NCw4My4wMzE2LDcxLjk4NTcsNzMuMTk3LDc5LjE1MTQsNjQuMzI5MSw4My45MTA4djMuODNoNjQuMzI5MVoiLz4KICAgICAgICA8cmVjdCBjbGFzcz0iY2xzLTEwIiB4PSIxMjguNjU4MSIgeT0iMTIuODgxNSIgd2lkdGg9IjY0LjMyOTEiIGhlaWdodD0iNzQuODU5Ii8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy00IiB4PSIxMC4xNjA1IiB5PSI3NC44NTkiIHdpZHRoPSIyNC43NTM2IiBoZWlnaHQ9IjEyLjg4MTUiLz4KICAgICAgICA8cmVjdCBjbGFzcz0iY2xzLTQiIHg9IjUxLjk1MjMiIHk9Ijc0Ljg1OSIgd2lkdGg9IjI0Ljc1MzYiIGhlaWdodD0iMTIuODgxNSIvPgogICAgICAgIDxyZWN0IGNsYXNzPSJjbHMtNCIgeD0iOTMuNzQ0MSIgeT0iNzQuODU5IiB3aWR0aD0iMjQuNzUzNiIgaGVpZ2h0PSIxMi44ODE1Ii8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy0yIiB4PSIxMzguODE4NiIgeT0iNzQuODU5IiB3aWR0aD0iMjQuNzUzNiIgaGVpZ2h0PSIxMi44ODE1Ii8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy0yIiB4PSIxODAuNjEwNCIgeT0iNzQuODU5IiB3aWR0aD0iMjQuNzUzNiIgaGVpZ2h0PSIxMi44ODE1Ii8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy0yIiB4PSIyMjIuNDAyMiIgeT0iNzQuODU5IiB3aWR0aD0iMjQuNzUzNiIgaGVpZ2h0PSIxMi44ODE1Ii8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy0zIiB4PSI3NC40ODk1IiB3aWR0aD0iMjQuNzUzNiIgaGVpZ2h0PSIxMi44ODE1Ii8+CiAgICAgICAgPHJlY3QgY2xhc3M9ImNscy0zIiB4PSIxMTYuMjgxNCIgd2lkdGg9IjI0Ljc1MzYiIGhlaWdodD0iMTIuODgxNSIvPgogICAgICAgIDxyZWN0IGNsYXNzPSJjbHMtMyIgeD0iMTU4LjA3MzIiIHdpZHRoPSIyNC43NTM2IiBoZWlnaHQ9IjEyLjg4MTUiLz4KICAgICAgPC9nPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==
tags:
  - name: users
    description: ""
  - name: teams
    description: ""
  - name: repositories
    description: ""
  - name: source
    description: |-
      Browse the source code in the repository and
                                    create new commits by uploading.
  - name: refs
    description: ""
  - name: commits
    description: ""
  - name: pullrequests
    description: ""
  - name: issue_tracker
    description: >-
      The issue resources provide functionality for getting information on

      issues in an issue tracker, creating new issues, updating them and deleting

      them.


      You can access public issues without authentication, but you can't gain access

      to private repositories' issues. By authenticating, you will get the ability

      to create issues, as well as access to updating data or deleting issues you

      have access to.
  - name: wiki
    description: ""
  - name: downloads
    description: ""
  - name: snippets
    description: ""
  - name: webhooks
    description: >
      Webhooks provide a way to configure Bitbucket Cloud to make requests to

      your server (or another external service) whenever certain events occur in

      Bitbucket Cloud.


      A webhook consists of:


      * A subject -- The resource that generates the events. Currently, this resource
        is the repository, user account, or team where you create the webhook.
      * One or more event -- The default event is a repository push, but you can
        select multiple events that can trigger the webhook.
      * A URL -- The endpoint where you want Bitbucket to send the event payloads
        when a matching event happens.

      There are two parts to getting a webhook to work: creating the webhook and

      triggering the webhook. After you create a webhook for an event, every time

      that event occurs, Bitbucket sends a payload request that describes the event

      to the specified URL. Thus, you can think of webhooks as a kind of

      notification system.


      Use webhooks to integrate applications with Bitbucket Cloud. The following

      use cases provides examples of when you would want to use webhooks:


      * Every time a user pushes commits in a repository, you may want to notify
        your CI server to start a build.
      * Every time a user pushes commits or creates a pull request, you may want to
        display a notification in your application.
  - name: commitstatuses
    description: |
      Commit statuses provide a way to tag commits with meta data,
      like automated build results.
  - name: branchrestrictions
    description: |
      Repository owners and administrators can set branch management
      rules on a repository that control what can be pushed by whom.
      Through these rules, you can enforce a project or team
      workflow. For example, owners or administrators can:

      * Limit push powers
      * Prevent branch (bookmark) deletion
      * Prevent history re-writes (Git only)
  - name: projects
    description: |
      Bitbucket Cloud projects make it easier for teams to focus on
      a goal, product, or process by organizing their repositories.
  - name: pipelines
    description: |
      Bitbucket Pipelines brings continuous delivery to Bitbucket
      Cloud, empowering teams with full branching to deployment
      visibility and faster feedback loops.
  - name: deployments
    description: |
      Teams are deploying code faster than ever, thanks to continuous
      delivery practices and tools like Bitbucket Pipelines. Bitbucket
      Deployments gives teams visibility into their deployment
      environments and helps teams to track how far changes have
      progressed in their deployment pipeline.
x-revision: 27f9dff39833
paths:
  "/repositories/{username}/{repo_slug}/refs/branches/{name}":
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - refs
      responses:
        "200":
          description: The branch object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/branch"
              examples:
                response:
                  value:
                    type: branch
                    name: master
                    links:
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commits/master
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/branches/master
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs/branch/master
                    target:
                      hash: 230269fdfabdb5562a991f351b5dd6425de232d2
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabdb5562a991f351b5dd6425de232d2
                        comments:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabdb5562a991f351b5dd6425de232d2/comments
                        patch:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/patch/230269fdfabdb5562a991f351b5dd6425de232d2
                        html:
                          href: https://bitbucket.org/example-username/bits_and_bobs/commits/230269fdfabdb5562a991f351b5dd6425de232d2
                        diff:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/diff/230269fdfabdb5562a991f351b5dd6425de232d2
                        approve:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabdb5562a991f351b5dd6425de232d2/approve
                        statuses:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabdb5562a991f351b5dd6425de232d2/statuses
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                      author:
                        raw: Example Username 
                        type: author
                        user:
                          username: example-username
                          display_name: Example Username
                          account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                          links:
                            self:
                              href: https://api.bitbucket.org/2.0/users/example-username
                            html:
                              href: https://bitbucket.org/example-username/
                            avatar:
                              href: https://bitbucket.org/account/example-username/avatar/
                          nickname: example-username
                          type: user
                          uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                      parents: []
                      date: 2018-06-20T23:17:33+00:00
                      message: Kickass commit message!
                      type: commit
        "403":
          description: >
            If the repository is private and the authenticated user does not
            have

            access to it.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or branch does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Returns a branch object within the specified repository.


        ```

        $ curl -s https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/refs/branches/default | jq .

        {
          "heads": [
            {
              "hash": "f1a0933ce59e809f190602655e22ae6ec107c397",
              "type": "commit",
              "links": {
                "self": {
                  "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397"
                },
                "html": {
                  "href": "https://bitbucket.org/seanfarley/mercurial/commits/f1a0933ce59e809f190602655e22ae6ec107c397"
                }
              }
            }
          ],
          "type": "named_branch",
          "name": "default",
          "links": {
            "commits": {
              "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commits/default"
            },
            "self": {
              "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/refs/branches/default"
            },
            "html": {
              "href": "https://bitbucket.org/seanfarley/mercurial/branch/default"
            }
          },
          "target": {
            "hash": "f1a0933ce59e809f190602655e22ae6ec107c397",
            "repository": {
              "links": {
                "self": {
                  "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial"
                },
                "html": {
                  "href": "https://bitbucket.org/seanfarley/mercurial"
                },
                "avatar": {
                  "href": "https://bitbucket.org/seanfarley/mercurial/avatar/32/"
                }
              },
              "type": "repository",
              "name": "mercurial",
              "full_name": "seanfarley/mercurial",
              "uuid": "{73dcbd61-e506-4fc1-9ecd-31be2b6d6031}"
            },
            "links": {
              "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397"
              },
              "comments": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397/comments"
              },
              "patch": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/patch/f1a0933ce59e809f190602655e22ae6ec107c397"
              },
              "html": {
                "href": "https://bitbucket.org/seanfarley/mercurial/commits/f1a0933ce59e809f190602655e22ae6ec107c397"
              },
              "diff": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/diff/f1a0933ce59e809f190602655e22ae6ec107c397"
              },
              "approve": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397/approve"
              },
              "statuses": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397/statuses"
              }
            },
            "author": {
              "raw": "Martin von Zweigbergk ",
              "type": "author",
              "user": {
                "username": "martinvonz",
                "nickname": "martinvonz",
                "display_name": "Martin von Zweigbergk",
                "type": "user",
                "uuid": "{fdb0e657-3ade-4fad-a136-95f1ffe4a5ac}",
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/users/martinvonz"
                  },
                  "html": {
                    "href": "https://bitbucket.org/martinvonz/"
                  },
                  "avatar": {
                    "href": "https://bitbucket.org/account/martinvonz/avatar/32/"
                  }
                }
              }
            },
            "parents": [
              {
                "hash": "5523aabb85c30ebc2b8e29aadcaf5e13fa92b375",
                "type": "commit",
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/5523aabb85c30ebc2b8e29aadcaf5e13fa92b375"
                  },
                  "html": {
                    "href": "https://bitbucket.org/seanfarley/mercurial/commits/5523aabb85c30ebc2b8e29aadcaf5e13fa92b375"
                  }
                }
              }
            ],
            "date": "2018-02-01T18:44:49+00:00",
            "message": "config: replace a for-else by any()",
            "type": "commit"
          }
        }

        ```


        This call requires authentication. Private repositories require the

        caller to authenticate with an account that has appropriate

        authorization.


        For Git, the branch name should not include any prefixes (e.g.

        refs/heads).


        For Mercurial, the response will include an additional field that lists

        the open heads.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The name of the branch.
        in: path
        name: name
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - refs
      responses:
        "204":
          description: Indicates that the specified branch was successfully deleted.
        "403":
          description: >
            If the repository is private and the authenticated user does not
            have

            access to it.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or branch does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Delete a branch in the specified repository.

        The main branch is not allowed to be deleted and will return a 400
        response.

        For Git, the branch name should not include any prefixes (e.g.
        refs/heads). For Mercurial, this closes all open heads on the branch,
        sets the author of the commit to the authenticated caller, and changes
        the date to the datetime of the call.
  "/teams/{username}/following":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - account
        - basic: []
        - api_key: []
      tags:
        - teams
      responses:
        "200":
          description: A paginated list of user objects.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_users"
        "404":
          description: If no team exists for the specified name, or if the specified
            account is a personal account, not a team account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The team's username
          in: path
          name: username
          schema:
            type: string
      description: Returns the list of accounts this team is following.
  /user/permissions/repositories:
    parameters: []
    get:
      security:
        - oauth2:
            - account
        - basic: []
        - api_key: []
      tags:
        - repositories
      responses:
        "200":
          description: Repository permissions for the repositories a caller has explicit
            access to.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_repository_permissions"
      parameters:
        - required: false
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../meta/filtering).
          in: query
          name: q
          schema:
            type: string
        - required: false
          description: |
            
            Name of a response property sort the result by as per
            [filtering and sorting](../../../meta/filtering#query-sort).
          in: query
          name: sort
          schema:
            type: string
      description: |-
        Returns an object for each repository the caller has explicit access
        to and their effective permission â€” the highest level of permission the
        caller has. This does not return public repositories that the user was
        not granted any specific permission in, and does not distinguish between
        direct and indirect privileges.

        Permissions can be:

        * `admin`
        * `write`
        * `read`

        Example:

        ```
        $ curl https://api.bitbucket.org/2.0/user/permissions/repositories

        {
          "pagelen": 10,
          "values": [
            {
              "type": "repository_permission",
              "user": {
                "type": "user",
                "username": "evzijst",
                "nickname": "evzijst",
                "display_name": "Erik van Zijst",
                "uuid": "{d301aafa-d676-4ee0-88be-962be7417567}"
              },
              "repository": {
                "type": "repository",
                "name": "geordi",
                "full_name": "bitbucket/geordi",
                "uuid": "{85d08b4e-571d-44e9-a507-fa476535aa98}"
              },
              "permission": "admin"
            }
          ],
          "page": 1,
          "size": 1
        }
        ```

        Results may be further [filtered or sorted](../../../meta/filtering) by
        repository or permission by adding the following query string
        parameters:

        * `q=repository.name="geordi"` or `q=permission>"read"`
        * `sort=repository.name`

        Note that the query parameter values need to be URL escaped so that `=`
        would become `%3D`.
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}/steps/{step_uuid}/test_reports/test_cases/{test_case_uuid}/test_case_reasons":
    get:
      responses:
        default:
          description: Default response
  "/teams/{username}/pipelines_config/variables/{variable_uuid}":
    put:
      description: Update a team level variable.
      tags:
        - pipelines
      responses:
        "200":
          description: The variable was updated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_variable"
        "404":
          description: The account or the variable was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The UUID of the variable.
          required: true
          name: variable_uuid
          in: path
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/pipeline_variable"
      operationId: updatePipelineVariableForTeam
    get:
      description: Retrieve a team level variable.
      tags:
        - pipelines
      responses:
        "200":
          description: The variable.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_variable"
        "404":
          description: The account or variable with the given UUID was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The UUID of the variable to retrieve.
          required: true
          name: variable_uuid
          in: path
          schema:
            type: string
      operationId: getPipelineVariableForTeam
    delete:
      description: Delete a team level variable.
      tags:
        - pipelines
      responses:
        "204":
          description: The variable was deleted
        "404":
          description: The account or the variable with the provided UUID does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The UUID of the variable to delete.
          required: true
          name: variable_uuid
          in: path
          schema:
            type: string
      operationId: deletePipelineVariableForTeam
  "/repositories/{username}/{repo_slug}/hooks":
    post:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - repositories
        - webhooks
      responses:
        "201":
          headers:
            Location:
              description: The URL of new newly created webhook.
              schema:
                type: string
          description: If the webhook was registered successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/webhook_subscription"
        "403":
          description: If the authenticated user does not have permission to install
            webhooks on the specified repository.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Creates a new webhook on the specified repository.


        Example:


        ```

        $ curl -X POST -u credentials -H 'Content-Type: application/json'           https://api.bitbucket.org/2.0/repositories/username/slug/hooks           -d '
            {
              "description": "Webhook Description",
              "url": "https://example.com/",
              "active": true,
              "events": [
                "repo:push",
                "issue:created",
                "issue:updated"
              ]
            }'
        ```


        Note that this call requires the webhook scope, as well as any scope

        that applies to the events that the webhook subscribes to. In the

        example above that means: `webhook`, `repository` and `issue`.


        Also note that the `url` must properly resolve and cannot be an

        internal, non-routed address.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - repositories
        - webhooks
      responses:
        "200":
          description: The paginated list of installed webhooks.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_webhook_subscriptions"
        "403":
          description: If the authenticated user does not have permission to access the
            webhooks.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns a paginated list of webhooks installed on this repository.
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/statuses":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The id of the pull request.
        in: path
        name: pull_request_id
        schema:
          type: integer
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - repositories
        - pullrequests
        - commitstatuses
      responses:
        "200":
          description: A paginated list of all commit statuses for this pull request.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_commitstatuses"
        "401":
          description: If the repository is private and the request was not authenticated.
        "404":
          description: If the specified repository or pull request does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns all statuses (e.g. build results) for the given pull
        request.
  "/teams/{username}/projects/":
    post:
      security:
        - oauth2:
            - project:write
        - basic: []
        - api_key: []
      tags:
        - projects
      responses:
        "201":
          headers:
            Location:
              description: The location of the newly created project
              schema:
                type: string
          description: A new project has been created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/project"
        "403":
          description: The requesting user isn't authorized to create the project.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: A team doesn't exist at this location.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        $ref: "#/components/requestBodies/project"
      description: >-
        Creates a new project.


        Note that the avatar has to be embedded as either a data-url

        or a URL to an external image as shown in the examples below:


        ```

        $ body=$(cat << EOF

        {
            "name": "Mars Project",
            "key": "MARS",
            "description": "Software for colonizing mars.",
            "links": {
                "avatar": {
                    "href": "data:image/gif;base64,R0lGODlhEAAQAMQAAORHHOVSKudfOulrSOp3WOyDZu6QdvCchPGolfO0o/..."
                }
            },
            "is_private": false
        }

        EOF

        )

        $ curl -H "Content-Type: application/json" \
               -X POST \
               -d "$body" \
               https://api.bitbucket.org/2.0/teams/teams-in-space/projects/ | jq .
        {
          // Serialized project document
        }

        ```


        or even:


        ```

        $ body=$(cat << EOF

        {
            "name": "Mars Project",
            "key": "MARS",
            "description": "Software for colonizing mars.",
            "links": {
                "avatar": {
                    "href": "http://i.imgur.com/72tRx4w.gif"
                }
            },
            "is_private": false
        }

        EOF

        )

        $ curl -H "Content-Type: application/json" \
               -X POST \
               -d "$body" \
               https://api.bitbucket.org/2.0/teams/teams-in-space/projects/ | jq .
        {
          // Serialized project document
        }

        ```
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
    get:
      security:
        - oauth2:
            - project
        - basic: []
        - api_key: []
      tags:
        - projects
      responses:
        "200":
          description: A paginated list of projects that belong to the specified team.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_projects"
        "403":
          description: The requesting user isn't authorized to read the list of projects
            for the specified team.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: A team doesn't exist at this location.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
  "/repositories/{username}/{repo_slug}/issues/export":
    post:
      security:
        - oauth2:
            - repository:admin
            - issue
        - basic: []
        - api_key: []
      tags: []
      responses:
        "202":
          description: The export job has been accepted
        "401":
          description: The request wasn't authenticated properly
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: When the authenticated user does not have admin permission on the
            repo
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The repo does not exist or does not have an issue tracker
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
      description: >-
        A POST request to this endpoint initiates a new background celery task
        that archives the repo's issues.


        For example, you can run:


        curl -u  -X POST http://api.bitbucket.org/2.0/repositories///

        issues/export


        When the job has been accepted, it will return a 202 (Accepted) along with a unique url to this job in the

        'Location' response header. This url is the endpoint for where the user can obtain their zip files."
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
  "/repositories/{username}/{repo_slug}/issues/{issue_id}/attachments/{path}":
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "302":
          headers:
            Location:
              schema:
                type: string
          description: A redirect to the file's contents
        "401":
          description: If the issue tracker is private and the request was not
            authenticated.
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns the contents of the specified file attachment.

        Note that this endpoint does not return a JSON response, but instead
        returns a redirect pointing to the actual file that in turn will return
        the raw contents.

        The redirect URL contains a one-time token that has a limited lifetime.
        As a result, the link should not be persisted, stored, or shared.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: path
        in: path
        schema:
          type: string
      - required: true
        name: issue_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - issue:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "204":
          description: Indicates that the deletion was successful
        "401":
          description: If the issue tracker is private and the request was not
            authenticated.
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Deletes an attachment.
  "/repositories/{username}/{repo_slug}/versions/{version_id}":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
      - required: true
        description: The version's id
        in: path
        name: version_id
        schema:
          type: integer
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The specified version object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/version"
        "404":
          description: The specified repository or version does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the specified issue tracker version object.
  "/repositories/{username}/{repo_slug}/issues/{issue_id}/vote":
    put:
      security:
        - oauth2:
            - issue
            - account:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "204":
          description: Indicating the authenticated user has cast their vote successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: When the request wasn't authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Vote for this issue.

        To cast your vote, do an empty PUT. The 204 status code indicates that
        the operation was successful.
    get:
      security:
        - oauth2:
            - issue
            - account
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "204":
          description: If the authenticated user has not voted for this issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: When the request wasn't authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the authenticated user has not voted for this issue, or when the
            repo does not exist, or does not have an issue tracker.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Check whether the authenticated user has voted for this issue.
        A 204 status code indicates that the user has voted, while a 404
        implies they haven't.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The issue id
        in: path
        name: issue_id
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - issue:write
            - account:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Retract your vote.
  "/repositories/{username}/{repo_slug}/issues/import":
    post:
      security:
        - oauth2:
            - repository:admin
            - issue:write
        - basic: []
        - api_key: []
      tags: []
      responses:
        "202":
          description: Import job accepted
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue_job_status"
        "401":
          description: The request wasn't authenticated properly
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: When the authenticated user does not have admin permission on the
            repo
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: No export job has begun
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "409":
          description: Import already running
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
      description: >-
        A POST request to this endpoint will import the zip file given by the
        archive parameter into the repository. All

        existing issues will be deleted and replaced by the contents of the imported zip file.


        Imports are done through a multipart/form-data POST. There is one valid and required form field, with the name

        "archive," which needs to be a file field:


        ```

        $ curl -u  -X POST -F archive=@/path/to/file.zip https://api.bitbucket.org/2.0/repositories///issues/import

        ```


        When the import job is accepted, here is example output:


        ```

        < HTTP/1.1 202 Accepted


        {
            "type": "issue_job_status",
            "status": "ACCEPTED",
            "phase": "Attachments",
            "total": 15,
            "count": 0,
            "percent": 0
        }

        ```
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository:admin
            - issue:write
        - basic: []
        - api_key: []
      tags: []
      responses:
        "200":
          description: Import job complete with either FAILURE or SUCCESS status
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue_job_status"
        "202":
          description: Import job started
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue_job_status"
        "401":
          description: The request wasn't authenticated properly
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: When the authenticated user does not have admin permission on the
            repo
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: No export job has begun
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
      description: >-
        When using GET, this endpoint reports the status of the current import
        task. Request example:


        ```

        $ curl -u  -X GET https://api.bitbucket.org/2.0/repositories///issues/import

        ```


        After the job has been scheduled, but before it starts executing, this endpoint's response is:


        ```

        < HTTP/1.1 202 Accepted

        {
            "type": "issue_job_status",
            "status": "PENDING",
            "phase": "Attachments",
            "total": 15,
            "count": 0,
            "percent": 0
        }

        ```


        Once it starts running, it is a 202 response with status STARTED and progress filled.


        After it is finished, it becomes a 200 response with status SUCCESS or FAILURE.
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}/steps/{step_uuid}/log":
    get:
      responses:
        "200":
          description: The raw log file for this pipeline step.
        "304":
          description: The log has the same etag as the provided If-None-Match header.
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: A pipeline with the given UUID does not exist, a step with the given
            UUID does not exist in the pipeline or a log file does not exist for
            the given step.
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/error"
        "416":
          description: The requested range does not exist for requests that specified the
            [HTTP Range
            header](https://tools.ietf.org/html/rfc7233#section-3.1).
          content:
            application/octet-stream:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Retrieve the log file for a given step of a pipeline.


        This endpoint supports (and encourages!) the use of [HTTP Range requests](https://tools.ietf.org/html/rfc7233) to deal with potentially very large log files.
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the pipeline.
          required: true
          name: pipeline_uuid
          in: path
          schema:
            type: string
        - description: The UUID of the step.
          required: true
          name: step_uuid
          in: path
          schema:
            type: string
      tags:
        - pipelines
      operationId: getPipelineStepLogForRepository
  "/repositories/{username}/{repo_slug}/milestones":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The milestones that have been defined in the issue tracker.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_milestones"
        "404":
          description: The specified repository does not exist or does not have the issue
            tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns the milestones that have been defined in the issue tracker.

        This resource is only available on repositories that have the issue
        tracker enabled.
  "/repositories/{workspace}/{repo_slug}/pipelines_config/ssh/key_pair":
    put:
      description: Create or update the repository SSH key pair. The private key will be
        set as a default SSH identity in your build container.
      tags:
        - pipelines
      responses:
        "200":
          description: The SSH key pair was created or updated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_ssh_key_pair"
        "404":
          description: The account, repository or SSH key pair was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipeline_ssh_key_pair"
        description: The created or updated SSH key pair.
        required: true
      operationId: updateRepositoryPipelineKeyPair
    get:
      description: Retrieve the repository SSH key pair excluding the SSH private key. The
        private key is a write only field and will never be exposed in the logs
        or the REST API.
      tags:
        - pipelines
      responses:
        "200":
          description: The SSH key pair.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_ssh_key_pair"
        "404":
          description: The account, repository or SSH key pair was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: getRepositoryPipelineSshKeyPair
    delete:
      description: Delete the repository SSH key pair.
      tags:
        - pipelines
      responses:
        "204":
          description: The SSH key pair was deleted.
        "404":
          description: The account, repository or SSH key pair was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: deleteRepositoryPipelineKeyPair
  "/repositories/{workspace}/{repo_slug}/environments/":
    post:
      description: Create an environment.
      tags:
        - deployments
      responses:
        "201":
          headers:
            Location:
              description: The URL of the newly created environment.
              schema:
                type: string
          description: The environment was created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deployment_environment"
        "404":
          description: The account or repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "409":
          description: An environment host with the provided name already exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/deployment_environment"
        description: The environment to create.
        required: true
      operationId: createEnvironment
    get:
      description: Find environments
      tags:
        - deployments
      responses:
        "200":
          description: The matching environments.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_environments"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: getEnvironmentsForRepository
  "/repositories/{username}/{repo_slug}/commits/{revision}":
    post:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Identical to `GET /repositories/{username}/{repo_slug}/commits`,
        except that POST allows clients to place the include and exclude
        parameters in the request body to avoid URL length issues.

        **Note that this resource does NOT support new commit creation.**
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        name: revision
        in: path
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        These are the repository's commits. They are paginated and returned

        in reverse chronological order, similar to the output of `git log` and

        `hg log`. Like these tools, the DAG can be filtered.


        ## GET /repositories/{username}/{repo_slug}/commits/


        Returns all commits in the repo in topological order (newest commit

        first). All branches and tags are included (similar to

        `git log --all` and `hg log`).


        ## GET /repositories/{username}/{repo_slug}/commits/master


        Returns all commits on rev `master` (similar to `git log master`,

        `hg log master`).


        ## GET /repositories/{username}/{repo_slug}/commits/dev?exclude=master


        Returns all commits on ref `dev`, except those that are reachable on

        `master` (similar to `git log dev ^master`).


        ## GET /repositories/{username}/{repo_slug}/commits/?exclude=master


        Returns all commits in the repo that are not on master

        (similar to `git log --all ^master`).


        ## GET /repositories/{username}/{repo_slug}/commits/?include=foo&include=bar&exclude=fu&exclude=fubar


        Returns all commits that are on refs `foo` or `bar`, but not on `fu` or

        `fubar` (similar to `git log foo bar ^fu ^fubar`).


        An optional `path` parameter can be specified that will limit the

        results to commits that affect that path. `path` can either be a file

        or a directory. If a directory is specified, commits are returned that

        have modified any file in the directory tree rooted by `path`. It is

        important to note that if the `path` parameter is specified, the commits

        returned by this endpoint may no longer be a DAG, parent commits that

        do not modify the path will be omitted from the response.


        ## GET /repositories/{username}/{repo_slug}/commits/?path=README.md&include=foo&include=bar&exclude=master


        Returns all commits that are on refs `foo` or `bar`, but not on `master`

        that changed the file README.md.


        ## GET /repositories/{username}/{repo_slug}/commits/?path=src/&include=foo&include=bar&exclude=master


        Returns all commits that are on refs `foo` or `bar`, but not on `master`

        that changed to a file in any file in the directory src or its children.


        Because the response could include a very large number of commits, it

        is paginated. Follow the 'next' link in the response to navigate to the

        next page of commits. As with other paginated resources, do not

        construct your own links.


        When the include and exclude parameters are more than can fit in a

        query string, clients can use a `x-www-form-urlencoded` POST instead.
  "/addon/linkers/{linker_key}/values":
    put:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
    post:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
    parameters:
      - required: true
        name: linker_key
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
  "/repositories/{workspace}/{repo_slug}/pipelines_config/ssh/known_hosts/":
    post:
      description: Create a repository level known host.
      tags:
        - pipelines
      responses:
        "201":
          headers:
            Location:
              description: The URL of the newly created pipeline known host.
              schema:
                type: string
          description: The known host was created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_known_host"
        "404":
          description: The account or repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "409":
          description: A known host with the provided hostname already exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipeline_known_host"
        description: The known host to create.
        required: true
      operationId: createRepositoryPipelineKnownHost
    get:
      description: Find repository level known hosts.
      tags:
        - pipelines
      responses:
        "200":
          description: The retrieved known hosts.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pipeline_known_hosts"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: getRepositoryPipelineKnownHosts
  "/repositories/{username}/{repo_slug}/deploy-keys/{key_id}":
    put:
      security:
        - oauth2:
            - repository
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - deploy
      responses:
        "200":
          description: The newly updated deploy key.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deploy_key"
        "400":
          description: If the submitted key or related value is invalid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the current user does not have permission to add a key for the
            specified user
        "404":
          description: If the specified user, repository, or deploy key does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Create a new deploy key in a repository.


        The same key needs to be passed in but the comment and label can change.


        Example:

        ```

        $ curl -XPUT \

        -H "Authorization " \

        -H "Content-type: application/json" \

        https://api.bitbucket.org/2.0/repositories/mleu/test/deploy-keys/1234 -d \

        '{
            "label": "newlabel",
            "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAK/b1cHHDr/TEV1JGQl+WjCwStKG6Bhrv0rFpEsYlyTBm1fzN0VOJJYn4ZOPCPJwqse6fGbXntEs+BbXiptR+++HycVgl65TMR0b5ul5AgwrVdZdT7qjCOCgaSV74/9xlHDK8oqgGnfA7ZoBBU+qpVyaloSjBdJfLtPY/xqj4yHnXKYzrtn/uFc4Kp9Tb7PUg9Io3qohSTGJGVHnsVblq/rToJG7L5xIo0OxK0SJSQ5vuId93ZuFZrCNMXj8JDHZeSEtjJzpRCBEXHxpOPhAcbm4MzULgkFHhAVgp4JbkrT99/wpvZ7r9AdkTg7HGqL3rlaDrEcWfL7Lu6TnhBdq5 newcomment",
        }'


        Output:

        {
            "comment": "newcomment",
            "last_used": null,
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/mleu/test/deploy-keys/1234"
                }
            },
            "repository": {
                "full_name": "mleu/test",
                "name": "test",
                "type": "repository",
                "uuid": "{85d08b4e-571d-44e9-a507-fa476535aa98}"
            },
            "label": "newlabel",
            "created_on": "2018-08-15T23:50:59.993890+00:00",
            "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAK/b1cHHDr/TEV1JGQl+WjCwStKG6Bhrv0rFpEsYlyTBm1fzN0VOJJYn4ZOPCPJwqse6fGbXntEs+BbXiptR+++HycVgl65TMR0b5ul5AgwrVdZdT7qjCOCgaSV74/9xlHDK8oqgGnfA7ZoBBU+qpVyaloSjBdJfLtPY/xqj4yHnXKYzrtn/uFc4Kp9Tb7PUg9Io3qohSTGJGVHnsVblq/rToJG7L5xIo0OxK0SJSQ5vuId93ZuFZrCNMXj8JDHZeSEtjJzpRCBEXHxpOPhAcbm4MzULgkFHhAVgp4JbkrT99/wpvZ7r9AdkTg7HGqL3rlaDrEcWfL7Lu6TnhBdq5",
            "id": 1234,
            "type": "deploy_key"
        }

        ```
    get:
      security:
        - oauth2:
            - repository
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - deploy
      responses:
        "200":
          description: Deploy key matching the key ID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deploy_key"
        "403":
          description: If the specified user or repository is not accessible to the current
            user
        "404":
          description: If the specified user or repository does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Returns the deploy key belonging to a specific key.


        Example:

        ```

        $ curl -H "Authorization " \

        https://api.bitbucket.org/2.0/repositories/mleu/test/deploy-key/1234


        Output:

        {
            "comment": "mleu@C02W454JHTD8",
            "last_used": null,
            "links": {
                "self": {
                    "href": https://api.bitbucket.org/2.0/repositories/mleu/test/deploy-key/1234"
                }
            },
            "repository": {
                "full_name": "mleu/test",
                "name": "test",
                "type": "repository",
                "uuid": "{85d08b4e-571d-44e9-a507-fa476535aa98}"
            },
            "label": "mykey",
            "created_on": "2018-08-15T23:50:59.993890+00:00",
            "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAK/b1cHHDr/TEV1JGQl+WjCwStKG6Bhrv0rFpEsYlyTBm1fzN0VOJJYn4ZOPCPJwqse6fGbXntEs+BbXiptR+++HycVgl65TMR0b5ul5AgwrVdZdT7qjCOCgaSV74/9xlHDK8oqgGnfA7ZoBBU+qpVyaloSjBdJfLtPY/xqj4yHnXKYzrtn/uFc4Kp9Tb7PUg9Io3qohSTGJGVHnsVblq/rToJG7L5xIo0OxK0SJSQ5vuId93ZuFZrCNMXj8JDHZeSEtjJzpRCBEXHxpOPhAcbm4MzULgkFHhAVgp4JbkrT99/wpvZ7r9AdkTg7HGqL3rlaDrEcWfL7Lu6TnhBdq5",
            "id": 1234,
            "type": "deploy_key"
        }

        ```
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
      - required: true
        description: The key ID matching the deploy key.
        in: path
        name: key_id
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - repository
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - deploy
      responses:
        "204":
          description: The key has been deleted
        "403":
          description: If the current user does not have permission to delete a key for the
            specified user
        "404":
          description: If the specified user, repository, or deploy key does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        This deletes a deploy key from a repository.

        Example:
        ```
        $ curl -XDELETE \
        -H "Authorization " \
        https://api.bitbucket.org/2.0/repositories/mleu/test/deploy-keys/1234
        ```
  "/repositories/{username}/{repo_slug}/issues/{issue_id}/changes":
    post:
      security:
        - oauth2:
            - issue:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "201":
          headers:
            Location:
              description: The (absolute) URL of the newly created issue change.
              schema:
                type: string
          description: The newly created issue change.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue_change"
        "401":
          description: When the request wasn't authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: When the authenticated user isn't authorized to modify the issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/issue_change"
        description: The new issue state change. The only required elements are
          `changes.[].new`. All other elements can be omitted from the body.
        required: true
      description: |-
        Makes a change to the specified issue.

        For example, to change an issue's state and assignee, create a new
        change object that modifies these fields:

        ```
        curl https://api.bitbucket.org/2.0/site/master/issues/1234/changes \
          -s -u evzijst -X POST -H "Content-Type: application/json" \
          -d '{
            "changes": {
              "assignee_account_id": {
                "new": "557058:c0b72ad0-1cb5-4018-9cdc-0cde8492c443"
              },
              "state": {
                "new": 'resolved"
              }
            }
            "message": {
              "raw": "This is now resolved."
            }
          }'
        ```

        The above example also includes a custom comment to go alongside the
        change. This comment will also be visible on the issue page in the UI.

        The fields of the `changes` object are strings, not objects. This
        allows for immutable change log records, even after user accounts,
        milestones, or other objects recorded in a change entry, get renamed or
        deleted.

        The `assignee_account_id` field stores the account id. When POSTing a
        new change and changing the assignee, the client should therefore use
        the user's account_id in the `changes.assignee_account_id.new` field.

        This call requires authentication. Private repositories or private
        issue trackers require the caller to authenticate with an account that
        has appropriate authorization.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The issue id
        in: path
        name: issue_id
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: Returns all the issue changes that were made on the specified issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_log_entries"
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: |-
            
            Query string to narrow down the response. See
            [filtering and sorting](../../../meta/filtering) for details.
          in: query
          name: q
          schema:
            type: string
        - required: false
          description: |
            
            Name of a response property to sort results. See
            [filtering and sorting](../../../meta/filtering#query-sort)
            for details.
          in: query
          name: sort
          schema:
            type: string
      description: >-
        Returns the list of all changes that have been made to the specified

        issue. Changes are returned in chronological order with the oldest

        change first.


        Each time an issue is edited in the UI or through the API, an immutable

        change record is created under the `/issues/123/changes` endpoint. It

        also has a comment associated with the change.


        Note that this operation is changing significantly, due to privacy changes.

        See the [announcement](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#changes-to-the-issue-changes-api)

        for details.


        ```

        $ curl -s https://api.bitbucket.org/2.0/repositories/evzijst/dogslow/issues/1/changes - | jq .


        {
          "pagelen": 20,
          "values": [
            {
              "changes": {
                "priority": {
                  "new": "trivial",
                  "old": "major"
                },
                "assignee": {
                  "new": "",
                  "old": "evzijst"
                },
                "assignee_account_id": {
                  "new": "",
                  "old": "557058:c0b72ad0-1cb5-4018-9cdc-0cde8492c443"
                },
                "kind": {
                  "new": "enhancement",
                  "old": "bug"
                }
              },
              "links": {
                "self": {
                  "href": "https://api.bitbucket.org/2.0/repositories/evzijst/dogslow/issues/1/changes/2"
                },
                "html": {
                  "href": "https://bitbucket.org/evzijst/dogslow/issues/1#comment-2"
                }
              },
              "issue": {
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/evzijst/dogslow/issues/1"
                  }
                },
                "type": "issue",
                "id": 1,
                "repository": {
                  "links": {
                    "self": {
                      "href": "https://api.bitbucket.org/2.0/repositories/evzijst/dogslow"
                    },
                    "html": {
                      "href": "https://bitbucket.org/evzijst/dogslow"
                    },
                    "avatar": {
                      "href": "https://bitbucket.org/evzijst/dogslow/avatar/32/"
                    }
                  },
                  "type": "repository",
                  "name": "dogslow",
                  "full_name": "evzijst/dogslow",
                  "uuid": "{988b17c6-1a47-4e70-84ee-854d5f012bf6}"
                },
                "title": "Updated title"
              },
              "created_on": "2018-03-03T00:35:28.353630+00:00",
              "user": {
                "username": "evzijst",
                "nickname": "evzijst",
                "display_name": "evzijst",
                "type": "user",
                "uuid": "{aaa7972b-38af-4fb1-802d-6e3854c95778}",
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/users/evzijst"
                  },
                  "html": {
                    "href": "https://bitbucket.org/evzijst/"
                  },
                  "avatar": {
                    "href": "https://bitbucket.org/account/evzijst/avatar/32/"
                  }
                }
              },
              "message": {
                "raw": "Removed assignee, changed kind and priority.",
                "markup": "markdown",
                "html": "Removed assignee, changed kind and priority.",
                "type": "rendered"
              },
              "type": "issue_change",
              "id": 2
            }
          ],
          "page": 1
        }

        ```


        Changes support [filtering and sorting](../../../meta/filtering) that

        can be used to search for specific changes. For instance, to see

        when an issue transitioned to "resolved":


        ```

        $ curl -s https://api.bitbucket.org/2.0/repositories/site/master/issues/1/changes \
           -G --data-urlencode='q=changes.state.new = "resolved"'
        ```


        This resource is only available on repositories that have the issue

        tracker enabled.


        N.B.


        The `changes.assignee` and `changes.assignee_account_id` fields are not

        a `user` object. Instead, they contain the raw `username` and

        `account_id` of the user. This is to protect the integrity of the audit

        log even after a user account gets deleted.


        The `changes.assignee` field is deprecated will disappear in the

        future. Use `changes.assignee_account_id` instead.
  "/repositories/{username}/{repo_slug}/deploy-keys":
    post:
      security:
        - oauth2:
            - repository
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - deploy
      responses:
        "200":
          description: The deploy key that was created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deploy_key"
        "400":
          description: Invalid deploy key inputs
        "403":
          description: If the specified user or repository is not accessible to the current
            user
        "404":
          description: If the specified user or repository does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Create a new deploy key in a repository.


        Example:

        ```

        $ curl -XPOST \

        -H "Authorization " \

        -H "Content-type: application/json" \

        https://api.bitbucket.org/2.0/repositories/mleu/test/deploy-keys -d \

        '{
            "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAK/b1cHHDr/TEV1JGQl+WjCwStKG6Bhrv0rFpEsYlyTBm1fzN0VOJJYn4ZOPCPJwqse6fGbXntEs+BbXiptR+++HycVgl65TMR0b5ul5AgwrVdZdT7qjCOCgaSV74/9xlHDK8oqgGnfA7ZoBBU+qpVyaloSjBdJfLtPY/xqj4yHnXKYzrtn/uFc4Kp9Tb7PUg9Io3qohSTGJGVHnsVblq/rToJG7L5xIo0OxK0SJSQ5vuId93ZuFZrCNMXj8JDHZeSEtjJzpRCBEXHxpOPhAcbm4MzULgkFHhAVgp4JbkrT99/wpvZ7r9AdkTg7HGqL3rlaDrEcWfL7Lu6TnhBdq5 mleu@C02W454JHTD8",
            "label": "mydeploykey"
        }'


        Output:

        {
            "id": 123,
            "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAK/b1cHHDr/TEV1JGQl+WjCwStKG6Bhrv0rFpEsYlyTBm1fzN0VOJJYn4ZOPCPJwqse6fGbXntEs+BbXiptR+++HycVgl65TMR0b5ul5AgwrVdZdT7qjCOCgaSV74/9xlHDK8oqgGnfA7ZoBBU+qpVyaloSjBdJfLtPY/xqj4yHnXKYzrtn/uFc4Kp9Tb7PUg9Io3qohSTGJGVHnsVblq/rToJG7L5xIo0OxK0SJSQ5vuId93ZuFZrCNMXj8JDHZeSEtjJzpRCBEXHxpOPhAcbm4MzULgkFHhAVgp4JbkrT99/wpvZ7r9AdkTg7HGqL3rlaDrEcWfL7Lu6TnhBdq5",
            "label": "mydeploykey",
            "type": "deploy_key",
            "created_on": "2018-08-15T23:50:59.993890+00:00",
            "repository": {
                "full_name": "mleu/test",
                "name": "test",
                "type": "repository",
                "uuid": "{85d08b4e-571d-44e9-a507-fa476535aa98}"
            },
            "links":{
                "self":{
                    "href": "https://api.bitbucket.org/2.0/repositories/mleu/test/deploy-keys/123"
                }
            }
            "last_used": null,
            "comment": "mleu@C02W454JHTD8"
        }

        ```
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - deploy
      responses:
        "200":
          description: Deploy keys matching the repository
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_deploy_keys"
        "403":
          description: If the specified user or repository is not accessible to the current
            user
        "404":
          description: If the specified user or repository does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Returns all deploy-keys belonging to a repository.


        Example:

        ```

        $ curl -H "Authorization " \

        https://api.bitbucket.org/2.0/repositories/mleu/test/deploy-keys


        Output:

        {
            "pagelen": 10,
            "values": [
                {
                    "id": 123,
                    "key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAK/b1cHHDr/TEV1JGQl+WjCwStKG6Bhrv0rFpEsYlyTBm1fzN0VOJJYn4ZOPCPJwqse6fGbXntEs+BbXiptR+++HycVgl65TMR0b5ul5AgwrVdZdT7qjCOCgaSV74/9xlHDK8oqgGnfA7ZoBBU+qpVyaloSjBdJfLtPY/xqj4yHnXKYzrtn/uFc4Kp9Tb7PUg9Io3qohSTGJGVHnsVblq/rToJG7L5xIo0OxK0SJSQ5vuId93ZuFZrCNMXj8JDHZeSEtjJzpRCBEXHxpOPhAcbm4MzULgkFHhAVgp4JbkrT99/wpvZ7r9AdkTg7HGqL3rlaDrEcWfL7Lu6TnhBdq5",
                    "label": "mykey",
                    "type": "deploy_key",
                    "created_on": "2018-08-15T23:50:59.993890+00:00",
                    "repository": {
                        "full_name": "mleu/test",
                        "name": "test",
                        "type": "repository",
                        "uuid": "{85d08b4e-571d-44e9-a507-fa476535aa98}"
                    },
                    "links":{
                        "self":{
                            "href": "https://api.bitbucket.org/2.0/repositories/mleu/test/deploy-keys/123"
                        }
                    }
                    "last_used": null,
                    "comment": "mleu@C02W454JHTD8"
                }
            ],
            "page": 1,
            "size": 1
        }

        ```
  "/repositories/{username}/{repo_slug}/refs/branches":
    post:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - refs
      responses:
        "201":
          description: The newly created branch object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/branch"
              examples:
                response:
                  value:
                    type: branch
                    name: master
                    links:
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commits/master
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/branches/master
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs/branch/master
                    target:
                      hash: 230269fdfabdb5562a991f351b5dd6425de232d2
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabdb5562a991f351b5dd6425de232d2
                        comments:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabdb5562a991f351b5dd6425de232d2/comments
                        patch:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/patch/230269fdfabdb5562a991f351b5dd6425de232d2
                        html:
                          href: https://bitbucket.org/example-username/bits_and_bobs/commits/230269fdfabdb5562a991f351b5dd6425de232d2
                        diff:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/diff/230269fdfabdb5562a991f351b5dd6425de232d2
                        approve:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabdb5562a991f351b5dd6425de232d2/approve
                        statuses:
                          href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabdb5562a991f351b5dd6425de232d2/statuses
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                      author:
                        raw: Example Username 
                        type: author
                        user:
                          username: example-username
                          display_name: Example Username
                          account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                          links:
                            self:
                              href: https://api.bitbucket.org/2.0/users/example-username
                            html:
                              href: https://bitbucket.org/example-username/
                            avatar:
                              href: https://bitbucket.org/account/example-username/avatar/
                          nickname: example-username
                          type: user
                          uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                      parents: []
                      date: 2018-06-20T23:17:33+00:00
                      message: Kickass commit message!
                      type: commit
        "403":
          description: >
            If the repository is private and the authenticated user does not
            have

            access to it.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or branch does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Creates a new branch in the specified repository.


        The payload of the POST should consist of a JSON document that

        contains the name of the tag and the target hash.


        ```

        curl https://api.bitbucket.org/2.0/repositories/seanfarley/hg/refs/branches \

        -s -u seanfarley -X POST -H "Content-Type: application/json" \

        -d '{
            "name" : "smf/create-feature",
            "target" : {
                "hash" : "default",
            }
        }'

        ```


        This call requires authentication. Private repositories require the

        caller to authenticate with an account that has appropriate

        authorization.


        For Git, the branch name should not include any prefixes (e.g.

        refs/heads). This endpoint does support using short hash prefixes for

        the commit hash, but it may return a 400 response if the provided

        prefix is ambiguous. Using a full commit hash is the preferred

        approach.


        For Mercurial, the authenticated user making this call is the author of

        the new branch commit and the date is current datetime of the call.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - refs
      responses:
        "200":
          description: A paginated list of branches matching any filter criteria that were
            provided.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_branches"
        "403":
          description: >
            If the repository is private and the authenticated user does not
            have

            access to it.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: |
            
            This can either be the username or the UUID of the user,
            surrounded by curly-braces, for example: `{user UUID}`.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            
            This can either be the repository slug or the UUID of the repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - in: query
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../../../../meta/filtering).
          name: q
          schema:
            type: string
        - in: query
          description: >-
            
            Field by which the results should be sorted as per

            [filtering and sorting](../../../../../../meta/filtering). The `name`

            field is handled specially for branches in that, if specified as the sort field, it

            uses a natural sort order instead of the default lexicographical sort order. For example,

            it will return ['branch1', 'branch2', 'branch10'] instead of ['branch1', 'branch10', 'branch2'].
          name: sort
          schema:
            type: string
      description: >-
        Returns a list of all open branches within the specified repository.

        Results will be in the order the source control manager returns them.


        ```

        $ curl -s https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/refs/branches | jq .

        {
          "pagelen": 10,
          "values": [
            {
              "heads": [
                {
                  "hash": "f1a0933ce59e809f190602655e22ae6ec107c397",
                  "type": "commit",
                  "links": {
                    "self": {
                      "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397"
                    },
                    "html": {
                      "href": "https://bitbucket.org/seanfarley/mercurial/commits/f1a0933ce59e809f190602655e22ae6ec107c397"
                    }
                  }
                }
              ],
              "type": "named_branch",
              "name": "default",
              "links": {
                "commits": {
                  "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commits/default"
                },
                "self": {
                  "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/refs/branches/default"
                },
                "html": {
                  "href": "https://bitbucket.org/seanfarley/mercurial/branch/default"
                }
              },
              "target": {
                "hash": "f1a0933ce59e809f190602655e22ae6ec107c397",
                "repository": {
                  "links": {
                    "self": {
                      "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial"
                    },
                    "html": {
                      "href": "https://bitbucket.org/seanfarley/mercurial"
                    },
                    "avatar": {
                      "href": "https://bitbucket.org/seanfarley/mercurial/avatar/32/"
                    }
                  },
                  "type": "repository",
                  "name": "mercurial",
                  "full_name": "seanfarley/mercurial",
                  "uuid": "{73dcbd61-e506-4fc1-9ecd-31be2b6d6031}"
                },
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397"
                  },
                  "comments": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397/comments"
                  },
                  "patch": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/patch/f1a0933ce59e809f190602655e22ae6ec107c397"
                  },
                  "html": {
                    "href": "https://bitbucket.org/seanfarley/mercurial/commits/f1a0933ce59e809f190602655e22ae6ec107c397"
                  },
                  "diff": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/diff/f1a0933ce59e809f190602655e22ae6ec107c397"
                  },
                  "approve": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397/approve"
                  },
                  "statuses": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/f1a0933ce59e809f190602655e22ae6ec107c397/statuses"
                  }
                },
                "author": {
                  "raw": "Martin von Zweigbergk ",
                  "type": "author",
                  "user": {
                    "username": "martinvonz",
                    "nickname": "martinvonz",
                    "display_name": "Martin von Zweigbergk",
                    "type": "user",
                    "uuid": "{fdb0e657-3ade-4fad-a136-95f1ffe4a5ac}",
                    "links": {
                      "self": {
                        "href": "https://api.bitbucket.org/2.0/users/martinvonz"
                      },
                      "html": {
                        "href": "https://bitbucket.org/martinvonz/"
                      },
                      "avatar": {
                        "href": "https://bitbucket.org/account/martinvonz/avatar/32/"
                      }
                    }
                  }
                },
                "parents": [
                  {
                    "hash": "5523aabb85c30ebc2b8e29aadcaf5e13fa92b375",
                    "type": "commit",
                    "links": {
                      "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/5523aabb85c30ebc2b8e29aadcaf5e13fa92b375"
                      },
                      "html": {
                        "href": "https://bitbucket.org/seanfarley/mercurial/commits/5523aabb85c30ebc2b8e29aadcaf5e13fa92b375"
                      }
                    }
                  }
                ],
                "date": "2018-02-01T18:44:49+00:00",
                "message": "config: replace a for-else by any()",
                "type": "commit"
              }
            },
            {
              "heads": [
                {
                  "hash": "1d60ad093792706e1dc7a52b20942593f2c19655",
                  "type": "commit",
                  "links": {
                    "self": {
                      "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/1d60ad093792706e1dc7a52b20942593f2c19655"
                    },
                    "html": {
                      "href": "https://bitbucket.org/seanfarley/mercurial/commits/1d60ad093792706e1dc7a52b20942593f2c19655"
                    }
                  }
                }
              ],
              "type": "named_branch",
              "name": "stable",
              "links": {
                "commits": {
                  "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commits/stable"
                },
                "self": {
                  "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/refs/branches/stable"
                },
                "html": {
                  "href": "https://bitbucket.org/seanfarley/mercurial/branch/stable"
                }
              },
              "target": {
                "hash": "1d60ad093792706e1dc7a52b20942593f2c19655",
                "repository": {
                  "links": {
                    "self": {
                      "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial"
                    },
                    "html": {
                      "href": "https://bitbucket.org/seanfarley/mercurial"
                    },
                    "avatar": {
                      "href": "https://bitbucket.org/seanfarley/mercurial/avatar/32/"
                    }
                  },
                  "type": "repository",
                  "name": "mercurial",
                  "full_name": "seanfarley/mercurial",
                  "uuid": "{73dcbd61-e506-4fc1-9ecd-31be2b6d6031}"
                },
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/1d60ad093792706e1dc7a52b20942593f2c19655"
                  },
                  "comments": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/1d60ad093792706e1dc7a52b20942593f2c19655/comments"
                  },
                  "patch": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/patch/1d60ad093792706e1dc7a52b20942593f2c19655"
                  },
                  "html": {
                    "href": "https://bitbucket.org/seanfarley/mercurial/commits/1d60ad093792706e1dc7a52b20942593f2c19655"
                  },
                  "diff": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/diff/1d60ad093792706e1dc7a52b20942593f2c19655"
                  },
                  "approve": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/1d60ad093792706e1dc7a52b20942593f2c19655/approve"
                  },
                  "statuses": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/1d60ad093792706e1dc7a52b20942593f2c19655/statuses"
                  }
                },
                "author": {
                  "raw": "Augie Fackler ",
                  "type": "author",
                  "user": {
                    "username": "durin42",
                    "nickname": "durin42",
                    "display_name": "Augie Fackler",
                    "type": "user",
                    "uuid": "{e07dc61f-bb05-4218-b43a-d991f26be65a}",
                    "links": {
                      "self": {
                        "href": "https://api.bitbucket.org/2.0/users/durin42"
                      },
                      "html": {
                        "href": "https://bitbucket.org/durin42/"
                      },
                      "avatar": {
                        "href": "https://bitbucket.org/account/durin42/avatar/32/"
                      }
                    }
                  }
                },
                "parents": [
                  {
                    "hash": "56a0da11bde519d79168e890df4bcf0da62f0a7b",
                    "type": "commit",
                    "links": {
                      "self": {
                        "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/commit/56a0da11bde519d79168e890df4bcf0da62f0a7b"
                      },
                      "html": {
                        "href": "https://bitbucket.org/seanfarley/mercurial/commits/56a0da11bde519d79168e890df4bcf0da62f0a7b"
                      }
                    }
                  }
                ],
                "date": "2018-02-01T19:13:41+00:00",
                "message": "Added signature for changeset d334afc585e2",
                "type": "commit"
              }
            }
          ],
          "page": 1,
          "size": 2
        }

        ```


        Branches support [filtering and sorting](../../../../../meta/filtering)

        that can be used to search for specific branches. For instance, to find

        all branches that have "stab" in their name:


        ```

        curl -s https://api.bitbucket.org/2.0/repositories/seanfarley/mercurial/refs/branches -G --data-urlencode 'q=name ~ "stab"'

        ```


        By default, results will be in the order the underlying source control system returns them and identical to

        the ordering one sees when running "$ hg branches" or "$ git branch --list". Note that this follows simple

        lexical ordering of the ref names.


        This can be undesirable as it does apply any natural sorting semantics, meaning for instance that tags are

        sorted ["v10", "v11", "v9"] instead of ["v9", "v10", "v11"].


        Sorting can be changed using the ?q= query parameter. When using ?q=name to explicitly sort on ref name,

        Bitbucket will apply natural sorting and interpret numerical values as numbers instead of strings.
  "/hook_events/{subject_type}":
    parameters:
      - required: true
        name: subject_type
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - webhooks
      responses:
        "200":
          description: A paginated list of webhook types available to subscribe on.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_hook_events"
        "404":
          description: If an invalid `{subject_type}` value was specified.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: A resource or subject type.
          in: path
          name: subject_type
          schema:
            type: string
            enum:
              - user
              - repository
              - team
      description: >-
        Returns a paginated list of all valid webhook events for the

        specified entity.


        This is public data that does not require any scopes or authentication.


        Example:


        NOTE: The following example is a truncated response object for the `team` `subject_type`.

        We return the same structure for the other `subject_type` objects.


        ```

        $ curl https://api.bitbucket.org/2.0/hook_events/team

        {
            "page": 1,
            "pagelen": 30,
            "size": 21,
            "values": [
                {
                    "category": "Repository",
                    "description": "Whenever a repository push occurs",
                    "event": "repo:push",
                    "label": "Push"
                },
                {
                    "category": "Repository",
                    "description": "Whenever a repository fork occurs",
                    "event": "repo:fork",
                    "label": "Fork"
                },
                ...
                {
                    "category": "Repository",
                    "description": "Whenever a repository import occurs",
                    "event": "repo:imported",
                    "label": "Import"
                }
            ]
        }

        ```
  "/users/{username}/followers":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - users
      responses:
        "200":
          description: A paginated list of user objects.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_users"
        "404":
          description: If no account exists for the specified name, or if the specified
            account is a team account, not a personal account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account's username
          in: path
          name: username
          schema:
            type: string
      description: >-
        Returns the list of accounts that are following this user.


        This operation has been deprecated due to privacy changes.

        See the [announcement](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/) for details.
  "/repositories/{username}/{repo_slug}/default-reviewers":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The paginated list of default reviewers
      description: |-
        Returns the repository's default reviewers.

        These are the users that are automatically added as reviewers on every
        new pull request that is created.
  "/teams/{username}/search/code":
    get:
      responses:
        "200":
          description: Successful search
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/search_result_page"
        "400":
          description: >-
            If the search request was invalid due to one of the following
            reasons:

            * the specified type of target account doesn't match the actual account type;

            * malformed pagination properties;

            * missing or malformed search query, in the latter case an error key will be returned in `error.data.key` property.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: Search is not enabled for the requested team, navigate to
            [https://bitbucket.org/search](https://bitbucket.org/search) to turn
            it on
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "429":
          description: Too many requests, try again later
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account to search in; either the username or the UUID in curly
            braces
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The search query
          in: query
          name: search_query
          schema:
            type: string
        - description: Which page of the search results to retrieve
          required: false
          in: query
          name: page
          schema:
            type: integer
            format: int32
            default: 1
        - description: How many search results to retrieve per page
          required: false
          in: query
          name: pagelen
          schema:
            type: integer
            format: int32
            default: 10
      tags:
        - search
      summary: Search for code in the repositories of the specified team
      operationId: searchAccount
  "/repositories/{username}/{repo_slug}/branching-model/settings":
    put:
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - branching_model
      responses:
        "200":
          description: The updated branching model configuration
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/branching_model_settings"
        "400":
          description: If the request contains invalid branching model configuration
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the authenticated user does not have admin access to the
            repository
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Update the branching model configuration for a repository.

        The `development` branch can be configured to a specific branch or to
        track the main branch. When set to a specific branch it must
        currently exist. Only the passed properties will be updated. The
        properties not passed will be left unchanged. A request without a
        `development` property will leave the development branch unchanged.

        It is possible for the `development` branch to be invalid. This
        happens when it points at a specific branch that has been
        deleted. This is indicated in the `is_valid` field for the branch. It is
        not possible to update the settings for `development` if that
        would leave the branch in an invalid state. Such a request will be
        rejected.

        The `production` branch can be a specific branch, the main
        branch or disabled. When set to a specific branch it must currently
        exist. The `enabled` property can be used to enable (`true`) or
        disable (`false`) it. Only the passed properties will be updated. The
        properties not passed will be left unchanged. A request without a
        `production` property will leave the production branch unchanged.

        It is possible for the `production` branch to be invalid. This
        happens when it points at a specific branch that has been
        deleted. This is indicated in the `is_valid` field for the branch. A
        request that would leave `production` enabled and invalid will be
        rejected. It is possible to update `production` and make it invalid if
        it would also be left disabled.

        The `branch_types` property contains the branch types to be updated.
        Only the branch types passed will be updated. All updates will be
        rejected if it would leave the branching model in an invalid state.
        For branch types this means that:

        1. The prefixes for all enabled branch types are valid. For example,
           it is not possible to use '*' inside a Git prefix.
        2. A prefix of an enabled branch type must not be a prefix of another
           enabled branch type. This is to ensure that a branch can be easily
           classified by its prefix unambiguously.

        It is possible to store an invalid prefix if that branch type would be
        left disabled. Only the passed properties will be updated. The
        properties not passed will be left unchanged. Each branch type must
        have a `kind` property to identify it.

        Example Body:

        ```
            {
              "development": {
                "use_mainbranch": true
              },
              "production": {
                "enabled": true,
                "use_mainbranch": false,
                "name": "production"
              },
              "branch_types": [
                {
                  "kind": "bugfix",
                  "enabled": true,
                  "prefix": "bugfix/"
                },
                {
                  "kind": "feature",
                  "enabled": true,
                  "prefix": "feature/"
                },
                {
                  "kind": "hotfix",
                  "prefix": "hotfix/"
                },
                {
                  "kind": "release",
                  "enabled": false,
                }
              ]
            }
        ```
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - branching_model
      responses:
        "200":
          description: The branching model configuration
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/branching_model_settings"
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the authenticated user does not have admin access to the
            repository
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Return the branching model configuration for a repository. The returned
        object:

        1. Always has a `development` property for the development branch.
        2. Always a `production` property for the production branch. The
           production branch can be disabled.
        3. The `branch_types` contains all the branch types.

        This is the raw configuration for the branching model. A client
        wishing to see the branching model with its actual current branches may
        find the [active model API](../branching-model#get) more useful.

        Example body:

        ```
        {
          "development": {
            "is_valid": true,
            "name": null,
            "use_mainbranch": true
          },
          "production": {
            "is_valid": true,
            "name": "production",
            "use_mainbranch": false,
            "enabled": false
          },
          "branch_types": [
            {
              "kind": "release",
              "enabled": true,
              "prefix": "release/"
            },
            {
              "kind": "hotfix",
              "enabled": true,
              "prefix": "hotfix/"
            },
            {
              "kind": "feature",
              "enabled": true,
              "prefix": "feature/"
            },
            {
              "kind": "bugfix",
              "enabled": false,
              "prefix": "bugfix/"
            }
          ],
          "type": "branching_model_settings",
          "links": {
            "self": {
              "href": "https://api.bitbucket.org/.../branching-model/settings"
            }
          }
        }
        ```
  "/teams/{username}/pipelines_config/variables/":
    post:
      description: Create an account level variable.
      tags:
        - pipelines
      responses:
        "201":
          headers:
            Location:
              description: The URL of the newly created pipeline variable.
              schema:
                type: string
          description: The created variable.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_variable"
        "404":
          description: The account does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "409":
          description: A variable with the provided key already exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/pipeline_variable2"
      operationId: createPipelineVariableForTeam
    get:
      description: Find account level variables.
      tags:
        - pipelines
      responses:
        "200":
          description: The found account level variables.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pipeline_variables"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
      operationId: getPipelineVariablesForTeam
  "/repositories/{username}/{repo_slug}/downloads/{filename}":
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - downloads
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Return a redirect to the contents of a download artifact.


        This endpoint returns the actual file contents and not the artifact's

        metadata.

            $ curl -s -L https://api.bitbucket.org/2.0/repositories/evzijst/git-tests/downloads/hello.txt
            Hello World
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: filename
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - downloads
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Deletes the specified download artifact from the repository.
  "/repositories/{username}/{repo_slug}/commit/{node}/statuses/build/{key}":
    put:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - repositories
        - commitstatuses
      responses:
        "200":
          description: The updated build status object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/commitstatus"
        "401":
          description: If the repository is private and the request was not authenticated.
        "404":
          description: If the repository or build does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/commitstatus"
        description: The updated build status object
      description: |-
        Used to update the current status of a build status object on the
        specific commit.

        This operation can also be used to change other properties of the
        build status:

        * `state`
        * `name`
        * `description`
        * `url`
        * `refname`

        The `key` cannot be changed.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The commit's SHA1.
        in: path
        name: node
        schema:
          type: string
      - required: true
        description: The build status' unique key
        in: path
        name: key
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - repositories
        - commitstatuses
      responses:
        "200":
          description: The build status object with the specified key.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/commitstatus"
        "401":
          description: If the repository is private and the request was not authenticated.
        "404":
          description: If the repository, commit, or build status key does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the specified build status for a commit.
  "/repositories/{username}/{repo_slug}/watchers":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - repositories
      responses:
        "200":
          description: A paginated list of all the watchers on the specified repository.
      description: |-
        Returns a paginated list of all the watchers on the specified
        repository.
  "/snippets/{username}/{encoded_id}/commits":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          description: The paginated list of snippet commits.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_snippet_commit"
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the changes (commits) made on this snippet.
  "/repositories/{username}/{repo_slug}/components/{component_id}":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The component's id
        in: path
        name: component_id
        schema:
          type: integer
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The specified component object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/component"
        "404":
          description: The specified repository or component does not exist or does not
            have the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the specified issue tracker component object.
  "/repositories/{workspace}/{repo_slug}/pipelines_config/schedules/{schedule_uuid}/executions/":
    get:
      description: Retrieve the executions of a given schedule.
      tags:
        - pipelines
      responses:
        "200":
          description: The list of executions of a schedule.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pipeline_schedule_executions"
        "404":
          description: The account or repository was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: getRepositoryPipelineScheduleExecutions
  "/users/{username}/repositories":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - users
        - teams
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        All repositories owned by a user/team. This includes private
        repositories, but filtered down to the ones that the calling user has
        access to.
  "/snippets/{username}/{encoded_id}/comments/{comment_id}":
    put:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          description: The updated comment object.
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the comment or snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Updates a comment.

        Comments can only be updated by their author.
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          description: The specified comment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/snippet_comment"
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the comment or snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the specific snippet comment.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: comment_id
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "204":
          description: Indicates the comment was deleted successfully.
        "403":
          description: If the authenticated user is not the author of the comment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the comment or the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Deletes a snippet comment.

        Comments can only be removed by their author.
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/diffstat":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "302":
          description: >
            Redirects to the [repository diffstat](../../diffstat/%7Bspec%7D)
            with

            the revspec that corresponds to pull request.
      description: |-
        Redirects to the [repository diffstat](../../diffstat/%7Bspec%7D)
        with the revspec that corresponds to the pull request.
  "/repositories/{workspace}/{repo_slug}/pipelines/":
    post:
      description: >
        Endpoint to create and initiate a pipeline. 

        There are a couple of different options to initiate a pipeline, where the payload of the request will determine which type of pipeline will be instantiated.

        # Trigger a Pipeline for a branch

        One way to trigger pipelines is by specifying the branch for which you want to trigger a pipeline. 

        The specified branch will be used to determine which pipeline definition from the `bitbucket-pipelines.yml` file will be applied to initiate the pipeline. The pipeline will then do a clone of the repository and checkout the latest revision of the specified branch.


        ### Example


        ```

        $ curl -X POST -is -u username:password \
          -H 'Content-Type: application/json' \
         https://api.bitbucket.org/2.0/repositories/jeroendr/meat-demo2/pipelines/ \
          -d '
          {
            "target": {
              "ref_type": "branch", 
              "type": "pipeline_ref_target", 
              "ref_name": "master"
            }
          }'
        ```

        # Trigger a Pipeline for a commit on a branch or tag

        You can initiate a pipeline for a specific commit and in the context of a specified reference (e.g. a branch, tag or bookmark).

        The specified reference will be used to determine which pipeline definition from the bitbucket-pipelines.yml file will be applied to initiate the pipeline. The pipeline will clone the repository and then do a checkout the specified reference. 


        The following reference types are supported:


        * `branch` 

        * `named_branch`

        * `bookmark` 
         * `tag`

        ### Example


        ```

        $ curl -X POST -is -u username:password \
          -H 'Content-Type: application/json' \
          https://api.bitbucket.org/2.0/repositories/jeroendr/meat-demo2/pipelines/ \
          -d '
          {
            "target": {
              "commit": {
                "type": "commit", 
                "hash": "ce5b7431602f7cbba007062eeb55225c6e18e956"
              }, 
              "ref_type": "branch", 
              "type": "pipeline_ref_target", 
              "ref_name": "master"
            }
          }'
        ```

        # Trigger a specific pipeline definition for a commit

        You can trigger a specific pipeline that is defined in your `bitbucket-pipelines.yml` file for a specific commit. 

        In addition to the commit revision, you specify the type and pattern of the selector that identifies the pipeline definition. The resulting pipeline will then clone the repository and checkout the specified revision.


        ### Example


        ```

        $ curl -X POST -is -u username:password \
          -H 'Content-Type: application/json' \
         https://api.bitbucket.org/2.0/repositories/jeroendr/meat-demo2/pipelines/ \
         -d '
          {
             "target": {
              "commit": {
                 "hash":"a3c4e02c9a3755eccdc3764e6ea13facdf30f923",
                 "type":"commit"
               },
                "selector": {
                   "type":"custom",
                      "pattern":"Deploy to production"
                  },
                "type":"pipeline_commit_target"
           }
          }'
        ```

        # Trigger a specific pipeline definition for a commit on a branch or tag

        You can trigger a specific pipeline that is defined in your `bitbucket-pipelines.yml` file for a specific commit in the context of a specified reference. 

        In addition to the commit revision, you specify the type and pattern of the selector that identifies the pipeline definition, as well as the reference information. The resulting pipeline will then clone the repository a checkout the specified reference.


        ### Example


        ```

        $ curl -X POST -is -u username:password \
          -H 'Content-Type: application/json' \
         https://api.bitbucket.org/2.0/repositories/jeroendr/meat-demo2/pipelines/ \
         -d '
          {
             "target": {
              "commit": {
                 "hash":"a3c4e02c9a3755eccdc3764e6ea13facdf30f923",
                 "type":"commit"
               },
               "selector": {
                  "type": "custom",
                  "pattern": "Deploy to production"
               },
               "type": "pipeline_ref_target",
               "ref_name": "master",
               "ref_type": "branch"
             }
          }'
        ```



        # Trigger a custom pipeline with variables

        In addition to triggering a custom pipeline that is defined in your `bitbucket-pipelines.yml` file as shown in the examples above, you can specify variables that will be available for your build. In the request, provide a list of variables, specifying the following for each variable: key, value, and whether it should be secured or not (this field is optional and defaults to not secured).


        ### Example


        ```

        $ curl -X POST -is -u username:password \
          -H 'Content-Type: application/json' \
         https://api.bitbucket.org/2.0/repositories/{workspace}/{repo_slug}/pipelines/ \
         -d '
          {
            "target": {
              "type": "pipeline_ref_target",
              "ref_type": "branch",
              "ref_name": "master",
              "selector": {
                "type": "custom",
                "pattern": "Deploy to production"
              }
            },
            "variables": [
              {
                "key": "var1key",
                "value": "var1value",
                "secured": true
              },
              {
                "key": "var2key",
                "value": "var2value"
              }
            ]
          }'
        ```
      tags:
        - pipelines
      responses:
        "201":
          headers:
            Location:
              description: The URL of the newly created pipeline.
              schema:
                type: string
          description: The initiated pipeline.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline"
        "400":
          description: The account or repository is not enabled, the yml file does not
            exist in the repository for the given revision, or the request body
            contained invalid properties.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The account or repository was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipeline"
        description: The pipeline to initiate.
        required: true
      operationId: createPipelineForRepository
    get:
      description: Find pipelines
      tags:
        - pipelines
      responses:
        "200":
          description: The matching pipelines.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pipelines"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: getPipelinesForRepository
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}/stopPipeline":
    post:
      description: Signal the stop of a pipeline and all of its steps that not have
        completed yet.
      tags:
        - pipelines
      responses:
        "204":
          description: The pipeline has been signaled to stop.
        "400":
          description: The specified pipeline has already completed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: Either the account, repository or pipeline with the given UUID does
            not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the pipeline.
          required: true
          name: pipeline_uuid
          in: path
          schema:
            type: string
      operationId: stopPipeline
  "/teams/{username}/permissions":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - team
        - basic: []
        - api_key: []
      tags: []
      responses:
        "200":
          description: Repositories owned by a team.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_team_permissions"
        "403":
          description: The requesting user isn't an admin of the team.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: false
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../meta/filtering).
          in: query
          name: q
          schema:
            type: string
        - required: false
          description: |
            
            Name of a response property sort the result by as per
            [filtering and sorting](../../../meta/filtering#query-sort).
          in: query
          name: sort
          schema:
            type: string
      description: >-
        Returns an object for each team permission a user on the team has.


        Permissions returned are effective permissions â€” if a user is a member of

        multiple groups with distinct roles, only the highest level is returned.


        Permissions can be:


        * `admin`

        * `collaborator`


        Only users with admin permission for the team may access this resource.


        Example:


        ```

        $ curl https://api.bitbucket.org/2.0/teams/atlassian_tutorial/permissions


        {
          "pagelen": 10,
          "values": [
            {
              "permission": "admin",
              "type": "team_permission",
              "user": {
                "type": "user",
                "username": "evzijst",
                "nickname": "evzijst",
                "display_name": "Erik van Zijst",
                "uuid": "{d301aafa-d676-4ee0-88be-962be7417567}"
              },
              "team": {
                "username": "bitbucket",
                "display_name": "Atlassian Bitbucket",
                "uuid": "{4cc6108a-a241-4db0-96a5-64347ac04f87}"
              }
            },
            {
              "permission": "collaborator",
              "type": "team_permission",
              "user": {
                "type": "user",
                "username": "seanaty",
                "nickname": "seanaty",
                "display_name": "Sean Conaty",
                "uuid": "{504c3b62-8120-4f0c-a7bc-87800b9d6f70}"
              },
              "team": {
                "username": "bitbucket",
                "display_name": "Atlassian Bitbucket",
                "uuid": "{4cc6108a-a241-4db0-96a5-64347ac04f87}"
              }
            }
          ],
          "page": 1,
          "size": 2
        }

        ```


        Results may be further [filtered or sorted](../../../meta/filtering) by

        team, user, or permission by adding the following query string

        parameters:


        * `q=user.username="evzijst"` or `q=permission="admin"`

        * `sort=team.display_name`


        Note that the query parameter values need to be URL escaped so that `=`

        would become `%3D`.
  "/repositories/{username}/{repo_slug}/diff/{spec}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: spec
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        "200":
          description: The raw diff
        "555":
          description: |-
            If the diff was too large and timed out.

            Since this endpoint does not employ any form of pagination, but
            instead returns the diff as a single document, it can run into
            trouble on very large diffs. If Bitbucket times out in cases
            like these, a 555 status code is returned.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: Generate diffs with  lines of context instead of the usual three
          in: query
          name: context
          schema:
            type: integer
        - required: false
          description: |-
            Limit the diff to a particular file (this parameter
            can be repeated for multiple paths)
          in: query
          name: path
          schema:
            type: string
        - required: false
          description: Generate diffs that ignore whitespace
          in: query
          name: ignore_whitespace
          schema:
            type: boolean
        - required: false
          description: Generate diffs that include binary files,true if omitted.
          in: query
          name: binary
          schema:
            type: boolean
      description: |-
        Produces a raw, git-style diff for either a single commit (diffed
        against its first parent), or a revspec of 2 commits (e.g.
        `3a8b42..9ff173` where the first commit represents the source and the
        second commit the destination).

        In case of the latter (diffing a revspec), a 3-way diff, or merge diff,
        is computed. This shows the changes introduced by the left branch
        (`3a8b42` in our example) as compared againt the right branch
        (`9ff173`).

        This is equivalent to merging the left branch into the right branch and
        then computing the diff of the merge commit against its first parent
        (the right branch). This follows the same behavior as pull requests
        that also show this style of 3-way, or merge diff.

        While similar to patches, diffs:

        * Don't have a commit header (username, commit message, etc)
        * Support the optional `path=foo/bar.py` query param to filter
          the diff to just that one file diff

        The raw diff is returned as-is, in whatever encoding the files in the
        repository use. It is not decoded into unicode. As such, the
        content-type is `text/plain`.
  "/repositories/{workspace}/{repo_slug}/properties/{app_key}/{property_name}":
    put:
      responses:
        "204":
          description: An empty response.
      operationId: updateRepositoryHostedPropertyValue
      description: Update an application property value stored against a repository.
      parameters:
        - required: true
          description: The account.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
    delete:
      responses:
        "204":
          description: An empty response.
      operationId: deleteRepositoryHostedPropertyValue
      description: Delete an application property value stored against a repository.
      parameters:
        - required: true
          description: The account.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
    get:
      responses:
        "200":
          description: The value of the property.
      operationId: getRepositoryHostedPropertyValue
      description: Retrieve an application property value stored against a repository.
      parameters:
        - required: true
          description: The account.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
  "/snippets/{username}/{encoded_id}/files/{path}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: path
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippet
      responses:
        "302":
          headers:
            Location:
              description: The URL of the most recent file revision.
              schema:
                type: string
          description: A redirect to the most recent revision of the specified file.
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Convenience resource for getting to a snippet's raw files without the
        need for first having to retrieve the snippet itself and having to pull
        out the versioned file links.
  "/repositories/{username}/{repo_slug}/branch-restrictions":
    post:
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - branchrestrictions
      responses:
        "201":
          description: A paginated list of branch restrictions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/branchrestriction"
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the authenticated user does not have admin access to the
            repository
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/branchrestriction"
        description: The new rule
        required: true
      description: |-
        Creates a new branch restriction rule for a repository.

        `kind` describes what will be restricted. Allowed values include:
        `push`, `force`, `delete` and `restrict_merges`.

        Different kinds of branch restrictions have different requirements:

        * `push` and `restrict_merges` require `users` and `groups` to be
          specified. Empty lists are allowed, in which case permission is
          denied for everybody.
        * `force` can not be specified in a Mercurial repository.

        The restriction applies to all branches that match. There are
        two ways to match a branch. It is configured in `branch_match_kind`:

        1. `glob`: Matches a branch against the `pattern`. A `'*'` in
           `pattern` will expand to match zero or more characters, and every
           other character matches itself. For example, `'foo*'` will match
           `'foo'` and `'foobar'`, but not `'barfoo'`. `'*'` will match all
           branches.
        2. `branching_model`: Matches a branch against the repository's
           branching model. The `branch_type` controls the type of branch
           to match. Allowed values include: `production`, `development`,
           `bugfix`, `release`, `feature` and `hotfix`.

        The combination of `kind` and match must be unique. This means that
        two `glob` restrictions in a repository cannot have the same `kind` and
        `pattern`. Additionally, two `branching_model` restrictions in a
        repository cannot have the same `kind` and `branch_type`.

        `users` and `groups` are lists of users and groups that are except from
        the restriction. They can only be configured in `push` and
        `restrict_merges` restrictions. The `push` restriction stops a user
        pushing to matching branches unless that user is in `users` or is a
        member of a group in `groups`. The `restrict_merges` stops a user
        merging pull requests to matching branches unless that user is in
        `users` or is a member of a group in `groups`. Adding new users or
        groups to an existing restriction should be done via `PUT`.

        Note that branch restrictions with overlapping matchers is allowed,
        but the resulting behavior may be surprising.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - branchrestrictions
      responses:
        "200":
          description: A paginated list of branch restrictions
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_branchrestrictions"
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the authenticated user does not have admin access to the
            repository
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: Branch restrictions of this type
          in: query
          name: kind
          schema:
            type: string
        - required: false
          description: Branch restrictions applied to branches of this pattern
          in: query
          name: pattern
          schema:
            type: string
      description: |-
        Returns a paginated list of all branch restrictions on the
        repository.
  "/repositories/{username}/{repo_slug}/issues/{issue_id}/comments/{comment_id}":
    put:
      security:
        - oauth2:
            - issue:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The updated issue comment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue_comment"
        "400":
          description: "If the input was invalid, or if the update to the comment is
            detected as spam "
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: |
            This can either be the username or the UUID of the user,
            surrounded by curly-braces, for example: `{user UUID}`.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: |
            The ID of the issue that is being queried.
          in: path
          name: issue_id
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/issue_comment"
      description: >-
        Updates the content of the specified issue comment. Note that only

        the `content.raw` field can be modified.


        ```

        $ curl https://api.bitbucket.org/2.0/repositories/atlassian/prlinks/issues/42/comments/5728901 \
          -X PUT -u evzijst \
          -H 'Content-Type: application/json' \
          -d '{"content": {"raw": "Lorem ipsum."}'
        ```
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The issue comment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue_comment"
      parameters:
        - required: true
          description: |
            This can either be the username or the UUID of the user,
            surrounded by curly-braces, for example: `{user UUID}`.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: |
            The ID of the issue that is being queried.
          in: path
          name: issue_id
          schema:
            type: string
      description: Returns the specified issue comment object.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: comment_id
        in: path
        schema:
          type: string
      - required: true
        name: issue_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - issue:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "204":
          description: Indicates successful deletion.
      parameters:
        - required: true
          description: |
            This can either be the username or the UUID of the user,
            surrounded by curly-braces, for example: `{user UUID}`.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: |
            The ID of the issue that is being queried.
          in: path
          name: issue_id
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/issue_comment"
      description: Deletes the specified comment.
  "/teams/{username}/projects/{project_key}":
    put:
      security:
        - oauth2:
            - project:write
        - basic: []
        - api_key: []
      tags:
        - projects
      responses:
        "200":
          headers:
            Location:
              description: |-
                The location of the project. This header is only provided
                when the project key is updated.
              schema:
                type: string
          description: The existing project is has been updated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/project"
        "201":
          headers:
            Location:
              description: The location of the newly created project
              schema:
                type: string
          description: A new project has been created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/project"
        "403":
          description: The requesting user isn't authorized to update or create the project.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: A team doesn't exist at the location. Note that the project's
            absence from this location doesn't raise a 404, since a PUT at a
            non-existent location can be used to create a new project.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        $ref: "#/components/requestBodies/project"
      description: |-
        Since this endpoint can be used to both update and to create a
        project, the request body depends on the intent.

        ### Creation

        See the POST documentation for the project collection for an
        example of the request body.

        Note: The `key` should not be specified in the body of request
        (since it is already present in the URL). The `name` is required,
        everything else is optional.

        ### Update

        See the POST documentation for the project collection for an
        example of the request body.

        Note: The key is not required in the body (since it is already in
        the URL). The key may be specified in the body, if the intent is
        to change the key itself. In such a scenario, the location of the
        project is changed and is returned in the `Location` header of the
        response.
    get:
      security:
        - oauth2:
            - project
        - basic: []
        - api_key: []
      tags:
        - projects
      responses:
        "200":
          description: The project object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/project"
        "403":
          description: The requesting user isn't authorized to access the project.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: A project isn't hosted at this location.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          The project in question. This can either be the actual `key` assigned
          to the project or the `UUID` (surrounded by curly-braces (`{}`)).
        in: path
        name: project_key
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - project:write
        - basic: []
        - api_key: []
      tags:
        - projects
      responses:
        "204":
          description: Successful deletion.
        "403":
          description: The requesting user isn't authorized to delete the project or the
            project isn't empty.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: A project isn't hosted at this location.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
  "/repositories/{username}/{repo_slug}/hooks/{uid}":
    put:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - repositories
        - webhooks
      responses:
        "200":
          description: The webhook subscription object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/webhook_subscription"
        "403":
          description: If the authenticated user does not have permission to update the
            webhook.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the webhook or repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The installed webhook's id
          in: path
          name: uid
          schema:
            type: string
      description: |-
        Updates the specified webhook subscription.

        The following properties can be mutated:

        * `description`
        * `url`
        * `active`
        * `events`
    get:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - repositories
        - webhooks
      responses:
        "200":
          description: The webhook subscription object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/webhook_subscription"
        "404":
          description: If the webhook or repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The installed webhook's id.
          in: path
          name: uid
          schema:
            type: string
      description: |-
        Returns the webhook with the specified id installed on the specified
        repository.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: uid
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - repositories
        - webhooks
      responses:
        "204":
          description: When the webhook was deleted successfully
        "403":
          description: If the authenticated user does not have permission to delete the
            webhook.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the webhook or repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The installed webhook's id
          in: path
          name: uid
          schema:
            type: string
      description: |-
        Deletes the specified webhook subscription from the given
        repository.
  "/users/{username}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - users
      responses:
        "200":
          description: The user object
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/user"
              examples:
                response:
                  value:
                    username: example-username
                    display_name: Example Username
                    account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                    links:
                      self:
                        href: https://api.bitbucket.org/2.0/users/example-username
                      html:
                        href: https://bitbucket.org/example-username/
                      avatar:
                        href: https://bitbucket.org/account/example-username/avatar/
                    type: user
                    uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
        "404":
          description: If no user exists for the specified name or UUID, or if the
            specified account is a team account, not a personal account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account's UUID, account_id, or username. Note that username has
            been deprecated due to [privacy
            changes](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#removal-of-usernames-from-user-referencing-apis).
          in: path
          name: username
          schema:
            type: string
      description: >-
        Gets the public information associated with a user account.


        If the user's profile is private, `location`, `website` and

        `created_on` elements are omitted.


        Note that the user object returned by this operation is changing significantly, due to privacy changes.

        See the [announcement](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#changes-to-bitbucket-user-objects) for details.
  "/users/{username}/pipelines_config/variables/":
    post:
      description: Create a user level variable.
      tags:
        - pipelines
      responses:
        "201":
          headers:
            Location:
              description: The URL of the newly created pipeline variable.
              schema:
                type: string
          description: The created variable.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_variable"
        "404":
          description: The account does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "409":
          description: A variable with the provided key already exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/pipeline_variable2"
      operationId: createPipelineVariableForUser
    get:
      description: Find user level variables.
      tags:
        - pipelines
      responses:
        "200":
          description: The found user level variables.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pipeline_variables"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
      operationId: getPipelineVariablesForUser
  "/snippets/{username}/{encoded_id}":
    put:
      responses:
        "200":
          description: The updated snippet object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/snippet"
            multipart/related:
              schema:
                $ref: "#/components/schemas/snippet"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/snippet"
        "401":
          description: If the snippet is private and the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If authenticated user does not have permission to update the private
            snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The snippet's id.
          in: path
          name: encoded_id
          schema:
            type: string
      tags:
        - snippets
      security:
        - oauth2:
            - snippet:write
        - basic: []
        - api_key: []
      description: >-
        Used to update a snippet. Use this to add and delete files and to

        change a snippet's title.


        To update a snippet, one can either PUT a full snapshot, or only the

        parts that need to be changed.


        The contract for PUT on this API is that properties missing from the

        request remain untouched so that snippets can be efficiently

        manipulated with differential payloads.


        To delete a property (e.g. the title, or a file), include its name in

        the request, but omit its value (use `null`).


        As in Git, explicit renaming of files is not supported. Instead, to

        rename a file, delete it and add it again under another name. This can

        be done atomically in a single request. Rename detection is left to

        the SCM.


        PUT supports three different content types for both request and

        response bodies:


        * `application/json`

        * `multipart/related`

        * `multipart/form-data`


        The content type used for the request body can be different than that

        used for the response. Content types are specified using standard HTTP

        headers.


        Use the `Content-Type` and `Accept` headers to select the desired

        request and response format.



        application/json

        ----------------


        As with creation and retrieval, the content type determines what

        properties can be manipulated. `application/json` does not support

        file contents and is therefore limited to a snippet's meta data.


        To update the title, without changing any of its files:

            $ curl -X POST -H "Content-Type: application/json" https://api.bitbucket.org/2.0/snippets/evzijst/kypj             -d '{"title": "Updated title"}'


        To delete the title:

            $ curl -X POST -H "Content-Type: application/json" https://api.bitbucket.org/2.0/snippets/evzijst/kypj             -d '{"title": null}'

        Not all parts of a snippet can be manipulated. The owner and creator

        for instance are immutable.



        multipart/related

        -----------------


        `multipart/related` can be used to manipulate all of a snippet's

        properties. The body is identical to a POST. properties omitted from

        the request are left unchanged. Since the `start` part contains JSON,

        the mechanism for manipulating the snippet's meta data is identical

        to `application/json` requests.


        To update one of a snippet's file contents, while also changing its

        title:

            PUT /2.0/snippets/evzijst/kypj HTTP/1.1
            Content-Length: 288
            Content-Type: multipart/related; start="snippet"; boundary="===============1438169132528273974=="
            MIME-Version: 1.0

            --===============1438169132528273974==
            Content-Type: application/json; charset="utf-8"
            MIME-Version: 1.0
            Content-ID: snippet

            {
              "title": "My updated snippet",
              "files": {
                  "foo.txt": {}
                }
            }

            --===============1438169132528273974==
            Content-Type: text/plain; charset="us-ascii"
            MIME-Version: 1.0
            Content-Transfer-Encoding: 7bit
            Content-ID: "foo.txt"
            Content-Disposition: attachment; filename="foo.txt"

            Updated file contents.

            --===============1438169132528273974==--

        Here only the parts that are changed are included in the body. The

        other files remain untouched.


        Note the use of the `files` list in the JSON part. This list contains

        the files that are being manipulated. This list should have

        corresponding multiparts in the request that contain the new contents

        of these files.


        If a filename in the `files` list does not have a corresponding part,

        it will be deleted from the snippet, as shown below:

            PUT /2.0/snippets/evzijst/kypj HTTP/1.1
            Content-Length: 188
            Content-Type: multipart/related; start="snippet"; boundary="===============1438169132528273974=="
            MIME-Version: 1.0

            --===============1438169132528273974==
            Content-Type: application/json; charset="utf-8"
            MIME-Version: 1.0
            Content-ID: snippet

            {
              "files": {
                "image.png": {}
              }
            }

            --===============1438169132528273974==--

        To simulate a rename, delete a file and add the same file under

        another name:

            PUT /2.0/snippets/evzijst/kypj HTTP/1.1
            Content-Length: 212
            Content-Type: multipart/related; start="snippet"; boundary="===============1438169132528273974=="
            MIME-Version: 1.0

            --===============1438169132528273974==
            Content-Type: application/json; charset="utf-8"
            MIME-Version: 1.0
            Content-ID: snippet

            {
                "files": {
                  "foo.txt": {},
                  "bar.txt": {}
                }
            }

            --===============1438169132528273974==
            Content-Type: text/plain; charset="us-ascii"
            MIME-Version: 1.0
            Content-Transfer-Encoding: 7bit
            Content-ID: "bar.txt"
            Content-Disposition: attachment; filename="bar.txt"

            foo

            --===============1438169132528273974==--


        multipart/form-data

        -----------------


        Again, one can also use `multipart/form-data` to manipulate file

        contents and meta data atomically.

            $ curl -X PUT http://localhost:12345/2.0/snippets/evzijst/kypj             -F title="My updated snippet" -F file=@foo.txt

            PUT /2.0/snippets/evzijst/kypj HTTP/1.1
            Content-Length: 351
            Content-Type: multipart/form-data; boundary=----------------------------63a4b224c59f

            ------------------------------63a4b224c59f
            Content-Disposition: form-data; name="file"; filename="foo.txt"
            Content-Type: text/plain

            foo

            ------------------------------63a4b224c59f
            Content-Disposition: form-data; name="title"

            My updated snippet
            ------------------------------63a4b224c59f

        To delete a file, omit its contents while including its name in the

        `files` field:

            $ curl -X PUT https://api.bitbucket.org/2.0/snippets/evzijst/kypj -F files=image.png

            PUT /2.0/snippets/evzijst/kypj HTTP/1.1
            Content-Length: 149
            Content-Type: multipart/form-data; boundary=----------------------------ef8871065a86

            ------------------------------ef8871065a86
            Content-Disposition: form-data; name="files"

            image.png
            ------------------------------ef8871065a86--

        The explicit use of the `files` element in `multipart/related` and

        `multipart/form-data` is only required when deleting files.

        The default mode of operation is for file parts to be processed,

        regardless of whether or not they are listed in `files`, as a

        convenience to the client.
    get:
      description: >-
        Retrieves a single snippet.


        Snippets support multiple content types:


        * application/json

        * multipart/related

        * multipart/form-data



        application/json

        ----------------


        The default content type of the response is `application/json`.

        Since JSON is always `utf-8`, it cannot reliably contain file contents

        for files that are not text. Therefore, JSON snippet documents only

        contain the filename and links to the file contents.


        This means that in order to retrieve all parts of a snippet, N+1

        requests need to be made (where N is the number of files in the

        snippet).



        multipart/related

        -----------------


        To retrieve an entire snippet in a single response, use the

        `Accept: multipart/related` HTTP request header.

            $ curl -H "Accept: multipart/related" https://api.bitbucket.org/2.0/snippets/evzijst/1

        Response:

            HTTP/1.1 200 OK
            Content-Length: 2214
            Content-Type: multipart/related; start="snippet"; boundary="===============1438169132528273974=="
            MIME-Version: 1.0

            --===============1438169132528273974==
            Content-Type: application/json; charset="utf-8"
            MIME-Version: 1.0
            Content-ID: snippet

            {
              "links": {
                "self": {
                  "href": "https://api.bitbucket.org/2.0/snippets/evzijst/kypj"
                },
                "html": {
                  "href": "https://bitbucket.org/snippets/evzijst/kypj"
                },
                "comments": {
                  "href": "https://api.bitbucket.org/2.0/snippets/evzijst/kypj/comments"
                },
                "watchers": {
                  "href": "https://api.bitbucket.org/2.0/snippets/evzijst/kypj/watchers"
                },
                "commits": {
                  "href": "https://api.bitbucket.org/2.0/snippets/evzijst/kypj/commits"
                }
              },
              "id": kypj,
              "title": "My snippet",
              "created_on": "2014-12-29T22:22:04.790331+00:00",
              "updated_on": "2014-12-29T22:22:04.790331+00:00",
              "is_private": false,
              "files": {
                "foo.txt": {
                  "links": {
                    "self": {
                      "href": "https://api.bitbucket.org/2.0/snippets/evzijst/kypj/files/367ab19/foo.txt"
                    },
                    "html": {
                      "href": "https://bitbucket.org/snippets/evzijst/kypj#file-foo.txt"
                    }
                  }
                },
                "image.png": {
                  "links": {
                    "self": {
                      "href": "https://api.bitbucket.org/2.0/snippets/evzijst/kypj/files/367ab19/image.png"
                    },
                    "html": {
                      "href": "https://bitbucket.org/snippets/evzijst/kypj#file-image.png"
                    }
                  }
                }
              ],
              "owner": {
                "username": "evzijst",
                "nickname": "evzijst",
                "display_name": "Erik van Zijst",
                "uuid": "{d301aafa-d676-4ee0-88be-962be7417567}",
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/users/evzijst"
                  },
                  "html": {
                    "href": "https://bitbucket.org/evzijst"
                  },
                  "avatar": {
                    "href": "https://bitbucket-staging-assetroot.s3.amazonaws.com/c/photos/2013/Jul/31/erik-avatar-725122544-0_avatar.png"
                  }
                }
              },
              "creator": {
                "username": "evzijst",
                "nickname": "evzijst",
                "display_name": "Erik van Zijst",
                "uuid": "{d301aafa-d676-4ee0-88be-962be7417567}",
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/users/evzijst"
                  },
                  "html": {
                    "href": "https://bitbucket.org/evzijst"
                  },
                  "avatar": {
                    "href": "https://bitbucket-staging-assetroot.s3.amazonaws.com/c/photos/2013/Jul/31/erik-avatar-725122544-0_avatar.png"
                  }
                }
              }
            }

            --===============1438169132528273974==
            Content-Type: text/plain; charset="us-ascii"
            MIME-Version: 1.0
            Content-Transfer-Encoding: 7bit
            Content-ID: "foo.txt"
            Content-Disposition: attachment; filename="foo.txt"

            foo

            --===============1438169132528273974==
            Content-Type: image/png
            MIME-Version: 1.0
            Content-Transfer-Encoding: base64
            Content-ID: "image.png"
            Content-Disposition: attachment; filename="image.png"

            iVBORw0KGgoAAAANSUhEUgAAABQAAAAoCAYAAAD+MdrbAAABD0lEQVR4Ae3VMUoDQRTG8ccUaW2m
            TKONFxArJYJamCvkCnZTaa+VnQdJSBFl2SMsLFrEWNjZBZs0JgiL/+KrhhVmJRbCLPx4O+/DT2TB
            cbblJxf+UWFVVRNsEGAtgvJxnLm2H+A5RQ93uIl+3632PZyl/skjfOn9Gvdwmlcw5aPUwimG+NT5
            EnNN036IaZePUuIcK533NVfal7/5yjWeot2z9ta1cAczHEf7I+3J0ws9Cgx0fsOFpmlfwKcWPuBQ
            73Oc4FHzBaZ8llq4q1mr5B2mOUCt815qYR8eB1hG2VJ7j35q4RofaH7IG+Xrf/PfJhfmwtfFYoIN
            AqxFUD6OMxcvkO+UfKfkOyXfKdsv/AYCHMLVkHAFWgAAAABJRU5ErkJggg==
            --===============1438169132528273974==--

        multipart/form-data

        -------------------


        As with creating new snippets, `multipart/form-data` can be used as an

        alternative to `multipart/related`. However, the inherently flat

        structure of form-data means that only basic, root-level properties

        can be returned, while nested elements like `links` are omitted:

            $ curl -H "Accept: multipart/form-data" https://api.bitbucket.org/2.0/snippets/evzijst/kypj

        Response:

            HTTP/1.1 200 OK
            Content-Length: 951
            Content-Type: multipart/form-data; boundary=----------------------------63a4b224c59f

            ------------------------------63a4b224c59f
            Content-Disposition: form-data; name="title"
            Content-Type: text/plain; charset="utf-8"

            My snippet
            ------------------------------63a4b224c59f--
            Content-Disposition: attachment; name="file"; filename="foo.txt"
            Content-Type: text/plain

            foo

            ------------------------------63a4b224c59f
            Content-Disposition: attachment; name="file"; filename="image.png"
            Content-Transfer-Encoding: base64
            Content-Type: application/octet-stream

            iVBORw0KGgoAAAANSUhEUgAAABQAAAAoCAYAAAD+MdrbAAABD0lEQVR4Ae3VMUoDQRTG8ccUaW2m
            TKONFxArJYJamCvkCnZTaa+VnQdJSBFl2SMsLFrEWNjZBZs0JgiL/+KrhhVmJRbCLPx4O+/DT2TB
            cbblJxf+UWFVVRNsEGAtgvJxnLm2H+A5RQ93uIl+3632PZyl/skjfOn9Gvdwmlcw5aPUwimG+NT5
            EnNN036IaZePUuIcK533NVfal7/5yjWeot2z9ta1cAczHEf7I+3J0ws9Cgx0fsOFpmlfwKcWPuBQ
            73Oc4FHzBaZ8llq4q1mr5B2mOUCt815qYR8eB1hG2VJ7j35q4RofaH7IG+Xrf/PfJhfmwtfFYoIN
            AqxFUD6OMxcvkO+UfKfkOyXfKdsv/AYCHMLVkHAFWgAAAABJRU5ErkJggg==
            ------------------------------5957323a6b76--
      parameters:
        - required: true
          description: The snippet's id.
          in: path
          name: encoded_id
          schema:
            type: string
      tags:
        - snippets
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      responses:
        "200":
          description: The snippet object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/snippet"
            multipart/related:
              schema:
                $ref: "#/components/schemas/snippet"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/snippet"
        "401":
          description: If the snippet is private and the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If authenticated user does not have access to the private snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - snippet:write
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "204":
          description: If the snippet was deleted successfully.
        "401":
          description: If the snippet is private and the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If authenticated user does not have permission to delete the private
            snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The snippet's id.
          in: path
          name: encoded_id
          schema:
            type: string
      description: Deletes a snippet and returns an empty response.
  /addon/linkers:
    parameters: []
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/activity":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The pull request activity log
        "401":
          description: If the repository is private and the request was not authenticated.
        "404":
          description: If the specified repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The id of the pull request.
          in: path
          name: pull_request_id
          schema:
            type: integer
      description: |-
        Returns a paginated list of the pull request's activity log.

        This includes comments that were made by the reviewers, updates and
        approvals.
  "/repositories/{workspace}/{repo_slug}/environments/{environment_uuid}/changes/":
    post:
      description: Update an environment
      tags:
        - deployments
      responses:
        "202":
          description: The environment update request was accepted.
        "404":
          description: No account, repository or environment with the UUID provided exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The environment UUID.
          required: true
          name: environment_uuid
          in: path
          schema:
            type: string
      operationId: updateEnvironmentForRepository
  "/teams/{username}/permissions/repositories":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - team
        - basic: []
        - api_key: []
      tags: []
      responses:
        "200":
          description: List of team's repository permissions.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_repository_permissions"
        "403":
          description: The requesting user isn't an admin of the team.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: false
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../../meta/filtering).
          in: query
          name: q
          schema:
            type: string
        - required: false
          description: |
            
            Name of a response property sort the result by as per
            [filtering and sorting](../../../../meta/filtering#query-sort).
          in: query
          name: sort
          schema:
            type: string
      description: >-
        Returns an object for each repository permission for all of a

        teamâ€™s repositories.


        If the username URL parameter refers to a user account instead of

        a team account, an object containing the repository permissions

        of all the username's repositories will be returned.


        Permissions returned are effective permissions â€” the highest level of

        permission the user has. This does not include public repositories that

        users are not granted any specific permission in, and does not

        distinguish between direct and indirect privileges.


        Only users with admin permission for the team may access this resource.


        Permissions can be:


        * `admin`

        * `write`

        * `read`


        Example:


        ```

        $ curl https://api.bitbucket.org/2.0/teams/atlassian_tutorial/permissions/repositories


        {
          "pagelen": 10,
          "values": [
            {
              "type": "repository_permission",
              "user": {
                "type": "user",
                "username": "evzijst",
                "display_name": "Erik van Zijst",
                "uuid": "{d301aafa-d676-4ee0-88be-962be7417567}"
              },
              "repository": {
                "type": "repository",
                "name": "geordi",
                "full_name": "bitbucket/geordi",
                "uuid": "{85d08b4e-571d-44e9-a507-fa476535aa98}"
              },
              "permission": "admin"
            },
            {
              "type": "repository_permission",
              "user": {
                "type": "user",
                "username": "seanaty",
                "display_name": "Sean Conaty",
                "uuid": "{504c3b62-8120-4f0c-a7bc-87800b9d6f70}"
              },
              "repository": {
                "type": "repository",
                "name": "geordi",
                "full_name": "bitbucket/geordi",
                "uuid": "{85d08b4e-571d-44e9-a507-fa476535aa98}"
              },
              "permission": "write"
            }
          ],
          "page": 1,
          "size": 2
        }

        ```


        Results may be further [filtered or sorted](../../../../meta/filtering)

        by repository, user, or permission by adding the following query string

        parameters:


        * `q=repository.name="geordi"` or `q=permission>"read"`

        * `sort=user.display_name`


        Note that the query parameter values need to be URL escaped so that `=`

        would become `%3D`.
  "/repositories/{username}/{repo_slug}/filehistory/{node}/{path}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: node
        in: path
        schema:
          type: string
      - required: true
        name: path
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - source
        - repositories
      responses:
        "200":
          description: A paginated list of commits that modified the specified file
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_files"
        "404":
          description: If the repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: |-
            
            When `true`, Bitbucket will follow the history of the file across
            renames (this is the default behavior). This can be turned off by
            specifying `false`.
          in: query
          name: renames
          schema:
            type: string
        - required: false
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../../../../meta/filtering).
          in: query
          name: q
          schema:
            type: string
        - required: false
          description: >
            
            Name of a response property sort the result by as per

            [filtering and sorting](../../../../../../meta/filtering#query-sort).
          in: query
          name: sort
          schema:
            type: string
      description: >-
        Returns a paginated list of commits that modified the specified file.


        Commits are returned in reverse chronological order. This is roughly

        equivalent to the following commands:

            $ git log --follow --date-order  

            $ hg log --follow 

        By default, Bitbucket will follow renames and the path name in the

        returned entries reflects that. This can be turned off using the

        `?renames=false` query parameter.


        Results are returned in descending chronological order by default, and

        like most endpoints you can

        [filter and sort](../../../../../../meta/filtering) the response to

        only provide exactly the data you want.


        For example, if you wanted to find commits made before 2011-05-18

        against a file named `README.rst`, but you only wanted the path and

        date, your query would look like this:


        ```

        $ curl 'https://api.bitbucket.org/2.0/repositories/evzijst/dogslow/filehistory/master/README.rst'\
          '?fields=values.next,values.path,values.commit.date&q=commit.date<=2011-05-18'
        {
          "values": [
            {
              "commit": {
                "date": "2011-05-17T07:32:09+00:00"
              },
              "path": "README.rst"
            },
            {
              "commit": {
                "date": "2011-05-16T06:33:28+00:00"
              },
              "path": "README.txt"
            },
            {
              "commit": {
                "date": "2011-05-16T06:15:39+00:00"
              },
              "path": "README.txt"
            }
          ]
        }

        ```


        In the response you can see that the file was renamed to `README.rst`

        by the commit made on 2011-05-16, and was previously named `README.txt`.
  "/users/{username}/hooks":
    post:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - users
        - webhooks
      responses:
        "201":
          headers:
            Location:
              description: The URL of new newly created webhook.
              schema:
                type: string
          description: The newly installed webhook.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/webhook_subscription"
        "403":
          description: If the authenticated user is accessing an account other than their
            own.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the specified account does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Creates a new webhook on the specified user account.


        Account-level webhooks are fired for events from all repositories

        belonging to that account.


        Note that one can only register webhooks on one's own account, not that

        of others.


        Also, note that the username path parameter has been deprecated due to

        [privacy changes](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#removal-of-usernames-from-user-referencing-apis).

        Use the account's UUID or account_id instead.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - users
        - webhooks
      responses:
        "200":
          description: The paginated list of installed webhooks.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_webhook_subscriptions"
        "403":
          description: If the authenticated user is accessing an account other than their
            own.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the specified account does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Returns a paginated list of webhooks installed on this user account.


        Note that the username path parameter has been deprecated due to

        [privacy changes](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#removal-of-usernames-from-user-referencing-apis).

        Use the account's UUID or account_id instead.
  "/repositories/{workspace}/{repo_slug}/pipelines_config/variables/{variable_uuid}":
    put:
      description: Update a repository level variable.
      tags:
        - pipelines
      responses:
        "200":
          description: The variable was updated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_variable"
        "404":
          description: The account, repository or variable with the given UUID was not
            found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the variable to update.
          required: true
          name: variable_uuid
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipeline_variable"
        description: The updated variable
        required: true
      operationId: updateRepositoryPipelineVariable
    get:
      description: Retrieve a repository level variable.
      tags:
        - pipelines
      responses:
        "200":
          description: The variable.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_variable"
        "404":
          description: The account, repository or variable with the specified UUID was not
            found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the variable to retrieve.
          required: true
          name: variable_uuid
          in: path
          schema:
            type: string
      operationId: getRepositoryPipelineVariable
    delete:
      description: Delete a repository level variable.
      tags:
        - pipelines
      responses:
        "204":
          description: The variable was deleted.
        "404":
          description: The account, repository or variable with given UUID was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the variable to delete.
          required: true
          name: variable_uuid
          in: path
          schema:
            type: string
      operationId: deleteRepositoryPipelineVariable
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}/steps/{step_uuid}/logs/{log_uuid}":
    get:
      responses:
        default:
          description: Default response
  /addon:
    put:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
    parameters: []
    delete:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}/steps/{step_uuid}/test_reports/test_cases":
    get:
      responses:
        default:
          description: Default response
  "/users/{username}/following":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - account
        - basic: []
        - api_key: []
      tags:
        - users
      responses:
        "200":
          description: A paginated list of user objects.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_users"
        "404":
          description: If no user exists for the specified name, or if the specified
            account is a team account, not a personal account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The user's username
          in: path
          name: username
          schema:
            type: string
      description: >-
        Returns the list of accounts this user is following.


        This operation has been deprecated due to privacy changes.

        See the [announcement](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/) for details.
  "/users/{username}/properties/{app_key}/{property_name}":
    put:
      responses:
        "204":
          description: An empty response.
      operationId: updateUserHostedPropertyValue
      description: Update an application property value stored against a user.
      parameters:
        - required: true
          description: The user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
    delete:
      responses:
        "204":
          description: An empty response.
      operationId: deleteUserHostedPropertyValue
      description: Delete an application property value stored against a user.
      parameters:
        - required: true
          description: The user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
    get:
      responses:
        "200":
          description: The value of the property.
      operationId: retrieveUserHostedPropertyValue
      description: Retrieve an application property value stored against a user.
      parameters:
        - required: true
          description: The user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
  "/repositories/{username}/{repo_slug}/issues/{issue_id}":
    put:
      security:
        - oauth2:
            - issue:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The updated issue object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue"
        "403":
          description: When the authenticated user isn't authorized to access the issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Modifies the issue.


        ```

        $ curl https://api.bitbucket.org/2.0/repostories/evzijst/dogslow/issues/123 \
          -u evzijst -s -X PUT -H 'Content-Type: application/json' \
          -d '{
          "title": "Updated title",
          "assignee": {
            "username": "evzijst"
          },
          "priority": "minor",
          "version": {
            "name": "1.0"
          },
          "component": null
        }'

        ```


        This example changes the `title`, `assignee`, `priority` and the

        `version`. It also removes the value of the `component` from the issue

        by setting the field to `null`. Any field not present keeps its existing

        value.


        Each time an issue is edited in the UI or through the API, an immutable

        change record is created under the `/issues/123/changes` endpoint. It

        also has a comment associated with the change.
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The issue object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue"
        "403":
          description: When the authenticated user isn't authorized to access the issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the specified issue.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The issue id
        in: path
        name: issue_id
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - issue:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The issue object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue"
        "403":
          description: When the authenticated user isn't authorized to delete the issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Deletes the specified issue. This requires write access to the
        repository.
  "/teams/{username}/repositories":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - users
        - teams
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        All repositories owned by a user/team. This includes private
        repositories, but filtered down to the ones that the calling user has
        access to.
  "/repositories/{username}/{repo_slug}/pullrequests/activity":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The pull request activity log
        "401":
          description: If the repository is private and the request was not authenticated.
        "404":
          description: If the specified repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The id of the pull request.
          in: path
          name: pull_request_id
          schema:
            type: integer
      description: |-
        Returns a paginated list of the pull request's activity log.

        This includes comments that were made by the reviewers, updates and
        approvals.
  "/repositories/{username}/{repo_slug}/refs":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - refs
      responses:
        "200":
          description: A paginated list of refs matching any filter criteria that were
            provided.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_refs"
        "403":
          description: >
            If the repository is private and the authenticated user does not
            have

            access to it.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: |
            
            This can either be the username or the UUID of the user,
            surrounded by curly-braces, for example: `{user UUID}`.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            
            This can either be the repository slug or the UUID of the repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - in: query
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../../../../meta/filtering).
          name: q
          schema:
            type: string
        - in: query
          description: >-
            
            Field by which the results should be sorted as per

            [filtering and sorting](../../../../../../meta/filtering). The `name`

            field is handled specially for refs in that, if specified as the sort field, it

            uses a natural sort order instead of the default lexicographical sort order. For example,

            it will return ['1.1', '1.2', '1.10'] instead of ['1.1', '1.10', '1.2'].
          name: sort
          schema:
            type: string
      description: >-
        Returns the branches and tags in the repository.


        By default, results will be in the order the underlying source control system returns them and identical to

        the ordering one sees when running "$ git show-ref". Note that this follows simple

        lexical ordering of the ref names.


        This can be undesirable as it does apply any natural sorting semantics, meaning for instance that refs are

        sorted ["branch1", "branch10", "branch2", "v10", "v11", "v9"] instead of ["branch1", "branch2",

        "branch10", "v9", "v10", "v11"].


        Sorting can be changed using the ?sort= query parameter. When using ?sort=name to explicitly sort on ref name,

        Bitbucket will apply natural sorting and interpret numerical values as numbers instead of strings.
  "/repositories/{username}/{repo_slug}/issues/export/{repo_name}-issues-{task_id}.zip":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: repo_name
        in: path
        schema:
          type: string
      - required: true
        name: task_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository:admin
            - issue
        - basic: []
        - api_key: []
      tags: []
      responses:
        "202":
          description: Export job accepted
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue_job_status"
        "401":
          description: The request wasn't authenticated properly
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: When the authenticated user does not have admin permission on the
            repo
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: No export job has begun
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The name of the repo
          in: path
          name: repo_name
          schema:
            type: string
        - required: true
          description: The ID of the export task
          in: path
          name: task_id
          schema:
            type: string
      description: >-
        This endpoint is used to poll for the progress of an issue export

        job and return the zip file after the job is complete.

        As long as the job is running, this will return a 200 response

        with in the response body a description of the current status.


        After the job has been scheduled, but before it starts executing, this

        endpoint's response is:


        {
         "type": "issue_job_status",
         "status": "ACCEPTED",
         "phase": "Initializing",
         "total": 0,
         "count": 0,
         "pct": 0
        }



        Then once it starts running, it becomes:


        {
         "type": "issue_job_status",
         "status": "STARTED",
         "phase": "Attachments",
         "total": 15,
         "count": 11,
         "pct": 73
        }


        Once the job has successfully completed, it returns a stream of the zip file.
  "/pullrequests/{target_user}":
    parameters:
      - required: true
        name: target_user
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: All pull requests authored by the specified user.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pullrequests"
        "404":
          description: If the specified user does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - description: Only return pull requests that are in this state. This parameter can
            be repeated.
          in: query
          name: state
          schema:
            type: string
            enum:
              - MERGED
              - SUPERSEDED
              - OPEN
              - DECLINED
      description: |-
        Returns all pull requests authored by the specified user.

        By default only open pull requests are returned. This can be controlled
        using the `state` query parameter. To retrieve pull requests that are
        in one of multiple states, repeat the `state` parameter for each
        individual state.

        This endpoint also supports filtering and sorting of the results. See
        [filtering and sorting](../../../../meta/filtering) for more details.
  "/repositories/{username}/{repo_slug}/downloads":
    post:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - downloads
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Upload new download artifacts.


        To upload files, perform a `multipart/form-data` POST containing one

        or more `files` fields:

            $ echo Hello World > hello.txt
            $ curl -s -u evzijst -X POST https://api.bitbucket.org/2.0/repositories/evzijst/git-tests/downloads -F files=@hello.txt

        When a file is uploaded with the same name as an existing artifact,

        then the existing file will be replaced.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - downloads
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns a list of download links associated with the repository.
  "/teams/{username}/permissions/repositories/{repo_slug}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags: []
      responses:
        "200":
          description: List of repository's repository permissions.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_repository_permissions"
        "403":
          description: The requesting user isn't an admin of the repository.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: false
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../../meta/filtering).
          in: query
          name: q
          schema:
            type: string
        - required: false
          description: |
            
            Name of a response property sort the result by as per
            [filtering and sorting](../../../../meta/filtering#query-sort).
          in: query
          name: sort
          schema:
            type: string
      description: >-
        Returns an object for each repository permission of a given repository.


        If the username URL parameter refers to a user account instead of

        a team account, an object containing the repository permissions

        of the username's repository will be returned.


        Permissions returned are effective permissions â€” the highest level of

        permission the user has. This does not include public repositories that

        users are not granted any specific permission in, and does not

        distinguish between direct and indirect privileges.


        Only users with admin permission for the repository may access this resource.


        Permissions can be:


        * `admin`

        * `write`

        * `read`


        Example:


        ```

        $ curl https://api.bitbucket.org/2.0/teams/atlassian_tutorial/permissions/repositories/geordi


        {
          "pagelen": 10,
          "values": [
            {
              "type": "repository_permission",
              "user": {
                "type": "user",
                "username": "evzijst",
                "display_name": "Erik van Zijst",
                "uuid": "{d301aafa-d676-4ee0-88be-962be7417567}"
              },
              "repository": {
                "type": "repository",
                "name": "geordi",
                "full_name": "bitbucket/geordi",
                "uuid": "{85d08b4e-571d-44e9-a507-fa476535aa98}"
              },
              "permission": "admin"
            },
            {
              "type": "repository_permission",
              "user": {
                "type": "user",
                "username": "seanaty",
                "display_name": "Sean Conaty",
                "uuid": "{504c3b62-8120-4f0c-a7bc-87800b9d6f70}"
              },
              "repository": {
                "type": "repository",
                "name": "geordi",
                "full_name": "bitbucket/geordi",
                "uuid": "{85d08b4e-571d-44e9-a507-fa476535aa98}"
              },
              "permission": "write"
            }
          ],
          "page": 1,
          "size": 2
        }

        ```


        Results may be further [filtered or sorted](../../../../meta/filtering)

        by user, or permission by adding the following query string parameters:


        * `q=permission>"read"`

        * `sort=user.display_name`


        Note that the query parameter values need to be URL escaped so that `=`

        would become `%3D`.
  /hook_events:
    parameters: []
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - webhooks
      responses:
        "200":
          description: A mapping of resource/subject types pointing to their individual
            event types.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/subject_types"
      description: >-
        Returns the webhook resource or subject types on which webhooks can

        be registered.


        Each resource/subject type contains an `events` link that returns the

        paginated list of specific events each individual subject type can

        emit.


        This endpoint is publicly accessible and does not require

        authentication or scopes.


        Example:


        ```

        $ curl https://api.bitbucket.org/2.0/hook_events


        {
            "repository": {
                "links": {
                    "events": {
                        "href": "https://api.bitbucket.org/2.0/hook_events/repository"
                    }
                }
            },
            "team": {
                "links": {
                    "events": {
                        "href": "https://api.bitbucket.org/2.0/hook_events/team"
                    }
                }
            },
            "user": {
                "links": {
                    "events": {
                        "href": "https://api.bitbucket.org/2.0/hook_events/user"
                    }
                }
            }
        }

        ```
  "/teams/{username}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - teams
      responses:
        "200":
          description: The team object
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/team"
        "404":
          description: If no team exists for the specified name or UUID, or if the
            specified account is a personal account, not a team account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The team's username or UUID.
          in: path
          name: username
          schema:
            type: string
      description: |-
        Gets the public information associated with a team.

        If the team's profile is private, `location`, `website` and
        `created_on` elements are omitted.
  "/user/emails/{email}":
    parameters:
      - required: true
        name: email
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - email
        - basic: []
        - api_key: []
      tags:
        - users
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns details about a specific one of the authenticated user's
        email addresses.

        Details describe whether the address has been confirmed by the user and
        whether it is the user's primary address or not.
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/approve":
    post:
      security:
        - oauth2:
            - pullrequest:write
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The `participant` object recording that the authenticated user
            approved the pull request.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/participant"
        "404":
          description: The specified pull request or the repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Approve the specified pull request as the authenticated user.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - pullrequest:write
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "204":
          description: An empty response indicating the authenticated user's approval has
            been withdrawn.
        "404":
          description: The specified pull request or the repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Redact the authenticated user's approval of the specified pull
        request.
  "/repositories/{username}/{repo_slug}/patch/{spec}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: spec
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        "200":
          description: The raw patches
        "555":
          description: |-
            If the diff was too large and timed out.

            Since this endpoint does not employ any form of pagination, but
            instead returns the diff as a single document, it can run into
            trouble on very large diffs. If Bitbucket times out in cases
            like these, a 555 status code is returned.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Produces a raw patch for a single commit (diffed against its first
        parent), or a patch-series for a revspec of 2 commits (e.g.
        `3a8b42..9ff173` where the first commit represents the source and the
        second commit the destination).

        In case of the latter (diffing a revspec), a patch series is returned
        for the commits on the source branch (`3a8b42` and its ancestors in
        our example). For Mercurial, a single patch is returned that combines
        the changes of all commits on the source branch.

        While similar to diffs, patches:

        * Have a commit header (username, commit message, etc)
        * Do not support the `path=foo/bar.py` query parameter

        The raw patch is returned as-is, in whatever encoding the files in the
        repository use. It is not decoded into unicode. As such, the
        content-type is `text/plain`.
  "/repositories/{username}/{repo_slug}/forks":
    post:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - repositories
      responses:
        "201":
          headers:
            Location:
              description: The URL of the newly created fork
              schema:
                type: string
          description: The newly created fork.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/repository"
              examples:
                response:
                  value:
                    scm: git
                    website: www.example.com
                    has_wiki: false
                    description: A repository for my bits and bobs
                    language: python
                    fork_policy: allow_forks
                    links:
                      clone:
                        - href: https://bitbucket.org/example-username/bits_and_bobs.git
                          name: https
                        - href: git@bitbucket.org:example-username/bits_and_bobs.git
                          name: ssh
                      watchers:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/watchers
                      branches:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/branches
                      tags:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/tags
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commits
                      downloads:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/downloads
                      source:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/src
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs
                      avatar:
                        href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                      forks:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/forks
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                      pullrequests:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests
                    name: bits_and_bobs
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    mainbranch:
                      type: branch
                      name: master
                    full_name: example-username/bits_and_bobs
                    has_issues: false
                    owner:
                      username: example-username
                      display_name: Example Username
                      account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/users/example-username
                        html:
                          href: https://bitbucket.org/example-username/
                        avatar:
                          href: https://bitbucket.org/account/example-username/avatar/
                      nickname: example-username
                      type: user
                      uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                    updated_on: 2018-06-20T23:17:33.616037+00:00
                    size: 33348
                    type: repository
                    slug: bits_and_bobs
                    is_private: true
                    uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/repository"
        description: A repository object. This can be left blank.
      description: >-
        Creates a new fork of the specified repository.


        By default, forks are created under the authenticated user's account

        with the same name and slug of the original repository.


        ```

        $ curl -X POST -u jdoe https://api.bitbucket.org/2.0/repositories/evzijst/dogslow/forks


        {
          "scm": "git",
          "full_name": "jdoe/dogslow",
          "parent": {
            "full_name": "evzijst/dogslow",
            ...
          },
          ...
        }

        ```


        If you already have a repo with that name, then a 400 is returned and

        you'll need to specify a custom name for the new fork:


        ```

        $ curl -X POST -u jdoe https://api.bitbucket.org/2.0/repositories/evzijst/dogslow/forks \
          -H 'Content-Type: application/json' -d '{
            "name": "dogslow_fork"
        }'

        ```


        When you specify a value for `name`, it will also affect the `slug`.

        The `slug` is reflected in the repository URL of the new fork. It is

        derived from `name` by substituting non-ASCII characters, removes

        whitespace, and changes characters to lower case. For example,

        `My repo` would turn into `my_repo`.


        ## Forking a repository into a team account


        To create a fork into a team account, specify the new owner's account

        explicitly as part of the request body. This prevents forked

        repositories from being owned by the authenticated user submitting the

        request:


        ```

        $ curl -X POST -u jdoe https://api.bitbucket.org/2.0/repositories/atlassian/bbql/forks \
          -H 'Content-Type: application/json' -d '{
            "name": "bbql_fork",
            "owner": {
              "username": "atlassian"
            }
        }'

        ```


        To fork a repository into the same team, also specify a new `name`.


        You need contributor access to create new forks within a team account.



        ## Change the properties of a new fork


        By default the fork inherits most of its properties from the parent.

        However, since the optional POST body document follows the normal

        `repository` JSON schema and you can override the new fork's

        properties.


        Properties that can be overridden include:


        * description

        * fork_policy

        * language

        * mainbranch

        * is_private (note that a private repo's fork_policy might prohibit
          the creation of public forks, in which `is_private=False` would fail)
        * has_issues (to initialize or disable the new repo's issue tracker --
          note that the actual contents of the parent repository's issue
          tracker are not copied during forking)
        * has_wiki (to initialize or disable the new repo's wiki --
          note that the actual contents of the parent repository's wiki are not
          copied during forking)
        * project (only teams have projects and when forking into a private
          project, the fork's `is_private` must be `true`)

        Properties that cannot be modified include:


        * scm

        * parent

        * full_name
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - repositories
      responses:
        "200":
          description: All forks.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_repositories"
      description: |-
        Returns a paginated list of all the forks of the specified
        repository.
  "/repositories/{username}/{repo_slug}/issues":
    post:
      security:
        - oauth2:
            - issue:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "201":
          headers:
            Location:
              description: The (absolute) URL of the newly created issue.
              schema:
                type: string
          description: The newly created issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue"
        "401":
          description: When the request wasn't authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: When the authenticated user isn't authorized to create the issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository does not exist or does not have the issue
            tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/issue"
        description: The new issue. The only required element is `title`. All other
          elements can be omitted from the body.
        required: true
      description: |-
        Creates a new issue.

        This call requires authentication. Private repositories or private
        issue trackers require the caller to authenticate with an account that
        has appropriate authorization.

        The authenticated user is used for the issue's `reporter` field.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: A paginated list of the issues matching any filter criteria that
            were provided.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_issues"
        "404":
          description: The specified repository does not exist or does not have the issue
            tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the issues in the issue tracker.
  "/repositories/{username}/{repo_slug}/issues/{issue_id}/attachments":
    post:
      security:
        - oauth2:
            - issue:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "201":
          headers:
            Location:
              description: The URL to the issue's collection of attachments.
              schema:
                type: string
          description: An empty response document.
        "400":
          description: If no files were uploaded, or if the wrong `Content-Type` was used.
        "401":
          description: If the issue tracker is private and the request was not
            authenticated.
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The issue's id
          in: path
          name: issue_id
          schema:
            type: integer
      description: |-
        Upload new issue attachments.

        To upload files, perform a `multipart/form-data` POST containing one
        or more file fields.

        When a file is uploaded with the same name as an existing attachment,
        then the existing file will be replaced.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: issue_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: A paginated list of all attachments for this issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_issue_attachments"
        "401":
          description: If the issue tracker is private and the request was not
            authenticated.
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The issue's id
          in: path
          name: issue_id
          schema:
            type: integer
      description: |-
        Returns all attachments for this issue.

        This returns the files' meta data. This does not return the files'
        actual contents.

        The files are always ordered by their upload date.
  "/repositories/{username}/{repo_slug}/versions":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The versions that have been defined in the issue tracker.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_versions"
        "404":
          description: The specified repository does not exist or does not have the issue
            tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns the versions that have been defined in the issue tracker.

        This resource is only available on repositories that have the issue
        tracker enabled.
  "/repositories/{workspace}/{repo_slug}/pipelines_config/ssh/known_hosts/{known_host_uuid}":
    put:
      description: Update a repository level known host.
      tags:
        - pipelines
      responses:
        "200":
          description: The known host was updated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_known_host"
        "404":
          description: The account, repository or known host with the given UUID was not
            found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the known host to update.
          required: true
          name: known_host_uuid
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipeline_known_host"
        description: The updated known host.
        required: true
      operationId: updateRepositoryPipelineKnownHost
    get:
      description: Retrieve a repository level known host.
      tags:
        - pipelines
      responses:
        "200":
          description: The known host.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_known_host"
        "404":
          description: The account, repository or known host with the specified UUID was
            not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the known host to retrieve.
          required: true
          name: known_host_uuid
          in: path
          schema:
            type: string
      operationId: getRepositoryPipelineKnownHost
    delete:
      description: Delete a repository level known host.
      tags:
        - pipelines
      responses:
        "204":
          description: The known host was deleted.
        "404":
          description: The account, repository or known host with given UUID was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the known host to delete.
          required: true
          name: known_host_uuid
          in: path
          schema:
            type: string
      operationId: deleteRepositoryPipelineKnownHost
  /user/permissions/teams:
    parameters: []
    get:
      security:
        - oauth2:
            - account
        - basic: []
        - api_key: []
      tags: []
      responses:
        "200":
          description: Team permissions for the teams a caller is a member of.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_team_permissions"
      parameters:
        - required: false
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../meta/filtering).
          in: query
          name: q
          schema:
            type: string
        - required: false
          description: |
            
            Name of a response property sort the result by as per
            [filtering and sorting](../../../meta/filtering#query-sort).
          in: query
          name: sort
          schema:
            type: string
      description: |-
        Returns an object for each team the caller is a member of, and their
        effective role â€” the highest level of privilege the caller has. If a
        user is a member of multiple groups with distinct roles, only the
        highest level is returned.

        Permissions can be:

        * `admin`
        * `collaborator`

        Example:

        ```
        $ curl https://api.bitbucket.org/2.0/user/permissions/teams

        {
          "pagelen": 10,
          "values": [
            {
              "permission": "admin",
              "type": "team_permission",
              "user": {
                "type": "user",
                "username": "evzijst",
                "nickname": "evzijst",
                "display_name": "Erik van Zijst",
                "uuid": "{d301aafa-d676-4ee0-88be-962be7417567}"
              },
              "team": {
                "username": "bitbucket",
                "display_name": "Atlassian Bitbucket",
                "uuid": "{4cc6108a-a241-4db0-96a5-64347ac04f87}"
              }
            }
          ],
          "page": 1,
          "size": 1
        }
        ```

        Results may be further [filtered or sorted](../../../meta/filtering) by
        team or permission by adding the following query string parameters:

        * `q=team.username="bitbucket"` or `q=permission="admin"`
        * `sort=team.display_name`

        Note that the query parameter values need to be URL escaped so that `=`
        would become `%3D`.
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}/steps/{step_uuid}":
    get:
      description: Retrieve a given step of a pipeline.
      tags:
        - pipelines
      responses:
        "200":
          description: The step.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_step"
        "404":
          description: No account, repository, pipeline or step with the UUID provided
            exists for the pipeline with the UUID provided.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the pipeline.
          required: true
          name: pipeline_uuid
          in: path
          schema:
            type: string
        - description: The UUID of the step.
          required: true
          name: step_uuid
          in: path
          schema:
            type: string
      operationId: getPipelineStepForRepository
  "/teams/{username}/hooks/{uid}":
    put:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - teams
        - webhooks
      responses:
        "200":
          description: The webhook subscription object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/webhook_subscription"
        "403":
          description: If the authenticated user does not have permission to update the
            webhook.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the webhook or team does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The installed webhook's id
          in: path
          name: uid
          schema:
            type: string
      description: |-
        Updates the specified webhook subscription.

        The following properties can be mutated:

        * `description`
        * `url`
        * `active`
        * `events`
    get:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - teams
        - webhooks
      responses:
        "200":
          description: The webhook subscription object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/webhook_subscription"
        "404":
          description: If the webhook or team does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The installed webhook's id.
          in: path
          name: uid
          schema:
            type: string
      description: |-
        Returns the webhook with the specified id installed on the given
        team account.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: uid
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - teams
        - webhooks
      responses:
        "204":
          description: When the webhook was deleted successfully
        "403":
          description: If the authenticated user does not have permission to delete the
            webhook.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the webhook or team does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The installed webhook's id
          in: path
          name: uid
          schema:
            type: string
      description: |-
        Deletes the specified webhook subscription from the given team
        account.
  "/repositories/{username}/{repo_slug}/refs/tags/{name}":
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - refs
      responses:
        "200":
          description: The tag object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/tag"
        "403":
          description: >
            If the repository is private and the authenticated user does not
            have

            access to it.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or tag does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Returns the specified tag.


        ```

        $ curl -s https://api.bitbucket.org/2.0/repositories/seanfarley/hg/refs/tags/3.8 -G | jq .

        {
          "name": "3.8",
          "links": {
            "commits": {
              "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg/commits/3.8"
            },
            "self": {
              "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg/refs/tags/3.8"
            },
            "html": {
              "href": "https://bitbucket.org/seanfarley/hg/commits/tag/3.8"
            }
          },
          "tagger": {
            "raw": "Matt Mackall ",
            "type": "author",
            "user": {
              "username": "mpmselenic",
              "nickname": "mpmselenic",
              "display_name": "Matt Mackall",
              "type": "user",
              "uuid": "{a4934530-db4c-419c-a478-9ab4964c2ee7}",
              "links": {
                "self": {
                  "href": "https://api.bitbucket.org/2.0/users/mpmselenic"
                },
                "html": {
                  "href": "https://bitbucket.org/mpmselenic/"
                },
                "avatar": {
                  "href": "https://bitbucket.org/account/mpmselenic/avatar/32/"
                }
              }
            }
          },
          "date": "2016-05-01T18:52:25+00:00",
          "message": "Added tag 3.8 for changeset f85de28eae32",
          "type": "tag",
          "target": {
            "hash": "f85de28eae32e7d3064b1a1321309071bbaaa069",
            "repository": {
              "links": {
                "self": {
                  "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg"
                },
                "html": {
                  "href": "https://bitbucket.org/seanfarley/hg"
                },
                "avatar": {
                  "href": "https://bitbucket.org/seanfarley/hg/avatar/32/"
                }
              },
              "type": "repository",
              "name": "hg",
              "full_name": "seanfarley/hg",
              "uuid": "{c75687fb-e99d-4579-9087-190dbd406d30}"
            },
            "links": {
              "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg/commit/f85de28eae32e7d3064b1a1321309071bbaaa069"
              },
              "comments": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg/commit/f85de28eae32e7d3064b1a1321309071bbaaa069/comments"
              },
              "patch": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg/patch/f85de28eae32e7d3064b1a1321309071bbaaa069"
              },
              "html": {
                "href": "https://bitbucket.org/seanfarley/hg/commits/f85de28eae32e7d3064b1a1321309071bbaaa069"
              },
              "diff": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg/diff/f85de28eae32e7d3064b1a1321309071bbaaa069"
              },
              "approve": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg/commit/f85de28eae32e7d3064b1a1321309071bbaaa069/approve"
              },
              "statuses": {
                "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg/commit/f85de28eae32e7d3064b1a1321309071bbaaa069/statuses"
              }
            },
            "author": {
              "raw": "Sean Farley ",
              "type": "author",
              "user": {
                "username": "seanfarley",
                "nickname": "seanfarley",
                "display_name": "Sean Farley",
                "type": "user",
                "uuid": "{a295f8a8-5876-4d43-89b5-3ad8c6c3c51d}",
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/users/seanfarley"
                  },
                  "html": {
                    "href": "https://bitbucket.org/seanfarley/"
                  },
                  "avatar": {
                    "href": "https://bitbucket.org/account/seanfarley/avatar/32/"
                  }
                }
              }
            },
            "parents": [
              {
                "hash": "9a98d0e5b07fc60887f9d3d34d9ac7d536f470d2",
                "type": "commit",
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/seanfarley/hg/commit/9a98d0e5b07fc60887f9d3d34d9ac7d536f470d2"
                  },
                  "html": {
                    "href": "https://bitbucket.org/seanfarley/hg/commits/9a98d0e5b07fc60887f9d3d34d9ac7d536f470d2"
                  }
                }
              }
            ],
            "date": "2016-05-01T04:21:17+00:00",
            "message": "debian: alphabetize build deps",
            "type": "commit"
          }
        }

        ```
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The name of the tag.
        in: path
        name: name
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - refs
      responses:
        "204":
          description: Indicates the specified tag was successfully deleted.
        "403":
          description: >
            If the repository is private and the authenticated user does not
            have

            access to it.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or tag does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Delete a tag in the specified repository.

        For Git, the tag name should not include any prefixes (e.g. refs/tags).
        For Mercurial, this adds a commit to the main branch that removes the
        specified tag.
  "/snippets/{username}/{encoded_id}/watch":
    put:
      security:
        - oauth2:
            - snippet:write
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "204":
          description: Indicates the authenticated user is now watching the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_users"
        "401":
          description: If the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The snippet id.
          in: path
          name: encoded_id
          schema:
            type: string
      description: Used to start watching a specific snippet. Returns 204 (No Content).
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "204":
          description: If the authenticated user is watching the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_users"
        "404":
          description: If the snippet does not exist, or if the authenticated user is not
            watching the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The snippet id.
          in: path
          name: encoded_id
          schema:
            type: string
      description: |-
        Used to check if the current user is watching a specific snippet.

        Returns 204 (No Content) if the user is watching the snippet and 404 if
        not.

        Hitting this endpoint anonymously always returns a 404.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - snippet:write
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "204":
          description: Indicates the user stopped watching the snippet successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_users"
        "401":
          description: If the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The snippet id.
          in: path
          name: encoded_id
          schema:
            type: string
      description: |-
        Used to stop watching a specific snippet. Returns 204 (No Content)
        to indicate success.
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/diff":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "302":
          description: |
            Redirects to the [repository diff](../../diff/%7Bspec%7D) with the
            revspec that corresponds to the pull request.
      description: |-
        Redirects to the [repository diff](../../diff/%7Bspec%7D)
        with the revspec that corresponds to the pull request.
  "/repositories/{username}/{repo_slug}/branching-model":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - branching_model
      responses:
        "200":
          description: The branching model object
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/branching_model"
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the authenticated user does not have read access to the repository
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Return the branching model as applied to the repository. This view is
        read-only. The branching model settings can be changed using the
        [settings](branching-model/settings#get) API.

        The returned object:

        1. Always has a `development` property. `development.branch` contains
           the actual repository branch object that is considered to be the
           `development` branch. `development.branch` will not be present
           if it does not exist.
        2. Might have a `production` property. `production` will not
           be present when `production` is disabled.
           `production.branch` contains the actual branch object that is
           considered to be the `production` branch. `production.branch` will
           not be present if it does not exist.
        3. Always has a `branch_types` array which contains all enabled branch
           types.

        Example body:

        ```
        {
          "development": {
            "name": "master",
            "branch": {
              "type": "branch",
              "name": "master",
              "target": {
                "hash": "16dffcb0de1b22e249db6799532074cf32efe80f"
              }
            },
            "use_mainbranch": true
          },
          "production": {
            "name": "production",
            "branch": {
              "type": "branch",
              "name": "production",
              "target": {
                "hash": "16dffcb0de1b22e249db6799532074cf32efe80f"
              }
            },
            "use_mainbranch": false
          },
          "branch_types": [
            {
              "kind": "release",
              "prefix": "release/"
            },
            {
              "kind": "hotfix",
              "prefix": "hotfix/"
            },
            {
              "kind": "feature",
              "prefix": "feature/"
            },
            {
              "kind": "bugfix",
              "prefix": "bugfix/"
            }
          ],
          "type": "branching_model",
          "links": {
            "self": {
              "href": "https://api.bitbucket.org/.../branching-model"
            }
          }
        }
        ```
  "/repositories/{username}/{repo_slug}/src/{node}/{path}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: node
        in: path
        schema:
          type: string
      - required: true
        name: path
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - source
        - repositories
      responses:
        "200":
          description: >
            If the path matches a file, then the raw contents of the file are

            returned.  If the `format=meta` query parameter is provided,

            a json document containing the file's meta data is

            returned.  If the `format=rendered` query parameter is provided,

            the contents of the file in HTML-formated rendered markup is returned.

            If the path matches a directory, then a paginated

            list of file and directory entries is returned (if the

            `format=meta` query parameter was provided, then the json document

            containing the directory's meta data is returned.)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_treeentries"
        "404":
          description: If the path or commit in the URL does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "555":
          description: If the call times out, possibly because the specifiedrecursion depth
            is too large.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: If 'meta' is provided, returns the (json) meta data for the contents
            of the file.  If 'rendered' is provided, returns the contents of a
            non-binary file in HTML-formatted rendered markup. Since Git and
            Mercurial do not generally track what text encoding scheme is used,
            this endpoint attempts to detect the most appropriate character
            encoding. While usually correct, determining the character encoding
            can be ambiguous which in exceptional cases can lead to
            misinterpretation of the characters. As such, the raw element in the
            response object should not be treated as equivalent to the file's
            actual contents.
          in: query
          name: format
          schema:
            type: string
            enum:
              - meta
              - rendered
        - required: false
          description: Optional filter expression as per [filtering and
            sorting](../../../../../../meta/filtering).
          in: query
          name: q
          schema:
            type: string
        - required: false
          description: Optional sorting parameter as per [filtering and
            sorting](../../../../../../meta/filtering#query-sort).
          in: query
          name: sort
          schema:
            type: string
        - required: false
          description: If provided, returns the contents of the repository and its
            subdirectories recursively until the specified max_depth of nested
            directories. When omitted, this defaults to 1.
          in: query
          name: max_depth
          schema:
            type: integer
      description: >-
        This endpoints is used to retrieve the contents of a single file,

        or the contents of a directory at a specified revision.


        ## Raw file contents


        When `path` points to a file, this endpoint returns the raw contents.

        The response's Content-Type is derived from the filename

        extension (not from the contents). The file contents are not processed

        and no character encoding/recoding is performed and as a result no

        character encoding is included as part of the Content-Type.


        The `Content-Disposition` header will be "attachment" to prevent

        browsers from running executable files.


        If the file is managed by LFS, then a 301 redirect pointing to

        Atlassian's media services platform is returned.


        The response includes an ETag that is based on the contents of the file

        and its attributes. This means that an empty `__init__.py` always

        returns the same ETag, regardless on the directory it lives in, or the

        commit it is on.


        ## File meta data


        When the request for a file path includes the query parameter

        `?format=meta`, instead of returning the file's raw contents, Bitbucket

        instead returns the JSON object describing the file's properties:


        ```javascript

        $ curl https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef/tests/__init__.py?format=meta

        {
          "links": {
            "self": {
              "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef5d3df01aed629f650959d6706d54cd335/tests/__init__.py"
            },
            "meta": {
              "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef5d3df01aed629f650959d6706d54cd335/tests/__init__.py?format=meta"
            }
          },
          "path": "tests/__init__.py",
          "commit": {
            "type": "commit",
            "hash": "eefd5ef5d3df01aed629f650959d6706d54cd335",
            "links": {
              "self": {
                "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/commit/eefd5ef5d3df01aed629f650959d6706d54cd335"
              },
              "html": {
                "href": "https://bitbucket.org/atlassian/bbql/commits/eefd5ef5d3df01aed629f650959d6706d54cd335"
              }
            }
          },
          "attributes": [],
          "type": "commit_file",
          "size": 0
        }

        ```


        File objects contain an `attributes` element that contains a list of

        possible modifiers. Currently defined values are:


        * `link` -- indicates that the entry is a symbolic link. The contents
            of the file represent the path the link points to.
        * `executable` -- indicates that the file has the executable bit set.

        * `subrepository` -- indicates that the entry points to a submodule or
            subrepo. The contents of the file is the SHA1 of the repository
            pointed to.
        * `binary` -- indicates whether Bitbucket thinks the file is binary.


        This endpoint can provide an alternative to how a HEAD request can be

        used to check for the existence of a file, or a file's size without

        incurring the overhead of receiving its full contents.



        ## Directory listings


        When `path` points to a directory instead of a file, the response is a

        paginated list of directory and file objects in the same order as the

        underlying SCM system would return them.


        For example:


        ```javascript

        $ curl https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef/tests

        {
          "pagelen": 10,
          "values": [
            {
              "path": "tests/test_project",
              "type": "commit_directory",
              "links": {
                "self": {
                  "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef5d3df01aed629f650959d6706d54cd335/tests/test_project/"
                },
                "meta": {
                  "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef5d3df01aed629f650959d6706d54cd335/tests/test_project/?format=meta"
                }
              },
              "commit": {
                "type": "commit",
                "hash": "eefd5ef5d3df01aed629f650959d6706d54cd335",
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/commit/eefd5ef5d3df01aed629f650959d6706d54cd335"
                  },
                  "html": {
                    "href": "https://bitbucket.org/atlassian/bbql/commits/eefd5ef5d3df01aed629f650959d6706d54cd335"
                  }
                }
              }
            },
            {
              "links": {
                "self": {
                  "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef5d3df01aed629f650959d6706d54cd335/tests/__init__.py"
                },
                "meta": {
                  "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef5d3df01aed629f650959d6706d54cd335/tests/__init__.py?format=meta"
                }
              },
              "path": "tests/__init__.py",
              "commit": {
                "type": "commit",
                "hash": "eefd5ef5d3df01aed629f650959d6706d54cd335",
                "links": {
                  "self": {
                    "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/commit/eefd5ef5d3df01aed629f650959d6706d54cd335"
                  },
                  "html": {
                    "href": "https://bitbucket.org/atlassian/bbql/commits/eefd5ef5d3df01aed629f650959d6706d54cd335"
                  }
                }
              },
              "attributes": [],
              "type": "commit_file",
              "size": 0
            }
          ],
          "page": 1,
          "size": 2
        }

        ```


        When listing the contents of the repo's root directory, the use of a

        trailing slash at the end of the URL is required.


        The response by default is not recursive, meaning that only the direct contents of

        a path are returned. The response does not recurse down into

        subdirectories. In order to "walk" the entire directory tree, the

        client can either parse each response and follow the `self` links of each

        `commit_directory` object, or can specify a `max_depth` to recurse to.


        The max_depth parameter will do a breadth-first search to return the contents of the subdirectories

        up to the depth specified. Breadth-first search was chosen as it leads to the least amount of

        file system operations for git. If the `max_depth` parameter is specified to be too

        large, the call will time out and return a 555.


        Each returned object is either a `commit_file`, or a `commit_directory`,

        both of which contain a `path` element. This path is the absolute path

        from the root of the repository. Each object also contains a `commit`

        object which embeds the commit the file is on. Note that this is merely

        the commit that was used in the URL. It is *not* the commit that last

        modified the file.


        Directory objects have 2 representations. Their `self` link returns the

        paginated contents of the directory. The `meta` link on the other hand

        returns the actual `directory` object itself, e.g.:


        ```javascript

        {
          "path": "tests/test_project",
          "type": "commit_directory",
          "links": {
            "self": {
              "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef5d3df01aed629f650959d6706d54cd335/tests/test_project/"
            },
            "meta": {
              "href": "https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src/eefd5ef5d3df01aed629f650959d6706d54cd335/tests/test_project/?format=meta"
            }
          },
          "commit": { ... }
        }

        ```


        ## Querying, filtering and sorting


        Like most API endpoints, this API supports the Bitbucket

        querying/filtering syntax and so you could filter a directory listing

        to only include entries that match certain criteria. For instance, to

        list all binary files over 1kb use the expression:


        `size > 1024 and attributes = "binary"`


        which after urlencoding yields the query string:


        `?q=size%3E1024+and+attributes%3D%22binary%22`


        To change the ordering of the response, use the `?sort` parameter:


        `.../src/eefd5ef/?sort=-size`


        See [filtering and sorting](../../../../../../meta/filtering) for more

        details.
  "/repositories/{workspace}/{repo_slug}/pullrequests/{pullrequest_id}/properties/{app_key}/{property_name}":
    put:
      responses:
        "204":
          description: An empty response.
      operationId: updatePullRequestHostedPropertyValue
      description: Update an application property value stored against a pull request.
      parameters:
        - required: true
          description: The account.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The pull request ID.
          in: path
          name: pullrequest_id
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
    delete:
      responses:
        "204":
          description: An empty response.
      operationId: deletePullRequestHostedPropertyValue
      description: Delete an application property value stored against a pull request.
      parameters:
        - required: true
          description: The account.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The pull request ID.
          in: path
          name: pullrequest_id
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
    get:
      responses:
        "200":
          description: The value of the property.
      operationId: getPullRequestHostedPropertyValue
      description: Retrieve an application property value stored against a pull request.
      parameters:
        - required: true
          description: The account.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The pull request ID.
          in: path
          name: pullrequest_id
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
  /snippets:
    post:
      security:
        - oauth2:
            - snippet:write
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "201":
          headers:
            Location:
              description: The URL of the newly created snippet.
              schema:
                type: string
          description: The newly created snippet object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/snippet"
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        $ref: "#/components/requestBodies/snippet"
      description: >-
        Creates a new snippet under the authenticated user's account.


        Snippets can contain multiple files. Both text and binary files are

        supported.


        The simplest way to create a new snippet from a local file:

            $ curl -u username:password -X POST https://api.bitbucket.org/2.0/snippets               -F file=@image.png

        Creating snippets through curl has a few limitations and so let's look

        at a more complicated scenario.


        Snippets are created with a multipart POST. Both `multipart/form-data`

        and `multipart/related` are supported. Both allow the creation of

        snippets with both meta data (title, etc), as well as multiple text

        and binary files.


        The main difference is that `multipart/related` can use rich encoding

        for the meta data (currently JSON).



        multipart/related (RFC-2387)

        ----------------------------


        This is the most advanced and efficient way to create a paste.

            POST /2.0/snippets/evzijst HTTP/1.1
            Content-Length: 1188
            Content-Type: multipart/related; start="snippet"; boundary="===============1438169132528273974=="
            MIME-Version: 1.0

            --===============1438169132528273974==
            Content-Type: application/json; charset="utf-8"
            MIME-Version: 1.0
            Content-ID: snippet

            {
              "title": "My snippet",
              "is_private": true,
              "scm": "hg",
              "files": {
                  "foo.txt": {},
                  "image.png": {}
                }
            }

            --===============1438169132528273974==
            Content-Type: text/plain; charset="us-ascii"
            MIME-Version: 1.0
            Content-Transfer-Encoding: 7bit
            Content-ID: "foo.txt"
            Content-Disposition: attachment; filename="foo.txt"

            foo

            --===============1438169132528273974==
            Content-Type: image/png
            MIME-Version: 1.0
            Content-Transfer-Encoding: base64
            Content-ID: "image.png"
            Content-Disposition: attachment; filename="image.png"

            iVBORw0KGgoAAAANSUhEUgAAABQAAAAoCAYAAAD+MdrbAAABD0lEQVR4Ae3VMUoDQRTG8ccUaW2m
            TKONFxArJYJamCvkCnZTaa+VnQdJSBFl2SMsLFrEWNjZBZs0JgiL/+KrhhVmJRbCLPx4O+/DT2TB
            cbblJxf+UWFVVRNsEGAtgvJxnLm2H+A5RQ93uIl+3632PZyl/skjfOn9Gvdwmlcw5aPUwimG+NT5
            EnNN036IaZePUuIcK533NVfal7/5yjWeot2z9ta1cAczHEf7I+3J0ws9Cgx0fsOFpmlfwKcWPuBQ
            73Oc4FHzBaZ8llq4q1mr5B2mOUCt815qYR8eB1hG2VJ7j35q4RofaH7IG+Xrf/PfJhfmwtfFYoIN
            AqxFUD6OMxcvkO+UfKfkOyXfKdsv/AYCHMLVkHAFWgAAAABJRU5ErkJggg==
            --===============1438169132528273974==--

        The request contains multiple parts and is structured as follows.


        The first part is the JSON document that describes the snippet's

        properties or meta data. It either has to be the first part, or the

        request's `Content-Type` header must contain the `start` parameter to

        point to it.


        The remaining parts are the files of which there can be zero or more.

        Each file part should contain the `Content-ID` MIME header through

        which the JSON meta data's `files` element addresses it. The value

        should be the name of the file.


        `Content-Disposition` is an optional MIME header. The header's

        optional `filename` parameter can be used to specify the file name

        that Bitbucket should use when writing the file to disk. When present,

        `filename` takes precedence over the value of `Content-ID`.


        When the JSON body omits the `files` element, the remaining parts are

        not ignored. Instead, each file is added to the new snippet as if its

        name was explicitly linked (the use of the `files` elements is

        mandatory for some operations like deleting or renaming files).



        multipart/form-data

        -------------------


        The use of JSON for the snippet's meta data is optional. Meta data can

        also be supplied as regular form fields in a more conventional

        `multipart/form-data` request:

            $ curl -X POST -u credentials https://api.bitbucket.org/2.0/snippets               -F title="My snippet"               -F file=@foo.txt -F file=@image.png

            POST /2.0/snippets HTTP/1.1
            Content-Length: 951
            Content-Type: multipart/form-data; boundary=----------------------------63a4b224c59f

            ------------------------------63a4b224c59f
            Content-Disposition: form-data; name="file"; filename="foo.txt"
            Content-Type: text/plain

            foo

            ------------------------------63a4b224c59f
            Content-Disposition: form-data; name="file"; filename="image.png"
            Content-Type: application/octet-stream

            ?PNG

            IHDR?1??I.....
            ------------------------------63a4b224c59f
            Content-Disposition: form-data; name="title"

            My snippet
            ------------------------------63a4b224c59f--

        Here the meta data properties are included as flat, top-level form

        fields. The file attachments use the `file` field name. To attach

        multiple files, simply repeat the field.


        The advantage of `multipart/form-data` over `multipart/related` is

        that it can be easier to build clients.


        Essentially all properties are optional, `title` and `files` included.



        Sharing and Visibility

        ----------------------


        Snippets can be either public (visible to anyone on Bitbucket, as well

        as anonymous users), or private (visible only to the owner, creator

        and members of the team in case the snippet is owned by a team). This

        is controlled through the snippet's `is_private` element:


        * **is_private=false** -- everyone, including anonymous users can view
          the snippet
        * **is_private=true** -- only the owner and team members (for team
          snippets) can view it

        To create the snippet under a team account, just append the team name

        to the URL (see `/2.0/snippets/{username}`).
    parameters: []
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          description: A paginated list of snippets.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_snippets"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: Filter down the result based on the authenticated user's role
            (`owner`, `contributor`, or `member`).
          in: query
          name: role
          schema:
            type: string
            enum:
              - owner
              - contributor
              - member
      description: >-
        Returns all snippets. Like pull requests, repositories and teams, the

        full set of snippets is defined by what the current user has access to.


        This includes all snippets owned by the current user, but also all snippets

        owned by any of the teams the user is a member of, or snippets by other

        users that the current user is either watching or has collaborated on (for

        instance by commenting on it).


        To limit the set of returned snippets, apply the

        `?role=[owner|contributor|member]` query parameter where the roles are

        defined as follows:


        * `owner`: all snippets owned by the current user

        * `contributor`: all snippets owned by, or watched by the current user

        * `member`: owned by the user, their teams, or watched by the current user


        When no role is specified, all public snippets are returned, as well as all

        privately owned snippets watched or commented on.


        The returned response is a normal paginated JSON list. This endpoint

        only supports `application/json` responses and no

        `multipart/form-data` or `multipart/related`. As a result, it is not

        possible to include the file contents.
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}":
    put:
      security:
        - oauth2:
            - pullrequest:write
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The updated pull request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pullrequest"
              examples:
                response:
                  value:
                    type: pullrequest
                    description: Everything is awesome!
                    links:
                      decline:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/decline
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/commits
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1
                      comments:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/comments
                      merge:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/merge
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs/pull-requests/1
                      activity:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/activity
                      diff:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/diff
                      approve:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/approve
                      statuses:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/statuses
                    author:
                      username: example-username
                      display_name: Example Username
                      account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/users/example-username
                        html:
                          href: https://bitbucket.org/example-username/
                        avatar:
                          href: https://bitbucket.org/account/example-username/avatar/
                      nickname: example-username
                      type: user
                      uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                    close_source_branch: true
                    reviewers: []
                    id: 1
                    destination:
                      commit:
                        type: commit
                        hash: 230269fdfabd
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabd
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs/commits/230269fdfabd
                      branch:
                        name: master
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                    comment_count: 0
                    summary:
                      raw: Everything is awesome!
                      markup: markdown
                      html: Everything is awesome!
                      type: rendered
                    source:
                      commit:
                        type: commit
                        hash: c184aab5708b
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/c184aab5708b
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs/commits/c184aab5708b
                      branch:
                        name: branch_magnificent_internet
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                    participants: []
                    state: OPEN
                    task_count: 0
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    updated_on: 2018-06-20T23:17:33.616037+00:00
                    reason: ""
                    title: Change a cooperative standard to a smiling disease
                    merge_commit: null
                    closed_by: null
        "400":
          description: If the input document was invalid.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: If the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository or pull request id does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The id of the pull request.
          in: path
          name: pull_request_id
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pullrequest"
        description: The pull request that is to be updated.
      description: |-
        Mutates the specified pull request.

        This can be used to change the pull request's branches or description.

        Only open pull requests can be mutated.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The pull request object
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pullrequest"
              examples:
                response:
                  value:
                    type: pullrequest
                    description: Everything is awesome!
                    links:
                      decline:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/decline
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/commits
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1
                      comments:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/comments
                      merge:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/merge
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs/pull-requests/1
                      activity:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/activity
                      diff:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/diff
                      approve:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/approve
                      statuses:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/statuses
                    author:
                      username: example-username
                      display_name: Example Username
                      account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/users/example-username
                        html:
                          href: https://bitbucket.org/example-username/
                        avatar:
                          href: https://bitbucket.org/account/example-username/avatar/
                      nickname: example-username
                      type: user
                      uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                    close_source_branch: true
                    reviewers: []
                    id: 1
                    destination:
                      commit:
                        type: commit
                        hash: 230269fdfabd
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabd
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs/commits/230269fdfabd
                      branch:
                        name: master
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                    comment_count: 0
                    summary:
                      raw: Everything is awesome!
                      markup: markdown
                      html: Everything is awesome!
                      type: rendered
                    source:
                      commit:
                        type: commit
                        hash: c184aab5708b
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/c184aab5708b
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs/commits/c184aab5708b
                      branch:
                        name: branch_magnificent_internet
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                    participants: []
                    state: OPEN
                    task_count: 0
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    updated_on: 2018-06-20T23:17:33.616037+00:00
                    reason: ""
                    title: Change a cooperative standard to a smiling disease
                    merge_commit: null
                    closed_by: null
        "401":
          description: If the repository is private and the request was not authenticated.
        "404":
          description: If the repository or pull request does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The id of the pull request.
          in: path
          name: pull_request_id
          schema:
            type: integer
      description: Returns the specified pull request.
  "/repositories/{workspace}/{repo_slug}/commit/{commit}/pullrequests":
    get:
      responses:
        "200":
          description: The paginated list of pull requests.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pullrequests"
        "202":
          description: The repository's pull requests are still being indexed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pullrequests"
        "404":
          description: Either the repository does not exist, or pull request commit links
            have not yet been indexed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account; either the UUID in curly braces, or the account_id
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository; either the UUID in curly braces, or the slug
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The SHA1 of the commit
          in: path
          name: commit
          schema:
            type: string
        - description: Which page to retrieve
          required: false
          in: query
          name: page
          schema:
            type: integer
            format: int32
            default: 1
        - description: How many pull requests to retrieve per page
          required: false
          in: query
          name: pagelen
          schema:
            type: integer
            format: int32
            default: 30
      tags:
        - pullrequests
      summary: Returns a paginated list of all pull requests as part of which this
        commit was reviewed.
      operationId: getPullrequestsForCommit
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/comments":
    post:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "201":
          headers:
            Location:
              description: The URL of the new comment
              schema:
                type: string
          description: The newly created comment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pullrequest_comment"
        "403":
          description: If the authenticated user does not have access to the pull request.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the pull request does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The id of the pull request.
          in: path
          name: pull_request_id
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pullrequest_comment"
        description: The comment object.
        required: true
      description: |-
        Creates a new pull request comment.

        Returns the newly created pull request comment.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: A paginated list of comments made on the given pull request, in
            reverse chronological order.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pullrequest_comments"
        "403":
          description: If the authenticated user does not have access to the pull request.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the pull request does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The id of the pull request.
          in: path
          name: pull_request_id
          schema:
            type: integer
      description: |-
        Returns a paginated list of the pull request's comments.

        This includes both global, inline comments and replies.

        The default sorting is oldest to newest and can be overridden with
        the `sort` query parameter.

        This endpoint also supports filtering and sorting of the results. See
        [filtering and sorting](../../../../../../meta/filtering) for more
        details.
  "/repositories/{username}/{repo_slug}/diffstat/{spec}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: spec
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags: []
      responses:
        "200":
          description: The diff stats
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_diffstats"
      parameters:
        - required: false
          description: Generate diffs that ignore whitespace
          in: query
          name: ignore_whitespace
          schema:
            type: boolean
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: |
            A commit SHA (e.g. `3a8b42`) or a commit range using double dot
            notation (e.g. `3a8b42..9ff173`).
          in: path
          name: spec
          schema:
            type: string
      description: >-
        Returns the diff stat for the specified commit.


        Diff stat responses contain a record for every path modified by the

        commit and lists the number of lines added and removed for each file.



        Example:

        ```

        curl https://api.bitbucket.org/2.0/repositories/bitbucket/geordi/diffstat/d222fa2..e174964

        {
            "pagelen": 500,
            "values": [
                {
                    "type": "diffstat",
                    "status": "modified",
                    "lines_removed": 1,
                    "lines_added": 2,
                    "old": {
                        "path": "setup.py",
                        "type": "commit_file",
                        "links": {
                            "self": {
                                "href": "https://api.bitbucket.org/2.0/repositories/bitbucket/geordi/src/e1749643d655d7c7014001a6c0f58abaf42ad850/setup.py"
                            }
                        }
                    },
                    "new": {
                        "path": "setup.py",
                        "type": "commit_file",
                        "links": {
                            "self": {
                                "href": "https://api.bitbucket.org/2.0/repositories/bitbucket/geordi/src/d222fa235229c55dad20b190b0b571adf737d5a6/setup.py"
                            }
                        }
                    }
                }
            ],
            "page": 1,
            "size": 1
        }

        ```
  "/users/{username}/search/code":
    get:
      responses:
        "200":
          description: Successful search
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/search_result_page"
        "400":
          description: >-
            If the search request was invalid due to one of the following
            reasons:

            * the specified type of target account doesn't match the actual account type;

            * malformed pagination properties;

            * missing or malformed search query, in the latter case an error key will be returned in `error.data.key` property.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: Search is not enabled for the requested user, navigate to
            [https://bitbucket.org/search](https://bitbucket.org/search) to turn
            it on
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "429":
          description: Too many requests, try again later
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account to search in; either the username or the UUID in curly
            braces
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The search query
          in: query
          name: search_query
          schema:
            type: string
        - description: Which page of the search results to retrieve
          required: false
          in: query
          name: page
          schema:
            type: integer
            format: int32
            default: 1
        - description: How many search results to retrieve per page
          required: false
          in: query
          name: pagelen
          schema:
            type: integer
            format: int32
            default: 10
      tags:
        - search
      summary: Search for code in the repositories of the specified user
      operationId: searchAccount
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/decline":
    post:
      security:
        - oauth2:
            - pullrequest:write
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The pull request object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pullrequest"
              examples:
                response:
                  value:
                    type: pullrequest
                    description: Everything is awesome!
                    links:
                      decline:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/decline
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/commits
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1
                      comments:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/comments
                      merge:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/merge
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs/pull-requests/1
                      activity:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/activity
                      diff:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/diff
                      approve:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/approve
                      statuses:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/statuses
                    author:
                      username: example-username
                      display_name: Example Username
                      account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/users/example-username
                        html:
                          href: https://bitbucket.org/example-username/
                        avatar:
                          href: https://bitbucket.org/account/example-username/avatar/
                      nickname: example-username
                      type: user
                      uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                    close_source_branch: true
                    reviewers: []
                    id: 1
                    destination:
                      commit:
                        type: commit
                        hash: 230269fdfabd
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabd
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs/commits/230269fdfabd
                      branch:
                        name: master
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                    comment_count: 0
                    summary:
                      raw: Everything is awesome!
                      markup: markdown
                      html: Everything is awesome!
                      type: rendered
                    source:
                      commit:
                        type: commit
                        hash: c184aab5708b
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/c184aab5708b
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs/commits/c184aab5708b
                      branch:
                        name: branch_magnificent_internet
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                    participants: []
                    state: OPEN
                    task_count: 0
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    updated_on: 2018-06-20T23:17:33.616037+00:00
                    reason: ""
                    title: Change a cooperative standard to a smiling disease
                    merge_commit: null
                    closed_by: null
        "555":
          description: |-
            If the decline took too long and timed out.
            In this case the caller should retry the request later.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Declines the pull request.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
  /user/emails:
    parameters: []
    get:
      security:
        - oauth2:
            - email
        - basic: []
        - api_key: []
      tags:
        - users
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns all the authenticated user's email addresses. Both
        confirmed and unconfirmed.
  "/repositories/{workspace}/{repo_slug}/pipelines_config/build_number":
    put:
      description: Update the next build number that should be assigned to a pipeline. The
        next build number that will be configured has to be strictly higher than
        the current latest build number for this repository.
      tags:
        - pipelines
      responses:
        "200":
          description: The build number has been configured.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_build_number"
        "400":
          description: The update failed because the next number was invalid (it should be
            higher than the current number).
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The account or repository was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipeline_build_number"
        description: The build number to update.
        required: true
      operationId: updateRepositoryBuildNumber
  "/repositories/{workspace}/{repo_slug}/deployments/{deployment_uuid}":
    get:
      description: Retrieve a deployment
      tags:
        - deployments
      responses:
        "200":
          description: The deployment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deployment"
        "404":
          description: No account, repository or deployment with the UUID provided exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The deployment UUID.
          required: true
          name: deployment_uuid
          in: path
          schema:
            type: string
      operationId: getDeploymentForRepository
  "/repositories/{username}/{repo_slug}/commit/{node}/comments/{comment_id}":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The commit's SHA1.
        in: path
        name: node
        schema:
          type: string
      - required: true
        description: The id of the comment.
        in: path
        name: comment_id
        schema:
          type: integer
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        "200":
          description: The commit comment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/commit_comment"
      description: Returns the specified commit comment.
  "/repositories/{username}/{repo_slug}/pullrequests":
    post:
      security:
        - oauth2:
            - pullrequest:write
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "201":
          headers:
            Location:
              description: The URL of new newly created pull request.
              schema:
                type: string
          description: The newly created pull request.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pullrequest"
        "400":
          description: If the input document was invalid, or if the caller lacks the
            privilege to create repositories under the targeted account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: If the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pullrequest"
        description: >-
          The new pull request.


          The request URL you POST to becomes the destination repository URL. For this reason, you must specify an explicit source repository in the request object if you want to pull from a different repository (fork).


          Since not all elements are required or even mutable, you only need to include the elements you want to initialize, such as the source branch and the title.
      description: >-
        Creates a new pull request where the destination repository is

        this repository and the author is the authenticated user.


        The minimum required fields to create a pull request are `title` and

        `source`, specified by a branch name.


        ```

        curl https://api.bitbucket.org/2.0/repositories/my-username/my-repository/pullrequests \
            -u my-username:my-password \
            --request POST \
            --header 'Content-Type: application/json' \
            --data '{
                "title": "My Title",
                "source": {
                    "branch": {
                        "name": "staging"
                    }
                }
            }'
        ```


        If the pull request's `destination` is not specified, it will default

        to the `repository.mainbranch`. To open a pull request to a

        different branch, say from a feature branch to a staging branch,

        specify a `destination` (same format as the `source`):


        ```

        {
            "title": "My Title",
            "source": {
                "branch": {
                    "name": "my-feature-branch"
                }
            },
            "destination": {
                "branch": {
                    "name": "staging"
                }
            }
        }

        ```


        Reviewers can be specified by adding an array of user objects as the

        `reviewers` property.


        ```

        {
            "title": "My Title",
            "source": {
                "branch": {
                    "name": "my-feature-branch"
                }
            },
            "reviewers": [
                {
                    "uuid": "{504c3b62-8120-4f0c-a7bc-87800b9d6f70}"
                }
            ]
        }

        ```


        Other fields:


        * `description` - a string

        * `close_source_branch` - boolean that specifies if the source branch should be closed upon merging
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: All pull requests on the specified repository.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pullrequests"
        "401":
          description: If the repository is private and the request was not authenticated.
        "404":
          description: If the specified repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: >
            This can either be the username or the UUID of the account,

            surrounded by curly-braces, for example: `{account UUID}`. An account

            is either a team or user.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - description: Only return pull requests that are in this state. This parameter can
            be repeated.
          in: query
          name: state
          schema:
            type: string
            enum:
              - MERGED
              - SUPERSEDED
              - OPEN
              - DECLINED
      description: |-
        Returns all pull requests on the specified repository.

        By default only open pull requests are returned. This can be controlled
        using the `state` query parameter. To retrieve pull requests that are
        in one of multiple states, repeat the `state` parameter for each
        individual state.

        This endpoint also supports filtering and sorting of the results. See
        [filtering and sorting](../../../../meta/filtering) for more details.
  "/repositories/{username}/{repo_slug}/commit/{node}/comments":
    post:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        "201":
          headers:
            Location:
              description: The location of the newly created comment.
              schema:
                type: string
          description: The newly created comment.
        "400":
          description: If the comment was detected as spam, or if the parent comment is not
            attached to the same node as the new comment
        "404":
          description: If a parent ID was passed in that cannot be found
      parameters:
        - required: true
          description: |
            This can either be the username or the UUID of the user,
            surrounded by curly-braces, for example: `{user UUID}`.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/commit_comment"
        description: The specified comment.
        required: true
      description: >-
        Creates new comment on the specified commit.


        To post a reply to an existing comment, include the `parent.id` field:


        ```

        $ curl https://api.bitbucket.org/2.0/repositories/atlassian/prlinks/commit/db9ba1e031d07a02603eae0e559a7adc010257fc/comments/ \
          -X POST -u evzijst \
          -H 'Content-Type: application/json' \
          -d '{"content": {"raw": "One more thing!"},
               "parent": {"id": 5728901}}'
        ```
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The commit's SHA1.
        in: path
        name: node
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        "200":
          description: A paginated list of commit comments.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_commit_comments"
      description: |-
        Returns the commit's comments.

        This includes both global and inline comments.

        The default sorting is oldest to newest and can be overridden with
        the `sort` query parameter.
  "/repositories/{username}/{repo_slug}/commits":
    post:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Identical to `GET /repositories/{username}/{repo_slug}/commits`,
        except that POST allows clients to place the include and exclude
        parameters in the request body to avoid URL length issues.

        **Note that this resource does NOT support new commit creation.**
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        These are the repository's commits. They are paginated and returned

        in reverse chronological order, similar to the output of `git log` and

        `hg log`. Like these tools, the DAG can be filtered.


        ## GET /repositories/{username}/{repo_slug}/commits/


        Returns all commits in the repo in topological order (newest commit

        first). All branches and tags are included (similar to

        `git log --all` and `hg log`).


        ## GET /repositories/{username}/{repo_slug}/commits/master


        Returns all commits on rev `master` (similar to `git log master`,

        `hg log master`).


        ## GET /repositories/{username}/{repo_slug}/commits/dev?exclude=master


        Returns all commits on ref `dev`, except those that are reachable on

        `master` (similar to `git log dev ^master`).


        ## GET /repositories/{username}/{repo_slug}/commits/?exclude=master


        Returns all commits in the repo that are not on master

        (similar to `git log --all ^master`).


        ## GET /repositories/{username}/{repo_slug}/commits/?include=foo&include=bar&exclude=fu&exclude=fubar


        Returns all commits that are on refs `foo` or `bar`, but not on `fu` or

        `fubar` (similar to `git log foo bar ^fu ^fubar`).


        An optional `path` parameter can be specified that will limit the

        results to commits that affect that path. `path` can either be a file

        or a directory. If a directory is specified, commits are returned that

        have modified any file in the directory tree rooted by `path`. It is

        important to note that if the `path` parameter is specified, the commits

        returned by this endpoint may no longer be a DAG, parent commits that

        do not modify the path will be omitted from the response.


        ## GET /repositories/{username}/{repo_slug}/commits/?path=README.md&include=foo&include=bar&exclude=master


        Returns all commits that are on refs `foo` or `bar`, but not on `master`

        that changed the file README.md.


        ## GET /repositories/{username}/{repo_slug}/commits/?path=src/&include=foo&include=bar&exclude=master


        Returns all commits that are on refs `foo` or `bar`, but not on `master`

        that changed to a file in any file in the directory src or its children.


        Because the response could include a very large number of commits, it

        is paginated. Follow the 'next' link in the response to navigate to the

        next page of commits. As with other paginated resources, do not

        construct your own links.


        When the include and exclude parameters are more than can fit in a

        query string, clients can use a `x-www-form-urlencoded` POST instead.
  "/repositories/{username}/{repo_slug}/commit/{node}/statuses":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The commit's SHA1.
        in: path
        name: node
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - repositories
        - commitstatuses
      responses:
        "200":
          description: A paginated list of all commit statuses for this commit.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_commitstatuses"
        "401":
          description: If the repository is private and the request was not authenticated.
        "404":
          description: If the repository or commit does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns all statuses (e.g. build results) for a specific commit.
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}/remote-triggers/{trigger_key}":
    put:
      responses:
        default:
          description: Default response
  "/repositories/{workspace}/{repo_slug}/deployments/":
    get:
      description: Find deployments
      tags:
        - deployments
      responses:
        "200":
          description: The matching deployments.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_deployments"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: getDeploymentsForRepository
  "/snippets/{username}":
    post:
      security:
        - oauth2:
            - snippet:write
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "201":
          headers:
            Location:
              description: The URL of the newly created snippet.
              schema:
                type: string
          description: The newly created snippet object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/snippet"
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the authenticated user does not have permission to create
            snippets under the specified account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        $ref: "#/components/requestBodies/snippet"
      description: |-
        Identical to `/snippets`, except that the new snippet will be
        created under the account specified in the path parameter `{username}`.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          description: A paginated list of snippets.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_snippets"
        "404":
          description: If the user does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: Filter down the result based on the authenticated user's role
            (`owner`, `contributor`, or `member`).
          in: query
          name: role
          schema:
            type: string
            enum:
              - owner
              - contributor
              - member
        - required: true
          description: Limits the result to snippets owned by this user.
          in: path
          name: username
          schema:
            type: string
      description: |-
        Identical to `/snippets`, except that the result is further filtered
        by the snippet owner and only those that are owned by `{username}` are
        returned.
  "/repositories/{username}/{repo_slug}/issues/{issue_id}/watch":
    put:
      security:
        - oauth2:
            - issue
            - account:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "204":
          description: Indicates that the authenticated user successfully started watching
            this issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: When the request wasn't authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the authenticated user is not watching this issue, or when the
            repo does not exist, or does not have an issue tracker.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Start watching this issue.

        To start watching this issue, do an empty PUT. The 204 status code
        indicates that the operation was successful.
    get:
      security:
        - oauth2:
            - issue
            - account
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "204":
          description: If the authenticated user is watching this issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: When the request wasn't authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the authenticated user is not watching this issue, or when the
            repo does not exist, or does not have an issue tracker.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Indicated whether or not the authenticated user is watching this
        issue.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The issue id
        in: path
        name: issue_id
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - issue:write
            - account:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "204":
          description: Indicates that the authenticated user successfully stopped watching
            this issue.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: When the request wasn't authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository or issue does not exist or does not have
            the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Stop watching this issue.
  "/repositories/{workspace}/{repo_slug}/pipelines_config/variables/":
    post:
      description: Create a repository level variable.
      tags:
        - pipelines
      responses:
        "201":
          headers:
            Location:
              description: The URL of the newly created pipeline variable.
              schema:
                type: string
          description: The variable was created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_variable"
        "404":
          description: The account or repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "409":
          description: A variable with the provided key already exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipeline_variable"
        description: The variable to create.
        required: true
      operationId: createRepositoryPipelineVariable
    get:
      description: Find repository level variables.
      tags:
        - pipelines
      responses:
        "200":
          description: The retrieved variables.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pipeline_variables"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: getRepositoryPipelineVariables
  "/users/{username}/pipelines_config/variables/{variable_uuid}":
    put:
      description: Update a user level variable.
      tags:
        - pipelines
      responses:
        "200":
          description: The variable was updated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_variable"
        "404":
          description: The account or the variable was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The UUID of the variable.
          required: true
          name: variable_uuid
          in: path
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/pipeline_variable"
      operationId: updatePipelineVariableForUser
    get:
      description: Retrieve a user level variable.
      tags:
        - pipelines
      responses:
        "200":
          description: The variable.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_variable"
        "404":
          description: The account or variable with the given UUID was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The UUID of the variable to retrieve.
          required: true
          name: variable_uuid
          in: path
          schema:
            type: string
      operationId: getPipelineVariableForUser
    delete:
      description: Delete an account level variable.
      tags:
        - pipelines
      responses:
        "204":
          description: The variable was deleted
        "404":
          description: The account or the variable with the provided UUID does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The UUID of the variable to delete.
          required: true
          name: variable_uuid
          in: path
          schema:
            type: string
      operationId: deletePipelineVariableForUser
  "/repositories/{workspace}/{repo_slug}/pipelines_config/schedules/{schedule_uuid}":
    put:
      description: Update a schedule.
      tags:
        - pipelines
      responses:
        "200":
          description: The schedule is updated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_schedule"
        "404":
          description: The account, repository or schedule was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The uuid of the schedule.
          required: true
          name: schedule_uuid
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipeline_schedule"
        description: The schedule to update.
        required: true
      operationId: updateRepositoryPipelineSchedule
    get:
      description: Retrieve a schedule by its UUID.
      tags:
        - pipelines
      responses:
        "200":
          description: The requested schedule.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_schedule"
        "404":
          description: The account, repository or schedule was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The uuid of the schedule.
          required: true
          name: schedule_uuid
          in: path
          schema:
            type: string
      operationId: getRepositoryPipelineSchedule
    delete:
      description: Delete a schedule.
      tags:
        - pipelines
      responses:
        "204":
          description: The schedule was deleted.
        "404":
          description: The account, repository or schedule was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The uuid of the schedule.
          required: true
          name: schedule_uuid
          in: path
          schema:
            type: string
      operationId: deleteRepositoryPipelineSchedule
  "/snippets/{username}/{encoded_id}/commits/{revision}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
      - required: true
        name: revision
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          description: The specified snippet commit.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/snippet_commit"
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the commit or the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
  "/repositories/{username}/{repo_slug}/commit/{node}":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The commit's SHA1.
        in: path
        name: node
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        "200":
          description: The commit object
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/commit"
        "404":
          description: If the specified commit or repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the specified commit.
  /teams:
    parameters: []
    get:
      security:
        - oauth2:
            - team
        - basic: []
        - api_key: []
      tags:
        - teams
      responses:
        "200":
          description: A paginated list of teams.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_teams"
        "401":
          description: When the request wasn't authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: >
            
            Filters the teams based on the authenticated user's role on each team.


            * **member**: returns a list of all the teams which the caller is a member of
              at least one team group or repository owned by the team
            * **contributor**: returns a list of teams which the caller has write access
              to at least one repository owned by the team
            * **admin**: returns a list teams which the caller has team administrator access
          in: query
          name: role
          schema:
            type: string
            enum:
              - admin
              - contributor
              - member
      description: |-
        Returns all the teams that the authenticated user is associated
        with.
  "/repositories/{workspace}/{repo_slug}/pipelines_config/schedules/":
    post:
      description: Create a schedule for the given repository.
      tags:
        - pipelines
      responses:
        "201":
          description: The created schedule.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline_schedule"
        "400":
          description: There were errors validating the request.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: The maximum limit of schedules for this repository was reached.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The account or repository was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipeline_schedule"
        description: The schedule to create.
        required: true
      operationId: createRepositoryPipelineSchedule
    get:
      description: Retrieve the configured schedules for the given repository.
      tags:
        - pipelines
      responses:
        "200":
          description: The list of schedules.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pipeline_schedules"
        "404":
          description: The account or repository was not found.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: getRepositoryPipelineSchedules
  /user:
    parameters: []
    get:
      security:
        - oauth2:
            - account
        - basic: []
        - api_key: []
      tags:
        - users
      responses:
        "200":
          description: The current user.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/user"
              examples:
                response:
                  value:
                    username: example-username
                    website: null
                    display_name: Example Username
                    account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                    links:
                      self:
                        href: https://api.bitbucket.org/2.0/users/example-username
                      repositories:
                        href: https://api.bitbucket.org/2.0/repositories/example-username
                      html:
                        href: https://bitbucket.org/example-username/
                      followers:
                        href: https://api.bitbucket.org/2.0/users/example-username/followers
                      avatar:
                        href: https://bitbucket.org/account/example-username/avatar/
                      following:
                        href: https://api.bitbucket.org/2.0/users/example-username/following
                      snippets:
                        href: https://api.bitbucket.org/2.0/snippets/example-username
                    type: user
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    is_staff: false
                    location: null
                    account_status: active
                    nickname: example-username
                    uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
        "401":
          description: When the request wasn't authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the currently logged in user.
  "/repositories/{username}/{repo_slug}/components":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The components that have been defined in the issue tracker.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_components"
        "404":
          description: The specified repository does not exist or does not have the issue
            tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns the components that have been defined in the issue tracker.

        This resource is only available on repositories that have the issue
        tracker enabled.
  "/snippets/{username}/{encoded_id}/comments":
    post:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "201":
          headers:
            Location:
              description: The URL of the new comment
              schema:
                type: string
          description: The newly created comment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/snippet"
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/snippet"
        description: The contents of the new comment.
        required: true
      description: |-
        Creates a new comment.

        The only required field in the body is `content.raw`.

        To create a threaded reply to an existing comment, include `parent.id`.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          description: A paginated list of snippet comments, ordered by creation date.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_snippet_comments"
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Used to retrieve a paginated list of all comments for a specific
        snippet.

        This resource works identical to commit and pull request comments.

        The default sorting is oldest to newest and can be overridden with
        the `sort` query parameter.
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/comments/{comment_id}":
    put:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The updated comment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pullrequest_comment"
        "403":
          description: If the authenticated user does not have access to the pull request.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the pull request does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pullrequest_comment"
        description: The contents of the updated comment.
        required: true
      description: Updates a specific pull request comment.
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The comment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pullrequest_comment"
        "403":
          description: If the authenticated user does not have access to the pull request.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the pull request does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns a specific pull request comment.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: comment_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "204":
          description: Successful deletion.
        "403":
          description: If the authenticated user does not have access to delete the pull
            request.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the pull request does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Deletes a specific pull request comment.
  "/repositories/{username}":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - repositories
      responses:
        "200":
          description: The repositories owned by the specified account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_repositories"
        "404":
          description: If the specified account does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: >
            
            Filters the result based on the authenticated user's role on each repository.


            * **member**: returns repositories to which the user has explicit read access

            * **contributor**: returns repositories to which the user has explicit write access

            * **admin**: returns repositories to which the user has explicit administrator access

            * **owner**: returns all repositories owned by the current user
          in: query
          name: role
          schema:
            type: string
            enum:
              - admin
              - contributor
              - member
              - owner
      description: |-
        Returns a paginated list of all repositories owned by the specified
        account or UUID.

        The result can be narrowed down based on the authenticated user's role.

        E.g. with `?role=contributor`, only those repositories that the
        authenticated user has write access to are returned (this includes any
        repo the user is an admin on, as that implies write access).

        This endpoint also supports filtering and sorting of the results. See
        [filtering and sorting](../../meta/filtering) for more details.
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/merge":
    post:
      security:
        - oauth2:
            - pullrequest:write
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        "200":
          description: The pull request object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pullrequest"
              examples:
                response:
                  value:
                    type: pullrequest
                    description: Everything is awesome!
                    links:
                      decline:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/decline
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/commits
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1
                      comments:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/comments
                      merge:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/merge
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs/pull-requests/1
                      activity:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/activity
                      diff:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/diff
                      approve:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/approve
                      statuses:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests/1/statuses
                    author:
                      username: example-username
                      display_name: Example Username
                      account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/users/example-username
                        html:
                          href: https://bitbucket.org/example-username/
                        avatar:
                          href: https://bitbucket.org/account/example-username/avatar/
                      nickname: example-username
                      type: user
                      uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                    close_source_branch: true
                    reviewers: []
                    id: 1
                    destination:
                      commit:
                        type: commit
                        hash: 230269fdfabd
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/230269fdfabd
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs/commits/230269fdfabd
                      branch:
                        name: master
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                    comment_count: 0
                    summary:
                      raw: Everything is awesome!
                      markup: markdown
                      html: Everything is awesome!
                      type: rendered
                    source:
                      commit:
                        type: commit
                        hash: c184aab5708b
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commit/c184aab5708b
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs/commits/c184aab5708b
                      branch:
                        name: branch_magnificent_internet
                      repository:
                        full_name: example-username/bits_and_bobs
                        type: repository
                        name: bits_and_bobs
                        links:
                          self:
                            href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                          html:
                            href: https://bitbucket.org/example-username/bits_and_bobs
                          avatar:
                            href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                        uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
                    participants: []
                    state: OPEN
                    task_count: 0
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    updated_on: 2018-06-20T23:17:33.616037+00:00
                    reason: ""
                    title: Change a cooperative standard to a smiling disease
                    merge_commit: null
                    closed_by: null
        "555":
          description: |-
            If the merge took too long and timed out.
            In this case the caller should retry the request later
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pullrequest_merge_parameters"
      description: Merges the pull request.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
  "/repositories/{username}/{repo_slug}/milestones/{milestone_id}":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
      - required: true
        description: The milestone's id
        in: path
        name: milestone_id
        schema:
          type: integer
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The specified milestone object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/milestone"
        "404":
          description: The specified repository or milestone does not exist or does not
            have the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns the specified issue tracker milestone object.
  "/repositories/{workspace}/{repo_slug}/pipelines_config":
    put:
      description: Update the pipelines configuration for a repository.
      tags:
        - pipelines
      responses:
        "200":
          description: The repository pipelines configuration was updated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipelines_config"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/pipelines_config"
        description: The updated repository pipelines configuration.
        required: true
      operationId: updateRepositoryPipelineConfig
    get:
      description: Retrieve the repository pipelines configuration.
      tags:
        - pipelines
      responses:
        "200":
          description: The repository pipelines configuration.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipelines_config"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
      operationId: getRepositoryPipelineConfig
  "/users/{username}/members":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - account
        - basic: []
        - api_key: []
      tags:
        - teams
      responses:
        "200":
          description: All members
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/user"
              examples:
                response:
                  value:
                    username: example-username
                    display_name: Example Username
                    account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                    links:
                      self:
                        href: https://api.bitbucket.org/2.0/users/example-username
                      html:
                        href: https://bitbucket.org/example-username/
                      avatar:
                        href: https://bitbucket.org/account/example-username/avatar/
                    nickname: example-username
                    account_status: active
                    type: user
                    uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
        "404":
          description: When the team does not exist, or multiple teams with the same name
            exist that differ only in casing and the URL did not match the exact
            casing of a particular one.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Returns all members of the specified team. Any member of any of the

        team's groups is considered a member of the team. This includes users

        in groups that may not actually have access to any of the team's

        repositories.


        This operation has been deprecated due to privacy changes.

        See the [announcement](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/)

        for details.
  "/users/{username}/ssh-keys/":
    put:
      security:
        - oauth2:
            - account:write
        - basic: []
        - api_key: []
      tags:
        - ssh
      responses:
        "200":
          description: The newly updated SSH key.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ssh_account_key"
        "400":
          description: If the submitted key or related value is invalid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the current user does not have permission to add a key for the
            specified user
        "404":
          description: If the specified user does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account's username or UUID.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The SSH key's UUID value.
          in: path
          name: key_id
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ssh_account_key"
        description: The updated SSH key object
      description: >-
        Updates a specific SSH public key on a user's account


        Note: Only the 'comment' field can be updated using this API. To modify the key or comment values, you must delete and add the key again.


        Example:

        ```

        $ curl -X PUT -H "Content-Type: application/json" -d '{"label": "Work key"}' https://api.bitbucket.org/2.0/users/markadams-atl/ssh-keys/{b15b6026-9c02-4626-b4ad-b905f99f763a}


        {
            "comment": "",
            "created_on": "2018-03-14T13:17:05.196003+00:00",
            "key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIKqP3Cr632C2dNhhgKVcon4ldUSAeKiku2yP9O9/bDtY",
            "label": "Work key",
            "last_used": "2018-03-20T13:18:05.196003+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/users/markadams-atl/ssh-keys/b15b6026-9c02-4626-b4ad-b905f99f763a"
                }
            },
            "owner": {
                "display_name": "Mark Adams",
                "links": {
                    "avatar": {
                        "href": "https://bitbucket.org/account/markadams-atl/avatar/32/"
                    },
                    "html": {
                        "href": "https://bitbucket.org/markadams-atl/"
                    },
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/markadams-atl"
                    }
                },
                "type": "user",
                "username": "markadams-atl",
                "nickname": "markadams-atl",
                "uuid": "{d7dd0e2d-3994-4a50-a9ee-d260b6cefdab}"
            },
            "type": "ssh_key",
            "uuid": "{b15b6026-9c02-4626-b4ad-b905f99f763a}"
        }

        ```
    get:
      security:
        - oauth2:
            - account
        - basic: []
        - api_key: []
      tags:
        - ssh
      responses:
        "200":
          description: The specific SSH key matching the user and UUID
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ssh_account_key"
        "403":
          description: If the specified user or key is not accessible to the current user
        "404":
          description: If the specified user or key does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account's username or UUID.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The SSH key's UUID value.
          in: path
          name: key_id
          schema:
            type: string
      description: >-
        Returns a specific SSH public key belonging to a user.


        Example:

        ```

        $ curl https://api.bitbucket.org/2.0/users/markadams-atl/ssh-keys/{fbe4bbab-f6f7-4dde-956b-5c58323c54b3}


        {
            "comment": "user@myhost",
            "created_on": "2018-03-14T13:17:05.196003+00:00",
            "key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIKqP3Cr632C2dNhhgKVcon4ldUSAeKiku2yP9O9/bDtY",
            "label": "",
            "last_used": "2018-03-20T13:18:05.196003+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/users/markadams-atl/ssh-keys/b15b6026-9c02-4626-b4ad-b905f99f763a"
                }
            },
            "owner": {
                "display_name": "Mark Adams",
                "links": {
                    "avatar": {
                        "href": "https://bitbucket.org/account/markadams-atl/avatar/32/"
                    },
                    "html": {
                        "href": "https://bitbucket.org/markadams-atl/"
                    },
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/markadams-atl"
                    }
                },
                "type": "user",
                "username": "markadams-atl",
                "nickname": "markadams-atl",
                "uuid": "{d7dd0e2d-3994-4a50-a9ee-d260b6cefdab}"
            },
            "type": "ssh_key",
            "uuid": "{b15b6026-9c02-4626-b4ad-b905f99f763a}"
        }

        ```
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - account:write
        - basic: []
        - api_key: []
      tags:
        - ssh
      responses:
        "204":
          description: The key has been deleted
        "400":
          description: If the submitted key or related value is invalid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the current user does not have permission to add a key for the
            specified user
        "404":
          description: If the specified user does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account's username or UUID.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The SSH key's UUID value.
          in: path
          name: key_id
          schema:
            type: string
      description: >-
        Deletes a specific SSH public key from a user's account


        Example:

        ```

        $ curl -X DELETE https://api.bitbucket.org/2.0/users/markadams-atl/ssh-keys/{b15b6026-9c02-4626-b4ad-b905f99f763a}

        ```
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}/steps/{step_uuid}/test_reports":
    get:
      responses:
        default:
          description: Default response
  "/users/{username}/ssh-keys":
    post:
      security:
        - oauth2:
            - account:write
        - basic: []
        - api_key: []
      tags:
        - ssh
      responses:
        "201":
          description: The newly created SSH key.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ssh_account_key"
        "400":
          description: If the submitted key or related value is invalid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the current user does not have permission to add a key for the
            specified user
        "404":
          description: If the specified user does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account's UUID, account_id, or username. Note that username has
            been deprecated due to [privacy
            changes](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#removal-of-usernames-from-user-referencing-apis).
          in: path
          name: username
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ssh_account_key"
        description: The new SSH key object. Note that the username property has been
          deprecated due to [privacy
          changes](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#removal-of-usernames-from-user-referencing-apis).
      description: >-
        Adds a new SSH public key to the specified user account and returns the
        resulting key.


        Example:

        ```

        $ curl -X POST -H "Content-Type: application/json" -d '{"key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIKqP3Cr632C2dNhhgKVcon4ldUSAeKiku2yP9O9/bDtY user@myhost"}' https://api.bitbucket.org/2.0/users/markadams-atl/ssh-keys


        {
            "comment": "user@myhost",
            "created_on": "2018-03-14T13:17:05.196003+00:00",
            "key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIKqP3Cr632C2dNhhgKVcon4ldUSAeKiku2yP9O9/bDtY",
            "label": "",
            "last_used": "2018-03-20T13:18:05.196003+00:00",
            "links": {
                "self": {
                    "href": "https://api.bitbucket.org/2.0/users/markadams-atl/ssh-keys/b15b6026-9c02-4626-b4ad-b905f99f763a"
                }
            },
            "owner": {
                "display_name": "Mark Adams",
                "links": {
                    "avatar": {
                        "href": "https://bitbucket.org/account/markadams-atl/avatar/32/"
                    },
                    "html": {
                        "href": "https://bitbucket.org/markadams-atl/"
                    },
                    "self": {
                        "href": "https://api.bitbucket.org/2.0/users/markadams-atl"
                    }
                },
                "type": "user",
                "username": "markadams-atl",
                "nickname": "markadams-atl",
                "uuid": "{d7dd0e2d-3994-4a50-a9ee-d260b6cefdab}"
            },
            "type": "ssh_key",
            "uuid": "{b15b6026-9c02-4626-b4ad-b905f99f763a}"
        }

        ```
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - account
        - basic: []
        - api_key: []
      tags:
        - ssh
      responses:
        "200":
          description: A list of the SSH keys associated with the account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_ssh_user_keys"
        "403":
          description: If the specified user's keys are not accessible to the current user
        "404":
          description: If the specified user does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The account's UUID, account_id, or username. Note that username has
            been deprecated due to [privacy
            changes](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#removal-of-usernames-from-user-referencing-apis).
          in: path
          name: username
          schema:
            type: string
      description: >-
        Returns a paginated list of the user's SSH public keys.


        Example:


        ```

        $ curl https://api.bitbucket.org/2.0/users/markadams-atl/ssh-keys

        {
            "page": 1,
            "pagelen": 10,
            "size": 1,
            "values": [
                {
                    "comment": "user@myhost",
                    "created_on": "2018-03-14T13:17:05.196003+00:00",
                    "key": "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIKqP3Cr632C2dNhhgKVcon4ldUSAeKiku2yP9O9/bDtY",
                    "label": "",
                    "last_used": "2018-03-20T13:18:05.196003+00:00",
                    "links": {
                        "self": {
                            "href": "https://api.bitbucket.org/2.0/users/markadams-atl/ssh-keys/b15b6026-9c02-4626-b4ad-b905f99f763a"
                        }
                    },
                    "owner": {
                        "display_name": "Mark Adams",
                        "links": {
                            "avatar": {
                                "href": "https://bitbucket.org/account/markadams-atl/avatar/32/"
                            },
                            "html": {
                                "href": "https://bitbucket.org/markadams-atl/"
                            },
                            "self": {
                                "href": "https://api.bitbucket.org/2.0/users/markadams-atl"
                            }
                        },
                        "type": "user",
                        "username": "markadams-atl",
                        "nickname": "markadams-atl",
                        "uuid": "{d7dd0e2d-3994-4a50-a9ee-d260b6cefdab}"
                    },
                    "type": "ssh_key",
                    "uuid": "{b15b6026-9c02-4626-b4ad-b905f99f763a}"
                }
            ]
        }

        ```
  "/repositories/{workspace}/{repo_slug}/commit/{commit}/properties/{app_key}/{property_name}":
    put:
      responses:
        "204":
          description: An empty response.
      operationId: updateCommitHostedPropertyValue
      description: Update an application property value stored against a commit.
      parameters:
        - required: true
          description: The account.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The commit.
          in: path
          name: commit
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
    delete:
      responses:
        "204":
          description: An empty response.
      operationId: deleteCommitHostedPropertyValue
      description: Delete an application property value stored against a commit.
      parameters:
        - required: true
          description: The account.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The commit.
          in: path
          name: commit
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
    get:
      responses:
        "200":
          description: The value of the property.
      operationId: getCommitHostedPropertyValue
      description: Retrieve an application property value stored against a commit.
      parameters:
        - required: true
          description: The account.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: The repository.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: true
          description: The commit.
          in: path
          name: commit
          schema:
            type: string
        - required: true
          description: The key of the Connect app.
          in: path
          name: app_key
          schema:
            type: string
        - required: true
          description: The name of the property.
          in: path
          name: property_name
          schema:
            type: string
      tags:
        - properties
  "/repositories/{username}/{repo_slug}/issues/{issue_id}/changes/{change_id}":
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The issue change id
        in: path
        name: change_id
        schema:
          type: string
      - required: true
        description: The issue id
        in: path
        name: issue_id
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: The specified issue change object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/issue_change"
        "404":
          description: The specified repository or issue change does not exist or does not
            have the issue tracker enabled.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns the specified issue change object.

        This resource is only available on repositories that have the issue
        tracker enabled.
  "/teams/{username}/followers":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - teams
      responses:
        "200":
          description: A paginated list of user objects.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_users"
        "404":
          description: If no team exists for the specified name, or if the specified
            account is a personal account, not a team account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The team's username
          in: path
          name: username
          schema:
            type: string
      description: Returns the list of accounts that are following this team.
  "/snippets/{username}/{encoded_id}/{node_id}/files/{path}":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: path
        in: path
        schema:
          type: string
      - required: true
        name: node_id
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          headers:
            Content-Type:
              description: The mime type as derived from the filename
              schema:
                type: string
            Content-Disposition:
              description: attachment
              schema:
                type: string
          description: Returns the contents of the specified file.
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the file or snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Retrieves the raw contents of a specific file in the snippet. The
        `Content-Disposition` header will be "attachment" to avoid issues with
        malevolent executable files.

        The file's mime type is derived from its filename and returned in the
        `Content-Type` header.

        Note that for text files, no character encoding is included as part of
        the content type.
  "/addon/linkers/{linker_key}":
    parameters:
      - required: true
        name: linker_key
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
  "/repositories/{username}/{repo_slug}/refs/tags":
    post:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - refs
      responses:
        "201":
          description: The newly created tag.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/tag"
        "400":
          description: If the target hash is missing, ambiguous, or invalid, or if the name
            is not provided.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/tag"
        required: true
      description: |-
        Creates a new tag in the specified repository.

        The payload of the POST should consist of a JSON document that
        contains the name of the tag and the target hash.

        ```
        curl https://api.bitbucket.org/2.0/repositories/jdoe/myrepo/refs/tags \
        -s -u jdoe -X POST -H "Content-Type: application/json" \
        -d '{
            "name" : "new-tag-name",
            "target" : {
                "hash" : "a1b2c3d4e5f6",
            }
        }'
        ```

        This endpoint does support using short hash prefixes for the commit
        hash, but it may return a 400 response if the provided prefix is
        ambiguous. Using a full commit hash is the preferred approach.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - refs
      responses:
        "200":
          description: A paginated list of tags matching any filter criteria that were
            provided.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_tags"
        "403":
          description: >
            If the repository is private and the authenticated user does not
            have

            access to it.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: The specified repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: |
            
            This can either be the username or the UUID of the user,
            surrounded by curly-braces, for example: `{user UUID}`.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            
            This can either be the repository slug or the UUID of the repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - in: query
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../../../../meta/filtering).
          name: q
          schema:
            type: string
        - in: query
          description: >-
            
            Field by which the results should be sorted as per

            [filtering and sorting](../../../../../../meta/filtering). The `name`

            field is handled specially for tags in that, if specified as the sort field, it

            uses a natural sort order instead of the default lexicographical sort order. For example,

            it will return ['1.1', '1.2', '1.10'] instead of ['1.1', '1.10', '1.2'].
          name: sort
          schema:
            type: string
      description: >-
        Returns the tags in the repository.


        By default, results will be in the order the underlying source control system returns them and identical to

        the ordering one sees when running "$ hg tags" or "$ git tag --list". Note that this follows simple

        lexical ordering of the ref names.


        This can be undesirable as it does apply any natural sorting semantics, meaning for instance that tags are

        sorted ["v10", "v11", "v9"] instead of ["v9", "v10", "v11"].


        Sorting can be changed using the ?sort= query parameter. When using ?sort=name to explicitly sort on ref name,

        Bitbucket will apply natural sorting and interpret numerical values as numbers instead of strings.
  "/repositories/{username}/{repo_slug}/commit/{node}/approve":
    post:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        "200":
          description: The `participant` object recording that the authenticated user
            approved the commit.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/participant"
        "404":
          description: If the specified commit, or the repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Approve the specified commit as the authenticated user.

        This operation is only available to users that have explicit access to
        the repository. In contrast, just the fact that a repository is
        publicly accessible to users does not give them the ability to approve
        commits.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The commit's SHA1.
        in: path
        name: node
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - commits
      responses:
        "204":
          description: An empty response indicating the authenticated user's approval has
            been withdrawn.
        "404":
          description: If the specified commit, or the repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Redact the authenticated user's approval of the specified commit.

        This operation is only available to users that have explicit access to
        the repository. In contrast, just the fact that a repository is
        publicly accessible to users does not give them the ability to approve
        commits.
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/commits":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns a paginated list of the pull request's commits.

        These are the commits that are being merged into the destination
        branch when the pull requests gets accepted.
  "/addon/users/{target_user}/events/{event_key}":
    post:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        "204":
          description: Event successfully submitted
        "404":
          description: Connect app not installed or event does not exist
      description: >-
        POST a new custom event.


        The data within the event body will be hydrated by Bitbucket. For example, the following event

        submission would result in subscribers for the event receiving the full repository object

        corresponding to the UUID.


        ```

        $ curl -X POST -H "Content-Type: application/json" -d '{
            "mynumdata": "12345",
            "repository": {
                "type": "repository",
                "uuid": "{be95aa1f-c0b2-47f6-99d1-bf5d3a0f850f}"
        }}' https://api.bitbucket.org/2.0/addon/users/myuser/events/com.example.app%3Amyevent

        ```


        Use the optional `fields` property of the custom event Connect

        module where the event is defined to add additional

        fields to the expanded payload sent to listeners.


        For example, the `customEvents` module in the app descriptor for the previous example would look like this:


        ```

        'modules': {
            'customEvents': {
                'com.example.app:myevent': {
                    'schema': {
                        'properties': {
                            'mynumdata': {'type': 'number'},
                            'repository': {'$ref': '#/definitions/repository'}
                        }
                    },
                    'fields': ['repository.owner']
                }
            }
        }

        ```


        By specifying fields as above, the repository owner

        will also be sent to subscribers of the event.
    parameters:
      - required: true
        description: |
          The account the app is installed in.

          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: target_user
        schema:
          type: string
      - required: true
        description: |
          The key of the event, which corresponds to an event
          defined in the connect app descriptor.
        in: path
        name: event_key
        schema:
          type: string
  "/repositories/{username}/{repo_slug}/src":
    post:
      security:
        - oauth2:
            - repository:write
        - basic: []
        - api_key: []
      tags:
        - source
        - repositories
      responses:
        "200":
          description: "\n"
        "404":
          description: If the repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: The commit message. When omitted, Bitbucket uses a canned string.
          in: query
          name: message
          schema:
            type: string
        - required: false
          description: |-
            
            The raw string to be used as the new commit's author.
            This string follows the format
            `Erik van Zijst `.

            When omitted, Bitbucket uses the authenticated user's
            full/display name and primary email address. Commits cannot
            be created anonymously.
          in: query
          name: author
          schema:
            type: string
        - required: false
          description: |-
            
            A comma-separated list of SHA1s of the commits that should
            be the parents of the newly created commit.

            When omitted, the new commit will inherit from and become
            a child of the main branch's tip/HEAD commit.

            When more than one SHA1 is provided, the first SHA1
            identifies the commit from which the content will be
            inherited.

            When more than 2 parents are provided on a Mercurial repo,
            a 400 is returned as Mercurial does not support "octopus
            merges".
          in: query
          name: parents
          schema:
            type: string
        - required: false
          description: |
            
            Optional field that declares the files that the request is
            manipulating. When adding a new file to a repo, or when
            overwriting an existing file, the client can just upload
            the full contents of the file in a normal form field and
            the use of this `files` meta data field is redundant.
            However, when the `files` field contains a file path that
            does not have a corresponding, identically-named form
            field, then Bitbucket interprets that as the client wanting
            to replace the named file with the null set and the file is
            deleted instead.

            Paths in the repo that are referenced in neither files nor
            an individual file field, remain unchanged and carry over
            from the parent to the new commit.

            This API does not support renaming as an explicit feature.
            To rename a file, simply delete it and recreate it under
            the new name in the same commit.
          in: query
          name: files
          schema:
            type: string
        - required: false
          description: |
            
            The name of the branch that the new commit should be
            created on. When omitted, the commit will be created on top
            of the main branch and will become the main branch's new
            HEAD/tip.

            When a branch name is provided that already exists in the
            repo, then the commit will be created on top of that
            branch. In this case, if a parent SHA1 was also provided,
            then it is asserted that the parent is the branch's
            tip/HEAD at the time the request is made. When this is not
            the case, a 409 is returned.

            This API cannot be used to create new anonymous heads in
            Mercurial repos.

            When a new branch name is specified (that does not already
            exist in the repo), and no parent SHA1s are provided, then
            the new commit will inherit from the current main branch's
            tip/HEAD commit, but not advance the main branch. The new
            commit will be the new branch. When the request also
            specifies a parent SHA1, then the new commit and branch
            are created directly on top of the parent commit,
            regardless of the state of the main branch.

            When a branch name is not specified, but a parent SHA1 is
            provided, then Bitbucket asserts that it represents the
            main branch's current HEAD/tip, or a 409 is returned.

            When a branch name is not specified and the repo is empty,
            the new commit will become the repo's root commit and will
            be on the main branch.

            When a branch name is specified and the repo is empty, the
            new commit will become the repo's root commit and also
            define the repo's main branch going forward.

            This API cannot be used to create additional root commits
            in non-empty repos.

            The branch field cannot be repeated.

            As a side effect, this API can be used to create a new
            branch without modifying any files, by specifying a new
            branch name in this field, together with parents, but
            omitting the files fields, while not sending any files.
            This will create a new commit and branch with the same
            contents as the first parent. The diff of this commit
            against its first parent will be empty.
          in: query
          name: files
          schema:
            type: string
        - required: false
          description: |
            
            The name of the branch that the new commit should be
            created on. When omitted, the commit will be created on top
            of the main branch and will become the main branch's new
            head.

            When a branch name is provided that already exists in the
            repo, then the commit will be created on top of that
            branch. In this case, *if* a parent SHA1 was also provided,
            then it is asserted that the parent is the branch's
            tip/HEAD at the time the request is made. When this is not
            the case, a 409 is returned.

            This API cannot be used to create new anonymous heads in
            Mercurial repositories.

            When a new branch name is specified (that does not already
            exist in the repo), and no parent SHA1s are provided, then
            the new commit will inherit from the current main branch's
            tip/HEAD commit, but not advance the main branch. The new
            commit will be the new branch. When the request *also*
            specifies a parent SHA1, then the new commit and branch
            are created directly on top of the parent commit,
            regardless of the state of the main branch.

            When a branch name is not specified, but a parent SHA1 is
            provided, then Bitbucket asserts that it represents the
            main branch's current HEAD/tip, or a 409 is returned.

            When a branch name is not specified and the repo is empty,
            the new commit will become the repo's root commit and will
            be on the main branch.

            When a branch name is specified and the repo is empty, the
            new commit will become the repo's root commit and also
            define the repo's main branch going forward.

            This API cannot be used to create additional root commits
            in non-empty repos.

            The branch field cannot be repeated.

            As a side effect, this API can be used to create a new
            branch without modifying any files, by specifying a new
            branch name in this field, together with `parents`, but
            omitting the `files` fields, while not sending any files.
            This will create a new commit and branch with the same
            contents as the first parent. The diff of this commit
            against its first parent will be empty.
          in: query
          name: branch
          schema:
            type: string
      description: >-
        This endpoint is used to create new commits in the repository by

        uploading files.


        To add a new file to a repository:


        ```

        $ curl https://api.bitbucket.org/2.0/repositories/username/slug/src \
          -F /repo/path/to/image.png=@image.png
        ```


        This will create a new commit on top of the main branch, inheriting the

        contents of the main branch, but adding (or overwriting) the

        `image.png` file to the repository in the `/repo/path/to` directory.


        To create a commit that deletes files, use the `files` parameter:


        ```

        $ curl https://api.bitbucket.org/2.0/repositories/username/slug/src \
          -F files=/file/to/delete/1.txt \
          -F files=/file/to/delete/2.txt
        ```


        You can add/modify/delete multiple files in a request. Rename/move a

        file by deleting the old path and adding the content at the new path.


        This endpoint accepts `multipart/form-data` (as in the examples above),

        as well as `application/x-www-form-urlencoded`.


        ## multipart/form-data


        A `multipart/form-data` post contains a series of "form fields" that

        identify both the individual files that are being uploaded, as well as

        additional, optional meta data.


        Files are uploaded in file form fields (those that have a

        `Content-Disposition` parameter) whose field names point to the remote

        path in the repository where the file should be stored. Path field

        names are always interpreted to be absolute from the root of the

        repository, regardless whether the client uses a leading slash (as the

        above `curl` example did).


        File contents are treated as bytes and are not decoded as text.


        The commit message, as well as other non-file meta data for the

        request, is sent along as normal form field elements. Meta data fields

        share the same namespace as the file objects. For `multipart/form-data`

        bodies that should not lead to any ambiguity, as the

        `Content-Disposition` header will contain the `filename` parameter to

        distinguish between a file named "message" and the commit message field.


        ## application/x-www-form-urlencoded


        It is also possible to upload new files using a simple

        `application/x-www-form-urlencoded` POST. This can be convenient when

        uploading pure text files:


        ```

        $ curl https://api.bitbucket.org/2.0/repositories/atlassian/bbql/src \
          --data-urlencode "/path/to/me.txt=Lorem ipsum." \
          --data-urlencode "message=Initial commit" \
          --data-urlencode "author=Erik van Zijst "
        ```


        There could be a field name clash if a client were to upload a file

        named "message", as this filename clashes with the meta data property

        for the commit message. To avoid this and to upload files whose names

        clash with the meta data properties, use a leading slash for the files,

        e.g. `curl --data-urlencode "/message=file contents"`.


        When an explicit slash is omitted for a file whose path matches that of

        a meta data parameter, then it is interpreted as meta data, not as a

        file.


        ## Executables and links


        While this API aims to facilitate the most common use cases, it is

        possible to perform some more advanced operations like creating a new

        symlink in the repository, or creating an executable file.


        Files can be supplied with a `x-attributes` value in the

        `Content-Disposition` header. For example, to upload an executable

        file, as well as create a symlink from `README.txt` to `README`:


        ```

        --===============1438169132528273974==

        Content-Type: text/plain; charset="us-ascii"

        MIME-Version: 1.0

        Content-Transfer-Encoding: 7bit

        Content-ID: "bin/shutdown.sh"

        Content-Disposition: attachment; filename="shutdown.sh"; x-attributes:"executable"


        #!/bin/sh

        halt


        --===============1438169132528273974==

        Content-Type: text/plain; charset="us-ascii"

        MIME-Version: 1.0

        Content-Transfer-Encoding: 7bit

        Content-ID: "/README.txt"

        Content-Disposition: attachment; filename="README.txt"; x-attributes:"link"


        README

        --===============1438169132528273974==--

        ```


        Links are files that contain the target path and have

        `x-attributes:"link"` set.


        When overwriting links with files, or vice versa, the newly uploaded

        file determines both the new contents, as well as the attributes. That

        means uploading a file without specifying `x-attributes="link"` will

        create a regular file, even if the parent commit hosted a symlink at

        the same path.


        The same applies to executables. When modifying an existing executable

        file, the form-data file element must include

        `x-attributes="executable"` in order to preserve the executable status

        of the file.


        Note that this API does not support the creation or manipulation of

        subrepos / submodules.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - source
        - repositories
      responses:
        "200":
          description: |
            If the path matches a file, then the raw contents of the file are
            returned (unless the `format=meta` query parameter was provided,
            in which case a json document containing the file's meta data is
            returned). If the path matches a directory, then a paginated
            list of file and directory entries is returned (if the
            `format=meta` query parameter was provided, then the json document
            containing the directory's meta data is returned).
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_treeentries"
        "404":
          description: If the path or commit in the URL does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: Instead of returning the file's contents, return the (json) meta
            data for it.
          in: query
          name: format
          schema:
            type: string
            enum:
              - meta
      description: >-
        This endpoint redirects the client to the directory listing of the

        root directory on the main branch.


        This is equivalent to directly hitting

        [/2.0/repositories/{username}/{repo_slug}/src/{node}/{path}](src/%7Bnode%7D/%7Bpath%7D)

        without having to know the name or SHA1 of the repo's main branch.


        To create new commits, [POST to this endpoint](#post)
  "/snippets/{username}/{encoded_id}/{revision}/diff":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
      - required: true
        name: revision
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          description: The raw diff contents.
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - in: query
          description: When used, only one the diff of the specified file will be returned.
          name: path
          schema:
            type: string
        - required: true
          description: The snippet id.
          in: path
          name: encoded_id
          schema:
            type: string
        - required: true
          description: A revspec expression. This can simply be a commit SHA1, a ref name,
            or a compare expression like `staging..production`.
          in: path
          name: revision
          schema:
            type: string
      description: |-
        Returns the diff of the specified commit against its first parent.

        Note that this resource is different in functionality from the `patch`
        resource.

        The differences between a diff and a patch are:

        * patches have a commit header with the username, message, etc
        * diffs support the optional `path=foo/bar.py` query param to filter the
          diff to just that one file diff (not supported for patches)
        * for a merge, the diff will show the diff between the merge commit and
          its first parent (identical to how PRs work), while patch returns a
          response containing separate patches for each commit on the second
          parent's ancestry, up to the oldest common ancestor (identical to
          its reachability).

        Note that the character encoding of the contents of the diff is
        unspecified as Git and Mercurial do not track this, making it hard for
        Bitbucket to reliably determine this.
  "/snippets/{username}/{encoded_id}/watchers":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
    get:
      description: Returns a paginated list of all users watching a specific snippet.
      parameters:
        - required: true
          description: The snippet id.
          in: path
          name: encoded_id
          schema:
            type: string
      tags:
        - snippets
      deprecated: true
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      responses:
        "200":
          description: The paginated list of users watching this snippet
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_users"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
  "/repositories/{username}/{repo_slug}/branch-restrictions/{id}":
    put:
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - branchrestrictions
      responses:
        "200":
          description: The updated branch restriction rule
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/branchrestriction"
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the authenticated user does not have admin access to the
            repository
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository or branch restriction id does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/branchrestriction"
        description: The new version of the existing rule
        required: true
      description: |-
        Updates an existing branch restriction rule.

        Fields not present in the request body are ignored.

        See [`POST`](../branch-restrictions#post) for details.
    get:
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - branchrestrictions
      responses:
        "200":
          description: The branch restriction rule
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/branchrestriction"
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the authenticated user does not have admin access to the
            repository
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository or branch restriction id does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns a specific branch restriction rule.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
      - required: true
        description: The restriction rule's id
        in: path
        name: id
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - branchrestrictions
      responses:
        "204":
          description: ""
        "401":
          description: If the request was not authenticated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If the authenticated user does not have admin access to the
            repository
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository or branch restriction id does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Deletes an existing branch restriction rule.
  "/repositories/{username}/{repo_slug}/commit/{node}/statuses/build":
    post:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - repositories
        - commitstatuses
      responses:
        "201":
          description: The newly created build status object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/commitstatus"
        "401":
          description: If the repository is private and the request was not authenticated.
        "404":
          description: If the repository, commit, or build status key does not exist
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/commitstatus"
        description: The new commit status object.
      description: >-
        Creates a new build status against the specified commit.


        If the specified key already exists, the existing status object will

        be overwritten.


        When creating a new commit status, you can use a URI template for the URL.

        Templates are URLs that contain variable names that Bitbucket will

        evaluate at runtime whenever the URL is displayed anywhere similar to

        parameter substitution in

        [Bitbucket Connect](https://developer.atlassian.com/bitbucket/concepts/context-parameters.html).

        For example, one could use `https://foo.com/builds/{repository.full_name}`

        which Bitbucket will turn into `https://foo.com/builds/foo/bar` at render time.

        The context variables available are `repository` and `commit`.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: The commit's SHA1.
        in: path
        name: node
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
  "/repositories/{username}/{repo_slug}":
    put:
      description: |-
        Since this endpoint can be used to both update and to create a
        repository, the request body depends on the intent.

        ### Creation

        See the POST documentation for the repository endpoint for an example
        of the request body.

        ### Update

        Note: Changing the `name` of the repository will cause the location to
        be changed. This is because the URL of the repo is derived from the
        name (a process called slugification). In such a scenario, it is
        possible for the request to fail if the newly created slug conflicts
        with an existing repository's slug. But if there is no conflict,
        the new location will be returned in the `Location` header of the
        response.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/repository"
        description: |
          The repository that is to be updated.

          Note that the elements "owner" and "full_name" are ignored since the
          URL implies them.
      tags:
        - repositories
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      responses:
        "200":
          headers:
            Location:
              description: |-
                The location of the repository. This header is only
                provided when the repository's name is changed.
              schema:
                type: string
          description: The existing repository has been updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/repository"
              examples:
                response:
                  value:
                    scm: git
                    website: www.example.com
                    has_wiki: false
                    description: A repository for my bits and bobs
                    language: python
                    fork_policy: allow_forks
                    links:
                      clone:
                        - href: https://bitbucket.org/example-username/bits_and_bobs.git
                          name: https
                        - href: git@bitbucket.org:example-username/bits_and_bobs.git
                          name: ssh
                      watchers:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/watchers
                      branches:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/branches
                      tags:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/tags
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commits
                      downloads:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/downloads
                      source:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/src
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs
                      avatar:
                        href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                      forks:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/forks
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                      pullrequests:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests
                    name: bits_and_bobs
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    mainbranch:
                      type: branch
                      name: master
                    full_name: example-username/bits_and_bobs
                    has_issues: false
                    owner:
                      username: example-username
                      display_name: Example Username
                      account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/users/example-username
                        html:
                          href: https://bitbucket.org/example-username/
                        avatar:
                          href: https://bitbucket.org/account/example-username/avatar/
                      nickname: example-username
                      type: user
                      uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                    updated_on: 2018-06-20T23:17:33.616037+00:00
                    size: 33348
                    type: repository
                    slug: bits_and_bobs
                    is_private: true
                    uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
        "201":
          headers:
            Location:
              description: The location of the newly created repository
              schema:
                type: string
          description: A new repository has been created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/repository"
              examples:
                response:
                  value:
                    scm: git
                    website: www.example.com
                    has_wiki: false
                    description: A repository for my bits and bobs
                    language: python
                    fork_policy: allow_forks
                    links:
                      clone:
                        - href: https://bitbucket.org/example-username/bits_and_bobs.git
                          name: https
                        - href: git@bitbucket.org:example-username/bits_and_bobs.git
                          name: ssh
                      watchers:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/watchers
                      branches:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/branches
                      tags:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/tags
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commits
                      downloads:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/downloads
                      source:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/src
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs
                      avatar:
                        href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                      forks:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/forks
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                      pullrequests:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests
                    name: bits_and_bobs
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    mainbranch:
                      type: branch
                      name: master
                    full_name: example-username/bits_and_bobs
                    has_issues: false
                    owner:
                      username: example-username
                      display_name: Example Username
                      account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/users/example-username
                        html:
                          href: https://bitbucket.org/example-username/
                        avatar:
                          href: https://bitbucket.org/account/example-username/avatar/
                      nickname: example-username
                      type: user
                      uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                    updated_on: 2018-06-20T23:17:33.616037+00:00
                    size: 33348
                    type: repository
                    slug: bits_and_bobs
                    is_private: true
                    uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
        "400":
          description: If the input document was invalid, or if the caller lacks the
            privilege to create repositories under the targeted account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: If the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
    post:
      description: |-
        Creates a new repository.

        Note: In order to set the project for the newly created repository,
        pass in either the project key or the project UUID as part of the
        request body as shown in the examples below:

        ```
        $ curl -X POST -H "Content-Type: application/json" -d '{
            "scm": "git",
            "project": {
                "key": "MARS"
            }
        }' https://api.bitbucket.org/2.0/repositories/teamsinspace/hablanding
        ```

        or

        ```
        $ curl -X POST -H "Content-Type: application/json" -d '{
            "scm": "git",
            "project": {
                "key": "{ba516952-992a-4c2d-acbd-17d502922f96}"
            }
        }' https://api.bitbucket.org/2.0/repositories/teamsinspace/hablanding
        ```

        The project must only be assigned for repositories belonging to a team.
        If the repository owner is a team and the project is not provided, the
        repository is automatically assigned to the oldest project in the team.

        Note: In the examples above, the username `teamsinspace`,
        and/or the repository name `hablanding` can be replaced by UUIDs.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/repository"
        description: The repository that is to be created. Note that most object elements
          are optional. Elements "owner" and "full_name" are ignored as the URL
          implies them.
      tags:
        - repositories
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      responses:
        "200":
          description: The newly created repository.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/repository"
              examples:
                response:
                  value:
                    scm: git
                    website: www.example.com
                    has_wiki: false
                    description: A repository for my bits and bobs
                    language: python
                    fork_policy: allow_forks
                    links:
                      clone:
                        - href: https://bitbucket.org/example-username/bits_and_bobs.git
                          name: https
                        - href: git@bitbucket.org:example-username/bits_and_bobs.git
                          name: ssh
                      watchers:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/watchers
                      branches:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/branches
                      tags:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/tags
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commits
                      downloads:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/downloads
                      source:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/src
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs
                      avatar:
                        href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                      forks:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/forks
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                      pullrequests:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests
                    name: bits_and_bobs
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    mainbranch:
                      type: branch
                      name: master
                    full_name: example-username/bits_and_bobs
                    has_issues: false
                    owner:
                      username: example-username
                      display_name: Example Username
                      account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/users/example-username
                        html:
                          href: https://bitbucket.org/example-username/
                        avatar:
                          href: https://bitbucket.org/account/example-username/avatar/
                      nickname: example-username
                      type: user
                      uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                    updated_on: 2018-06-20T23:17:33.616037+00:00
                    size: 33348
                    type: repository
                    slug: bits_and_bobs
                    is_private: true
                    uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
        "400":
          description: If the input document was invalid, or if the caller lacks the
            privilege to create repositories under the targeted account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "401":
          description: If the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
    get:
      description: Returns the object describing this repository.
      tags:
        - repositories
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      responses:
        "200":
          description: The repository object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/repository"
              examples:
                response:
                  value:
                    scm: git
                    website: www.example.com
                    has_wiki: false
                    description: A repository for my bits and bobs
                    language: python
                    fork_policy: allow_forks
                    links:
                      clone:
                        - href: https://bitbucket.org/example-username/bits_and_bobs.git
                          name: https
                        - href: git@bitbucket.org:example-username/bits_and_bobs.git
                          name: ssh
                      watchers:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/watchers
                      branches:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/branches
                      tags:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/refs/tags
                      commits:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/commits
                      downloads:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/downloads
                      source:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/src
                      html:
                        href: https://bitbucket.org/example-username/bits_and_bobs
                      avatar:
                        href: https://bytebucket.org/ravatar/%7B7708d810-964c-403f-aa6d-4e949280d614%7D?ts=python
                      forks:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/forks
                      self:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs
                      pullrequests:
                        href: https://api.bitbucket.org/2.0/repositories/example-username/bits_and_bobs/pullrequests
                    name: bits_and_bobs
                    created_on: 2018-06-20T23:17:33.616037+00:00
                    mainbranch:
                      type: branch
                      name: master
                    full_name: example-username/bits_and_bobs
                    has_issues: false
                    owner:
                      username: example-username
                      display_name: Example Username
                      account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                      links:
                        self:
                          href: https://api.bitbucket.org/2.0/users/example-username
                        html:
                          href: https://bitbucket.org/example-username/
                        avatar:
                          href: https://bitbucket.org/account/example-username/avatar/
                      nickname: example-username
                      type: user
                      uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
                    updated_on: 2018-06-20T23:17:33.616037+00:00
                    size: 33348
                    type: repository
                    slug: bits_and_bobs
                    is_private: true
                    uuid: "{7708d810-964c-403f-aa6d-4e949280d614}"
        "403":
          description: If the repository is private and the authenticated user does not
            have access to it.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If no repository exists at this location.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - repository:delete
        - basic: []
        - api_key: []
      tags:
        - repositories
      responses:
        "204":
          description: Indicates successful deletion.
        "403":
          description: If the caller either does not have admin access to the repository,
            or the repository is set to read-only.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the repository does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: false
          description: >
            If a repository has been moved to a new location, use this parameter
            to

            show users a friendly message in the Bitbucket UI that the repository

            has moved to a new location. However, a GET to this endpoint will still

            return a 404.
          in: query
          name: redirect_to
          schema:
            type: string
      description: |-
        Deletes the repository. This is an irreversible operation.

        This does not affect its forks.
  "/repositories/{username}/{repo_slug}/default-reviewers/{target_username}":
    put:
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Adds the specified user to the repository's list of default
        reviewers.

        This method is idempotent. Adding a user a second time has no effect.
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Returns the specified reviewer.

        This can be used to test whether a user is among the repository's
        default reviewers list. A 404 indicates that that specified user is not
        a default reviewer.
    parameters:
      - required: true
        description: |
          This can either be the username or the UUID of the account,
          surrounded by curly-braces, for example: `{account UUID}`. An account
          is either a team or user.
        in: path
        name: username
        schema:
          type: string
      - required: true
        description: |
          This can either be the repository slug or the UUID of the repository,
          surrounded by curly-braces, for example: `{repository UUID}`.
        in: path
        name: repo_slug
        schema:
          type: string
      - required: true
        description: |
          This can either be the username or the UUID of the default reviewer,
          surrounded by curly-braces, for example: `{account UUID}`.
        in: path
        name: target_username
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - repository:admin
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Removes a default reviewer from the repository.
  "/repositories/{username}/{repo_slug}/issues/{issue_id}/comments":
    post:
      security:
        - oauth2:
            - issue:write
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "201":
          headers:
            Location:
              description: The location of the newly issue comment.
              schema:
                type: string
          description: The newly created comment.
        "400":
          description: "If the input was invalid, or if the comment being created is
            detected as spam "
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: |
            This can either be the username or the UUID of the user,
            surrounded by curly-braces, for example: `{user UUID}`.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/issue_comment"
        description: The new issue comment object.
        required: true
      description: >-
        Creates a new issue comment.


        ```

        $ curl https://api.bitbucket.org/2.0/repositories/atlassian/prlinks/issues/42/comments/ \
          -X POST -u evzijst \
          -H 'Content-Type: application/json' \
          -d '{"content": {"raw": "Lorem ipsum."}}'
        ```
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: issue_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - issue
        - basic: []
        - api_key: []
      tags:
        - issue_tracker
      responses:
        "200":
          description: A paginated list of issue comments.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_issue_comments"
      parameters:
        - required: true
          description: |
            This can either be the username or the UUID of the user,
            surrounded by curly-braces, for example: `{user UUID}`.
          in: path
          name: username
          schema:
            type: string
        - required: true
          description: >
            This can either be the repository slug or the UUID of the
            repository,

            surrounded by curly-braces, for example: `{repository UUID}`.
          in: path
          name: repo_slug
          schema:
            type: string
        - required: false
          description: |-
            
            Query string to narrow down the response as per
            [filtering and sorting](../../../../../../meta/filtering).
          in: query
          name: q
          schema:
            type: string
      description: >-
        Returns a paginated list of all comments that were made on the

        specified issue.


        The default sorting is oldest to newest and can be overridden with

        the `sort` query parameter.


        This endpoint also supports filtering and sorting of the results. See

        [filtering and sorting](../../../../../../meta/filtering) for more details.
  "/snippets/{username}/{encoded_id}/{node_id}":
    put:
      responses:
        "200":
          description: The updated snippet object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/snippet"
            multipart/related:
              schema:
                $ref: "#/components/schemas/snippet"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/snippet"
        "401":
          description: If the snippet is private and the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If authenticated user does not have permission to update the private
            snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet or the revision does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
        "405":
          description: If `{node_id}` is not the latest revision.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The snippet's id.
          in: path
          name: encoded_id
          schema:
            type: string
        - required: true
          description: A commit revision (SHA1).
          in: path
          name: node_id
          schema:
            type: string
      tags:
        - snippets
      security:
        - oauth2:
            - snippet:write
        - basic: []
        - api_key: []
      description: |-
        Identical to `UPDATE /snippets/encoded_id`, except that this endpoint
        takes an explicit commit revision. Only the snippet's "HEAD"/"tip"
        (most recent) version can be updated and requests on all other,
        older revisions fail by returning a 405 status.

        Usage of this endpoint over the unrestricted `/snippets/encoded_id`
        could be desired if the caller wants to be sure no concurrent
        modifications have taken place between the moment of the UPDATE
        request and the original GET.

        This can be considered a so-called "Compare And Swap", or CAS
        operation.

        Other than that, the two endpoints are identical in behavior.
    get:
      description: |-
        Identical to `GET /snippets/encoded_id`, except that this endpoint
        can be used to retrieve the contents of the snippet as it was at an
        older revision, while `/snippets/encoded_id` always returns the
        snippet's current revision.

        Note that only the snippet's file contents are versioned, not its
        meta data properties like the title.

        Other than that, the two endpoints are identical in behavior.
      parameters:
        - required: true
          description: The snippet's id.
          in: path
          name: encoded_id
          schema:
            type: string
        - required: true
          description: A commit revision (SHA1).
          in: path
          name: node_id
          schema:
            type: string
      tags:
        - snippets
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      responses:
        "200":
          description: The snippet object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/snippet"
            multipart/related:
              schema:
                $ref: "#/components/schemas/snippet"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/snippet"
        "401":
          description: If the snippet is private and the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If authenticated user does not have access to the private snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet, or the revision does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
            multipart/related:
              schema:
                $ref: "#/components/schemas/error"
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/error"
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: node_id
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - snippet:write
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "204":
          description: If the snippet was deleted successfully.
        "401":
          description: If the snippet is private and the request was not authenticated.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "403":
          description: If authenticated user does not have permission to delete the private
            snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "405":
          description: If `{node_id}` is not the latest revision.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The snippet's id.
          in: path
          name: encoded_id
          schema:
            type: string
      description: |-
        Deletes the snippet.

        Note that this only works for versioned URLs that point to the latest
        commit of the snippet. Pointing to an older commit results in a 405
        status code.

        To delete a snippet, regardless of whether or not concurrent changes
        are being made to it, use `DELETE /snippets/{encoded_id}` instead.
  "/repositories/{username}/{repo_slug}/pullrequests/{pull_request_id}/patch":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: pull_request_id
        in: path
        schema:
          type: string
      - required: true
        name: repo_slug
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - pullrequest
        - basic: []
        - api_key: []
      tags:
        - pullrequests
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}":
    get:
      description: Retrieve a specified pipeline
      tags:
        - pipelines
      responses:
        "200":
          description: The pipeline.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/pipeline"
        "404":
          description: No account, repository or pipeline with the UUID provided exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The pipeline UUID.
          required: true
          name: pipeline_uuid
          in: path
          schema:
            type: string
      operationId: getPipelineForRepository
  "/addon/linkers/{linker_key}/values/":
    get:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
    parameters:
      - required: true
        name: linker_key
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2: []
        - basic: []
        - api_key: []
      tags:
        - addon
      responses:
        default:
          description: Unexpected error.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: ""
  "/repositories/{workspace}/{repo_slug}/pipelines/{pipeline_uuid}/steps/":
    get:
      description: Find steps for the given pipeline.
      tags:
        - pipelines
      responses:
        "200":
          description: The steps.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_pipeline_steps"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The UUID of the pipeline.
          required: true
          name: pipeline_uuid
          in: path
          schema:
            type: string
      operationId: getPipelineStepsForRepository
  "/users/{username}/hooks/{uid}":
    put:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - users
        - webhooks
      responses:
        "200":
          description: The webhook subscription object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/webhook_subscription"
        "403":
          description: If the authenticated user does not have permission to update the
            webhook.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the webhook or user does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The installed webhook's id
          in: path
          name: uid
          schema:
            type: string
      description: >-
        Updates the specified webhook subscription.


        The following properties can be mutated:


        * `description`

        * `url`

        * `active`

        * `events`


        Note that the username path parameter has been deprecated due to

        [privacy changes](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#removal-of-usernames-from-user-referencing-apis).

        Use the account's UUID or account_id instead.
    get:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - users
        - webhooks
      responses:
        "200":
          description: The webhook subscription object.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/webhook_subscription"
        "404":
          description: If the webhook or user does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The installed webhook's id.
          in: path
          name: uid
          schema:
            type: string
      description: >-
        Returns the webhook with the specified id installed on the given

        user account.


        Note that the username path parameter has been deprecated due to

        [privacy changes](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#removal-of-usernames-from-user-referencing-apis).

        Use the account's UUID or account_id instead.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: uid
        in: path
        schema:
          type: string
    delete:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - users
        - webhooks
      responses:
        "204":
          description: When the webhook was deleted successfully
        "403":
          description: If the authenticated user does not have permission to delete the
            webhook.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the webhook or user does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The installed webhook's id
          in: path
          name: uid
          schema:
            type: string
      description: >-
        Deletes the specified webhook subscription from the given user

        account.


        Note that the username path parameter has been deprecated due to

        [privacy changes](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/#removal-of-usernames-from-user-referencing-apis).

        Use the account's UUID or account_id instead.
  "/teams/{username}/hooks":
    post:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - teams
        - webhooks
      responses:
        "201":
          headers:
            Location:
              description: The URL of new newly created webhook.
              schema:
                type: string
          description: The newly installed webhook.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/webhook_subscription"
        "403":
          description: If the authenticated user is not an admin on the specified team.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the specified team does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: |-
        Creates a new webhook on the specified team.

        Team webhooks are fired for events from all repositories belonging to
        that team account.

        Note that only admins can install webhooks on teams.
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - webhook
        - basic: []
        - api_key: []
      tags:
        - teams
        - webhooks
      responses:
        "200":
          description: The paginated list of installed webhooks.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_webhook_subscriptions"
        "403":
          description: If the authenticated user is not an admin on the specified team.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the specified team does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: Returns a paginated list of webhooks installed on this team.
  "/repositories/{workspace}/{repo_slug}/environments/{environment_uuid}":
    get:
      description: Retrieve an environment
      tags:
        - deployments
      responses:
        "200":
          description: The environment.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/deployment_environment"
        "404":
          description: No account, repository or environment with the UUID provided exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The environment UUID.
          required: true
          name: environment_uuid
          in: path
          schema:
            type: string
      operationId: getEnvironmentForRepository
    delete:
      description: Delete an environment
      tags:
        - deployments
      responses:
        "204":
          description: The environment was deleted.
        "404":
          description: No account or repository with the UUID provided exists.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - description: The account.
          required: true
          name: username
          in: path
          schema:
            type: string
        - description: The repository.
          required: true
          name: repo_slug
          in: path
          schema:
            type: string
        - description: The environment UUID.
          required: true
          name: environment_uuid
          in: path
          schema:
            type: string
      operationId: deleteEnvironmentForRepository
  /repositories:
    parameters: []
    get:
      security:
        - oauth2:
            - repository
        - basic: []
        - api_key: []
      tags:
        - repositories
      responses:
        "200":
          description: All public repositories.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/paginated_repositories"
      parameters:
        - required: false
          description: |-
            Filter the results to include only repositories create on or
            after this [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601)
             timestamp. Example: `YYYY-MM-DDTHH:mm:ss.sssZ`
          in: query
          name: after
          schema:
            type: string
      description: |-
        Returns a paginated list of all public repositories.

        This endpoint also supports filtering and sorting of the results. See
        [filtering and sorting](../meta/filtering) for more details.
  "/snippets/{username}/{encoded_id}/{revision}/patch":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
      - required: true
        name: encoded_id
        in: path
        schema:
          type: string
      - required: true
        name: revision
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - snippet
        - basic: []
        - api_key: []
      tags:
        - snippets
      responses:
        "200":
          description: The raw patch contents.
        "403":
          description: If the authenticated user does not have access to the snippet.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
        "404":
          description: If the snippet does not exist.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      parameters:
        - required: true
          description: The snippet id.
          in: path
          name: encoded_id
          schema:
            type: string
        - required: true
          description: A revspec expression. This can simply be a commit SHA1, a ref name,
            or a compare expression like `staging..production`.
          in: path
          name: revision
          schema:
            type: string
      description: |-
        Returns the patch of the specified commit against its first
        parent.

        Note that this resource is different in functionality from the `diff`
        resource.

        The differences between a diff and a patch are:

        * patches have a commit header with the username, message, etc
        * diffs support the optional `path=foo/bar.py` query param to filter the
          diff to just that one file diff (not supported for patches)
        * for a merge, the diff will show the diff between the merge commit and
          its first parent (identical to how PRs work), while patch returns a
          response containing separate patches for each commit on the second
          parent's ancestry, up to the oldest common ancestor (identical to
          its reachability).

        Note that the character encoding of the contents of the patch is
        unspecified as Git and Mercurial do not track this, making it hard for
        Bitbucket to reliably determine this.
  "/teams/{username}/members":
    parameters:
      - required: true
        name: username
        in: path
        schema:
          type: string
    get:
      security:
        - oauth2:
            - account
        - basic: []
        - api_key: []
      tags:
        - teams
      responses:
        "200":
          description: All members
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/user"
              examples:
                response:
                  value:
                    username: example-username
                    display_name: Example Username
                    account_id: 123456:daffbc08-1a80-4bd0-98bf-7997de0a3d10
                    links:
                      self:
                        href: https://api.bitbucket.org/2.0/users/example-username
                      html:
                        href: https://bitbucket.org/example-username/
                      avatar:
                        href: https://bitbucket.org/account/example-username/avatar/
                    nickname: example-username
                    account_status: active
                    type: user
                    uuid: "{58021780-82b6-4517-b153-0ae73ce3e4b4}"
        "404":
          description: When the team does not exist, or multiple teams with the same name
            exist that differ only in casing and the URL did not match the exact
            casing of a particular one.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/error"
      description: >-
        Returns all members of the specified team. Any member of any of the

        team's groups is considered a member of the team. This includes users

        in groups that may not actually have access to any of the team's

        repositories.


        This operation has been deprecated due to privacy changes.

        See the [announcement](https://developer.atlassian.com/cloud/bitbucket/bitbucket-api-changes-gdpr/)

        for details.
servers:
  - url: https://api.bitbucket.org/2.0
components:
  requestBodies:
    pipeline_variable:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/pipeline_variable"
      description: The updated variable.
      required: true
    snippet:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/snippet"
      description: The new snippet object.
      required: true
    project:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/project"
      required: true
    pipeline_variable2:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/pipeline_variable"
      description: The variable to create.
    issue_comment:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/issue_comment"
      description: The updated comment.
      required: true
  securitySchemes:
    basic:
      type: http
      description: Basic HTTP Authentication as per
        [RFC-2617](https://tools.ietf.org/html/rfc2617) (Digest not supported).
        Note that Basic Auth with username and password as credentials is only
        available on accounts that have 2-factor-auth / 2-step-verification
        disabled. If you use 2fa, you should authenticate using OAuth2 instead.
      scheme: basic
    api_key:
      description: API Keys can be used as Basic HTTP Authentication credentials and
        provide a substitute for the account's actual username and password. API
        Keys are only available to team accounts and there is only 1 key per
        account. API Keys do not support scopes and have therefore access to all
        contents of the account.
      type: apiKey
      name: Authorization
      in: header
    oauth2:
      description: OAuth 2 as per [RFC-6749](https://tools.ietf.org/html/rfc6749).
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://bitbucket.org/site/oauth2/authorize
          tokenUrl: https://bitbucket.org/site/oauth2/access_token
          scopes:
            wiki: Read and modify your repositories' wikis
            pullrequest:write: Read and modify your repositories and their pull requests
            pipeline:variable: Access your repositories' build pipelines and configure their
              variables
            project:write: Read and modify your team's project settings, and read and
              transfer repositories within your team's projects
            pipeline:write: Access and rerun your repositories' build pipelines
            snippet: Read your snippets
            repository:delete: Delete your repositories
            repository:write: Read and modify your repositories
            issue: Read your repositories' issues
            email: Read your account's primary email address
            repository: Read your repositories
            issue:write: Read and modify your repositories' issues
            webhook: Read and modify your repositories' webhooks
            pipeline: Access your repositories' build pipelines
            snippet:write: Read and modify your snippets
            account: Read your account information
            repository:admin: Administer your repositories
            pullrequest: Read your repositories and their pull requests
            project: Read your team's project settings and read repositories contained
              within your team's projects
            team: Read your team membership information
            team:write: Read and modify your team membership information
            account:write: Read and modify your account information
  schemas:
    paginated_files:
      type: object
      description: A paginated list of commit_file objects.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/commit_file"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_components:
      type: object
      description: A paginated list of issue tracker components.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/component"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_repository_permissions:
      type: object
      description: A paginated list of repository permissions.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/repository_permission"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    pipeline_image:
      type: object
      description: The definition of a Docker image that can be used for a Bitbucket
        Pipelines step execution context.
      properties:
        name:
          type: string
          description: The name of the image. If the image is hosted on DockerHub the short
            name can be used, otherwise the fully qualified name is required
            here.
        username:
          type: string
          description: The username needed to authenticate with the Docker registry. Only
            required when using a private Docker image.
        password:
          type: string
          description: The password needed to authenticate with the Docker registry. Only
            required when using a private Docker image.
        email:
          type: string
          description: The email needed to authenticate with the Docker registry. Only
            required when using a private Docker image.
    deployment:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Bitbucket Deployment.
          properties:
            uuid:
              type: string
              description: The UUID identifying the deployment.
            state:
              $ref: "#/components/schemas/deployment_state"
            environment:
              $ref: "#/components/schemas/deployment_environment"
            release:
              $ref: "#/components/schemas/deployment_release"
    paginated_repositories:
      type: object
      description: A paginated list of repositories.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/repository"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    deployment_state_completed_status_successful:
      allOf:
        - $ref: "#/components/schemas/deployment_state_completed_status"
        - additionalProperties: true
          type: object
          description: A SUCCESSFUL completed deployment status.
          properties:
            name:
              enum:
                - SUCCESSFUL
              type: string
              description: The name of the completed deployment status (SUCCESSFUL).
    subject_types:
      type: object
      description: The mapping of resource/subject types pointing to their individual event
        types.
      properties:
        repository:
          type: object
          properties:
            events:
              type: object
              properties:
                href:
                  type: string
                  format: uri
                name:
                  type: string
              additionalProperties: false
          additionalProperties: false
        user:
          type: object
          properties:
            events:
              type: object
              properties:
                href:
                  type: string
                  format: uri
                name:
                  type: string
              additionalProperties: false
          additionalProperties: false
        team:
          type: object
          properties:
            events:
              type: object
              properties:
                href:
                  type: string
                  format: uri
                name:
                  type: string
              additionalProperties: false
          additionalProperties: false
      additionalProperties: false
    pipeline_state_completed_expired:
      allOf:
        - $ref: "#/components/schemas/pipeline_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines EXPIRED pipeline result.
          properties:
            name:
              enum:
                - EXPIRED
              type: string
              description: The name of the stopped result (EXPIRED).
    paginated_projects:
      type: object
      description: A paginated list of projects
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/project"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    pullrequest_merge_parameters:
      type: object
      description: The metadata that describes a pull request merge.
      properties:
        type:
          type: string
        message:
          type: string
          description: The commit message that will be used on the resulting commit.
        close_source_branch:
          type: boolean
          description: Whether the source branch should be deleted. If this is not
            provided, we fallback to the value used when the pull request was
            created, which defaults to False
        merge_strategy:
          type: string
          description: The merge strategy that will be used to merge the pull request.
          enum:
            - merge_commit
            - squash
            - fast_forward
          default: merge_commit
      required:
        - type
      additionalProperties: true
    pipeline_step_state_pending:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines PENDING pipeline step state.
          properties:
            name:
              enum:
                - PENDING
              type: string
              description: The name of pipeline step state (PENDING).
    pipelines_ddev_pipeline_step:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A step of a Bitbucket pipeline. This represents the actual result of
            the step execution.
      x-bb-default-fields:
        - uuid
      x-bb-url: /rest/1.0/accounts/{target_user.uuid}/repositories/{repository.uuid}/pipelines/{pipeline.uuid}/steps/{uuid}
    group:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A group object
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                html:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            owner:
              $ref: "#/components/schemas/account"
            name:
              type: string
            slug:
              type: string
              description: >-
                The "sluggified" version of the group's name. This contains only
                ASCII

                characters and can therefore be slightly different than the name
            full_slug:
              type: string
              description: |
                The concatenation of the owner's username and the group's slug,
                separated with a colon (e.g. `acme:developers`)
            members:
              type: integer
              description: The number of members in this group
          additionalProperties: true
    paginated_milestones:
      type: object
      description: A paginated list of issue tracker milestones.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/milestone"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_pipeline_variables:
      type: object
      description: A paged list of variables.
      properties:
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
        values:
          type: array
          minItems: 0
          items:
            $ref: "#/components/schemas/pipeline_variable"
          description: The values of the current page.
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
        next:
          type: string
          format: uri
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
        previous:
          type: string
          format: uri
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
    pipeline_step_state_completed_stopped:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines STOPPED pipeline step result.
          properties:
            name:
              enum:
                - STOPPED
              type: string
              description: The name of the result (STOPPED)
    pipeline_schedule_execution_executed:
      allOf:
        - $ref: "#/components/schemas/pipeline_schedule_execution"
        - additionalProperties: true
          type: object
          description: A Pipelines executed schedule execution.
          properties:
            pipeline:
              $ref: "#/components/schemas/pipeline"
    search_segment:
      type: object
      properties:
        text:
          type: string
          readOnly: true
        match:
          type: boolean
          readOnly: true
    paginated_deploy_keys:
      type: object
      description: A paginated list of deploy keys.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/deploy_key"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    pipeline_ssh_public_key:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Pipelines known host public key.
          properties:
            key_type:
              type: string
              description: The type of the public key.
            key:
              type: string
              description: The base64 encoded public key.
            md5_fingerprint:
              type: string
              description: The MD5 fingerprint of the public key.
            sha256_fingerprint:
              type: string
              description: The SHA-256 fingerprint of the public key.
    paginated_pipeline_steps:
      type: object
      description: A paged list of pipeline steps.
      properties:
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
        values:
          type: array
          minItems: 0
          items:
            $ref: "#/components/schemas/pipeline_step"
          description: The values of the current page.
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
        next:
          type: string
          format: uri
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
        previous:
          type: string
          format: uri
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
    paginated_team_permissions:
      type: object
      description: A paginated list of team permissions.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/team_permission"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    deployment_environment:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Bitbucket Deployment Environment.
          properties:
            uuid:
              type: string
              description: The UUID identifying the environment.
            name:
              type: string
              description: The name of the environment.
    deployment_state_completed_status_stopped:
      allOf:
        - $ref: "#/components/schemas/deployment_state_completed_status"
        - additionalProperties: true
          type: object
          description: A STOPPED completed deployment status.
          properties:
            name:
              enum:
                - STOPPED
              type: string
              description: The name of the completed deployment status (STOPPED).
    paginated_environments:
      type: object
      description: A paged list of environments
      properties:
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
        values:
          type: array
          minItems: 0
          items:
            $ref: "#/components/schemas/deployment_environment"
          description: The values of the current page.
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
        next:
          type: string
          format: uri
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
        previous:
          type: string
          format: uri
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
    milestone:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A milestone as defined in a repository's issue tracker.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            name:
              type: string
            id:
              type: integer
          additionalProperties: true
    pipeline_step_state_completed_error:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines ERROR pipeline step result.
          properties:
            name:
              enum:
                - ERROR
              type: string
              description: The name of the result (ERROR)
            error:
              $ref: "#/components/schemas/pipeline_step_error"
    pipeline_step_state_completed_failed:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines FAILED pipeline step result.
          properties:
            name:
              enum:
                - FAILED
              type: string
              description: The name of the result (FAILED)
    issue_job_status:
      type: object
      description: The status of an import or export job
      properties:
        type:
          type: string
        status:
          type: string
          description: The status of the import/export job
          enum:
            - ACCEPTED
            - STARTED
            - RUNNING
            - FAILURE
        phase:
          type: string
          description: The phase of the import/export job
        total:
          type: integer
          description: The total number of issues being imported/exported
        count:
          type: integer
          description: The total number of issues already imported/exported
        pct:
          type: number
          description: The percentage of issues already imported/exported
          minimum: 0
          maximum: 100
      additionalProperties: false
    commit_comment:
      allOf:
        - $ref: "#/components/schemas/comment"
        - type: object
          description: A commit comment.
          properties:
            commit:
              $ref: "#/components/schemas/commit"
          additionalProperties: true
    ref:
      type: object
      description: A ref object, representing a branch or tag in a repository.
      properties:
        type:
          type: string
        links:
          type: object
          properties:
            self:
              type: object
              properties:
                href:
                  type: string
                  format: uri
                name:
                  type: string
              additionalProperties: false
            commits:
              type: object
              properties:
                href:
                  type: string
                  format: uri
                name:
                  type: string
              additionalProperties: false
            html:
              type: object
              properties:
                href:
                  type: string
                  format: uri
                name:
                  type: string
              additionalProperties: false
          additionalProperties: false
        name:
          type: string
          description: The name of the ref.
        target:
          $ref: "#/components/schemas/commit"
      required:
        - type
      additionalProperties: true
    deployment_state_completed_status_failed:
      allOf:
        - $ref: "#/components/schemas/deployment_state_completed_status"
        - additionalProperties: true
          type: object
          description: A FAILED completed deployment status.
          properties:
            name:
              enum:
                - FAILED
              type: string
              description: The name of the completed deployment status (FAILED).
    pullrequest:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A pull request object.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                html:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                commits:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                approve:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                diff:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                diffstat:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                comments:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                activity:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                merge:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                decline:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            id:
              type: integer
              description: The pull request's unique ID. Note that pull request IDs are
                only unique within their associated repository.
            title:
              type: string
              description: Title of the pull request.
            rendered:
              type: object
              properties:
                title:
                  type: object
                  properties:
                    raw:
                      type: string
                      description: The text as it was typed by a user.
                    markup:
                      type: string
                      description: The type of markup language the raw content is to be
                        interpreted in.
                      enum:
                        - markdown
                        - creole
                        - plaintext
                    html:
                      type: string
                      description: The user's content rendered as HTML.
                  additionalProperties: false
                description:
                  type: object
                  properties:
                    raw:
                      type: string
                      description: The text as it was typed by a user.
                    markup:
                      type: string
                      description: The type of markup language the raw content is to be
                        interpreted in.
                      enum:
                        - markdown
                        - creole
                        - plaintext
                    html:
                      type: string
                      description: The user's content rendered as HTML.
                  additionalProperties: false
                reason:
                  type: object
                  properties:
                    raw:
                      type: string
                      description: The text as it was typed by a user.
                    markup:
                      type: string
                      description: The type of markup language the raw content is to be
                        interpreted in.
                      enum:
                        - markdown
                        - creole
                        - plaintext
                    html:
                      type: string
                      description: The user's content rendered as HTML.
                  additionalProperties: false
              additionalProperties: false
            summary:
              type: object
              properties:
                raw:
                  type: string
                  description: The text as it was typed by a user.
                markup:
                  type: string
                  description: The type of markup language the raw content is to be
                    interpreted in.
                  enum:
                    - markdown
                    - creole
                    - plaintext
                html:
                  type: string
                  description: The user's content rendered as HTML.
              additionalProperties: false
            state:
              type: string
              description: The pull request's current status.
              enum:
                - MERGED
                - SUPERSEDED
                - OPEN
                - DECLINED
            author:
              $ref: "#/components/schemas/account"
            source:
              $ref: "#/components/schemas/pullrequest_endpoint"
            destination:
              $ref: "#/components/schemas/pullrequest_endpoint"
            merge_commit:
              type: object
              properties:
                hash:
                  type: string
                  pattern: "[0-9a-f]{7,}?"
              additionalProperties: false
            comment_count:
              type: integer
              description: The number of comments for a specific pull request.
              minimum: 0
            task_count:
              type: integer
              description: The number of open tasks for a specific pull request.
              minimum: 0
            close_source_branch:
              type: boolean
              description: A boolean flag indicating if merging the pull request closes the
                source branch.
            closed_by:
              $ref: "#/components/schemas/account"
            reason:
              type: string
              description: Explains why a pull request was declined. This field is only
                applicable to pull requests in rejected state.
            created_on:
              type: string
              description: The ISO8601 timestamp the request was created.
              format: date-time
            updated_on:
              type: string
              description: The ISO8601 timestamp the request was last updated.
              format: date-time
            reviewers:
              type: array
              description: The list of users that were added as reviewers on this pull
                request when it was created. For performance reasons, the API
                only includes this list on a pull request's `self` URL.
              items:
                $ref: "#/components/schemas/account"
            participants:
              type: array
              description: "        The list of users that are collaborating on this pull
                request.

                \        Collaborators are user that:


                \        * are added to the pull request as a
                reviewer (part of the reviewers

                \          list)

                \        * are not explicit reviewers, but have
                commented on the pull request

                \        * are not explicit reviewers, but have
                approved the pull request


                \        Each user is wrapped in an object that
                indicates the user's role and

                \        whether they have approved the pull
                request. For performance reasons,

                \        the API only returns this list when an
                API requests a pull request by

                \        id.

                \        "
              items:
                $ref: "#/components/schemas/participant"
          additionalProperties: true
    issue_comment:
      allOf:
        - $ref: "#/components/schemas/comment"
        - type: object
          description: A issue comment.
          properties:
            issue:
              $ref: "#/components/schemas/issue"
          additionalProperties: true
    pipelines_config:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: The Pipelines configuration for a repository.
          properties:
            enabled:
              type: boolean
              description: Whether Pipelines is enabled for the repository.
            repository:
              $ref: "#/components/schemas/repository"
    team:
      allOf:
        - $ref: "#/components/schemas/account"
        - type: object
          description: A team object.
          properties: {}
          additionalProperties: true
    paginated_snippets:
      type: object
      description: A paginated list of snippets.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/snippet"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_pipeline_schedules:
      type: object
      description: A paged list of schedules
      properties:
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
        values:
          type: array
          minItems: 0
          items:
            $ref: "#/components/schemas/pipeline_schedule"
          description: The values of the current page.
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
        next:
          type: string
          format: uri
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
        previous:
          type: string
          format: uri
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
    branching_model_settings:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A repository's branching model settings
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            branch_types:
              type: array
              items:
                type: object
                properties:
                  enabled:
                    type: boolean
                    description: Whether the branch type is enabled or not. A disabled
                      branch type may contain an invalid `prefix`.
                  kind:
                    type: string
                    description: The kind of the branch type.
                    enum:
                      - feature
                      - bugfix
                      - release
                      - hotfix
                  prefix:
                    type: string
                    description: The prefix for this branch type. A branch with this prefix
                      will be classified as per `kind`. The `prefix` of an
                      enabled branch type must be a valid branch
                      prefix.Additionally, it cannot be blank, empty or `null`.
                      The `prefix` for a disabled branch type can be empty or
                      invalid.
                required:
                  - kind
                additionalProperties: false
              minItems: 0
              maxItems: 4
              uniqueItems: true
            development:
              type: object
              properties:
                is_valid:
                  type: boolean
                  description: Indicates if the configured branch is valid, that is, if the
                    configured branch actually exists currently. Is always
                    `true` when `use_mainbranch` is `true` (even if the main
                    branch does not exist). This field is read-only. This field
                    is ignored when updating/creating settings.
                name:
                  type: string
                  description: The configured branch. It must be `null` when
                    `use_mainbranch` is `true`. Otherwise it must be a non-empty
                    value. It is possible for the configured branch to not exist
                    (e.g. it was deleted after the settings are set). In this
                    case `is_valid` will be `false`. The branch must exist when
                    updating/setting the `name` or an error will occur.
                use_mainbranch:
                  type: boolean
                  description: Indicates if the setting points at an explicit branch
                    (`false`) or tracks the main branch (`true`). When `true`
                    the `name` must be `null` or not provided. When `false` the
                    `name` must contain a non-empty branch name.
              additionalProperties: false
            production:
              type: object
              properties:
                is_valid:
                  type: boolean
                  description: Indicates if the configured branch is valid, that is, if the
                    configured branch actually exists currently. Is always
                    `true` when `use_mainbranch` is `true` (even if the main
                    branch does not exist). This field is read-only. This field
                    is ignored when updating/creating settings.
                name:
                  type: string
                  description: The configured branch. It must be `null` when
                    `use_mainbranch` is `true`. Otherwise it must be a non-empty
                    value. It is possible for the configured branch to not exist
                    (e.g. it was deleted after the settings are set). In this
                    case `is_valid` will be `false`. The branch must exist when
                    updating/setting the `name` or an error will occur.
                use_mainbranch:
                  type: boolean
                  description: Indicates if the setting points at an explicit branch
                    (`false`) or tracks the main branch (`true`). When `true`
                    the `name` must be `null` or not provided. When `false` the
                    `name` must contain a non-empty branch name.
                enabled:
                  type: boolean
                  description: Indicates if branch is enabled or not.
              additionalProperties: false
          additionalProperties: true
    pipeline_state_in_progress_stage:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A result of an in progress pipeline state.
          properties: {}
    deployment_state_completed:
      allOf:
        - $ref: "#/components/schemas/deployment_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Deployment COMPLETED deployment state.
          properties:
            name:
              enum:
                - COMPLETED
              type: string
              description: The name of deployment state (COMPLETED).
            url:
              type: string
              format: uri
              description: Link to the deployment result.
            deployer:
              $ref: "#/components/schemas/account"
            status:
              $ref: "#/components/schemas/deployment_state_completed_status"
            start_date:
              type: string
              format: date-time
              description: The timestamp when the deployment was started.
            completion_date:
              type: string
              format: date-time
              description: The timestamp when the deployment completed.
    pipeline_step_state_ready:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines READY pipeline step state.
          properties:
            name:
              enum:
                - READY
              type: string
              description: The name of pipeline step state (READY).
    paginated_issue_comments:
      type: object
      description: A paginated list of issue comments.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/issue_comment"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    pipeline_known_host:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Pipelines known host.
          properties:
            uuid:
              type: string
              description: The UUID identifying the known host.
            hostname:
              type: string
              description: The hostname of the known host.
            public_key:
              $ref: "#/components/schemas/pipeline_ssh_public_key"
    pipeline_state_completed_stopped:
      allOf:
        - $ref: "#/components/schemas/pipeline_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines STOPPED pipeline result.
          properties:
            name:
              enum:
                - STOPPED
              type: string
              description: The name of the stopped result (STOPPED).
    pipeline_state_completed:
      allOf:
        - $ref: "#/components/schemas/pipeline_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines COMPLETED pipeline state.
          properties:
            name:
              enum:
                - COMPLETED
              type: string
              description: The name of pipeline state (COMPLETED).
            result:
              $ref: "#/components/schemas/pipeline_state_completed_result"
    paginated_ssh_user_keys:
      type: object
      description: A paginated list of SSH keys.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/ssh_account_key"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_hook_events:
      type: object
      description: A paginated list of webhook types available to subscribe on.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/hook_event"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    team_permission:
      type: object
      description: A user's permission for a given team.
      properties:
        type:
          type: string
        permission:
          type: string
          enum:
            - admin
            - collaborator
        user:
          $ref: "#/components/schemas/user"
        team:
          $ref: "#/components/schemas/team"
      required:
        - type
      additionalProperties: true
    paginated_log_entries:
      type: object
      description: A paginated list of issue changes.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/issue_change"
          minItems: 0
      additionalProperties: false
    paginated_snippet_comments:
      type: object
      description: A paginated list of snippet comments.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/snippet_comment"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    version:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A version as defined in a repository's issue tracker.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            name:
              type: string
            id:
              type: integer
          additionalProperties: true
    paginated_branches:
      type: object
      description: A paginated list of branches.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/branch"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_commit_comments:
      type: object
      description: A paginated list of commit comments.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/commit_comment"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    issue:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: An issue.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                html:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                comments:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                attachments:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                watch:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                vote:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            id:
              type: integer
            repository:
              $ref: "#/components/schemas/repository"
            title:
              type: string
            reporter:
              $ref: "#/components/schemas/user"
            assignee:
              $ref: "#/components/schemas/user"
            created_on:
              type: string
              format: date-time
            updated_on:
              type: string
              format: date-time
            edited_on:
              type: string
              format: date-time
            state:
              type: string
              enum:
                - new
                - open
                - resolved
                - on hold
                - invalid
                - duplicate
                - wontfix
                - closed
            kind:
              type: string
              enum:
                - bug
                - enhancement
                - proposal
                - task
            priority:
              type: string
              enum:
                - trivial
                - minor
                - major
                - critical
                - blocker
            milestone:
              $ref: "#/components/schemas/milestone"
            version:
              $ref: "#/components/schemas/version"
            component:
              $ref: "#/components/schemas/component"
            votes:
              type: integer
            content:
              type: object
              properties:
                raw:
                  type: string
                  description: The text as it was typed by a user.
                markup:
                  type: string
                  description: The type of markup language the raw content is to be
                    interpreted in.
                  enum:
                    - markdown
                    - creole
                    - plaintext
                html:
                  type: string
                  description: The user's content rendered as HTML.
              additionalProperties: false
          additionalProperties: true
    webhook_subscription:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A Webhook subscription.
          properties:
            uuid:
              type: string
              description: The webhook's id
            url:
              type: string
              description: The URL events get delivered to.
              format: uri
            description:
              type: string
              description: A user-defined description of the webhook.
            subject_type:
              type: string
              description: The type of entity, which is `repository` in the case of webhook
                subscriptions on repositories.
              enum:
                - user
                - repository
                - team
            subject:
              $ref: "#/components/schemas/object"
            active:
              type: boolean
            created_at:
              type: string
              format: date-time
            events:
              type: array
              description: The events this webhook is subscribed to.
              items:
                type: string
                enum:
                  - pullrequest:unapproved
                  - issue:comment_created
                  - pullrequest:approved
                  - repo:created
                  - repo:deleted
                  - repo:imported
                  - pullrequest:comment_updated
                  - issue:updated
                  - project:updated
                  - pullrequest:comment_created
                  - repo:commit_status_updated
                  - pullrequest:updated
                  - issue:created
                  - repo:fork
                  - pullrequest:comment_deleted
                  - repo:commit_status_created
                  - repo:updated
                  - pullrequest:rejected
                  - pullrequest:fulfilled
                  - repo:push
                  - pullrequest:created
                  - repo:transfer
                  - repo:commit_comment_created
              minItems: 1
              uniqueItems: true
          additionalProperties: true
    pipeline_variable:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Pipelines variable.
          properties:
            uuid:
              type: string
              description: The UUID identifying the variable.
            key:
              type: string
              description: The unique name of the variable.
            value:
              type: string
              description: The value of the variable. If the variable is secured, this will
                be empty.
            secured:
              type: boolean
              description: If true, this variable will be treated as secured. The value
                will never be exposed in the logs or the REST API.
    repository:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A Bitbucket repository.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                html:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                avatar:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                pullrequests:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                commits:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                forks:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                watchers:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                downloads:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                clone:
                  type: array
                  items:
                    type: object
                    properties:
                      href:
                        type: string
                        format: uri
                      name:
                        type: string
                    additionalProperties: false
                hooks:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            uuid:
              type: string
              description: The repository's immutable id. This can be used as a substitute
                for the slug segment in URLs. Doing this guarantees your URLs
                will survive renaming of the repository by its owner, or even
                transfer of the repository to a different user.
            full_name:
              type: string
              description: The concatenation of the repository owner's username and the
                slugified name, e.g. "evzijst/interruptingcow". This is the same
                string used in Bitbucket URLs.
            is_private:
              type: boolean
            parent:
              $ref: "#/components/schemas/repository"
            scm:
              type: string
              enum:
                - hg
                - git
            owner:
              $ref: "#/components/schemas/account"
            name:
              type: string
            description:
              type: string
            created_on:
              type: string
              format: date-time
            updated_on:
              type: string
              format: date-time
            size:
              type: integer
            language:
              type: string
            has_issues:
              type: boolean
            has_wiki:
              type: boolean
            fork_policy:
              type: string
              description: >
                
                Controls the rules for forking this repository.


                * **allow_forks**: unrestricted forking

                * **no_public_forks**: restrict forking to private forks (forks cannot
                  be made public later)
                * **no_forks**: deny all forking
              enum:
                - allow_forks
                - no_public_forks
                - no_forks
            project:
              $ref: "#/components/schemas/project"
            mainbranch:
              $ref: "#/components/schemas/branch"
          additionalProperties: true
    snippet_commit:
      allOf:
        - $ref: "#/components/schemas/base_commit"
        - type: object
          description: ""
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                html:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                diff:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            snippet:
              $ref: "#/components/schemas/snippet"
          additionalProperties: true
    pipeline_state_in_progress_paused:
      allOf:
        - $ref: "#/components/schemas/pipeline_state_in_progress_stage"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines PAUSED stage of a pipeline that is in progress.
          properties:
            name:
              enum:
                - PAUSED
              type: string
              description: The name of the stage (PAUSED)
    search_line:
      type: object
      properties:
        line:
          type: integer
          format: int32
          readOnly: true
        segments:
          type: array
          readOnly: true
          items:
            $ref: "#/components/schemas/search_segment"
    error:
      type: object
      description: Base type for most resource objects. It defines the common `type`
        element that identifies an object's type. It also identifies the element
        as Swagger's `discriminator`.
      properties:
        type:
          type: string
        error:
          type: object
          properties:
            message:
              type: string
            detail:
              type: string
            data:
              type: object
              description: Optional structured data that is endpoint-specific.
              properties: {}
              additionalProperties: true
          required:
            - message
          additionalProperties: false
      required:
        - type
      additionalProperties: true
    component:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A component as defined in a repository's issue tracker.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            name:
              type: string
            id:
              type: integer
          additionalProperties: true
    base_commit:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: The common base type for both repository and snippet commits.
          properties:
            hash:
              type: string
              pattern: "[0-9a-f]{7,}?"
            date:
              type: string
              format: date-time
            author:
              $ref: "#/components/schemas/author"
            message:
              type: string
            summary:
              type: object
              properties:
                raw:
                  type: string
                  description: The text as it was typed by a user.
                markup:
                  type: string
                  description: The type of markup language the raw content is to be
                    interpreted in.
                  enum:
                    - markdown
                    - creole
                    - plaintext
                html:
                  type: string
                  description: The user's content rendered as HTML.
              additionalProperties: false
            parents:
              type: array
              items:
                $ref: "#/components/schemas/base_commit"
              minItems: 0
          additionalProperties: true
    issue_change:
      type: object
      description: An issue change.
      properties:
        type:
          type: string
        links:
          type: object
          properties:
            self:
              type: object
              properties:
                href:
                  type: string
                  format: uri
                name:
                  type: string
              additionalProperties: false
            issue:
              type: object
              properties:
                href:
                  type: string
                  format: uri
                name:
                  type: string
              additionalProperties: false
          additionalProperties: false
        name:
          type: string
        created_on:
          type: string
          format: date-time
        user:
          $ref: "#/components/schemas/user"
        issue:
          $ref: "#/components/schemas/issue"
        changes:
          type: object
          properties:
            assignee:
              type: object
              properties:
                old:
                  type: string
                new:
                  type: string
              additionalProperties: false
            state:
              type: object
              properties:
                old:
                  type: string
                new:
                  type: string
              additionalProperties: false
            title:
              type: object
              properties:
                old:
                  type: string
                new:
                  type: string
              additionalProperties: false
            kind:
              type: object
              properties:
                old:
                  type: string
                new:
                  type: string
              additionalProperties: false
            milestone:
              type: object
              properties:
                old:
                  type: string
                new:
                  type: string
              additionalProperties: false
            component:
              type: object
              properties:
                old:
                  type: string
                new:
                  type: string
              additionalProperties: false
            priority:
              type: object
              properties:
                old:
                  type: string
                new:
                  type: string
              additionalProperties: false
            version:
              type: object
              properties:
                old:
                  type: string
                new:
                  type: string
              additionalProperties: false
            content:
              type: object
              properties:
                old:
                  type: string
                new:
                  type: string
              additionalProperties: false
          additionalProperties: false
        message:
          type: object
          properties:
            raw:
              type: string
              description: The text as it was typed by a user.
            markup:
              type: string
              description: The type of markup language the raw content is to be interpreted
                in.
              enum:
                - markdown
                - creole
                - plaintext
            html:
              type: string
              description: The user's content rendered as HTML.
          additionalProperties: false
      required:
        - type
      additionalProperties: true
    pipeline_step_state_completed_expired:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines EXPIRED pipeline step result.
          properties:
            name:
              enum:
                - EXPIRED
              type: string
              description: The name of the result (EXPIRED)
    pipeline_state_pending:
      allOf:
        - $ref: "#/components/schemas/pipeline_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines PENDING pipeline state.
          properties:
            name:
              enum:
                - PENDING
              type: string
              description: The name of pipeline state (PENDING).
    pipeline_schedule_execution:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Pipelines schedule execution.
          properties: {}
    pullrequest_endpoint:
      type: object
      properties:
        repository:
          $ref: "#/components/schemas/repository"
        branch:
          type: object
          properties:
            name:
              type: string
            merge_strategies:
              type: array
              description: Available merge strategies, when this endpoint is the
                destination of the pull request.
              items:
                type: string
                enum:
                  - merge_commit
                  - squash
                  - fast_forward
            default_merge_strategy:
              type: string
              description: The default merge strategy, when this endpoint is the
                destination of the pull request.
          additionalProperties: false
        commit:
          type: object
          properties:
            hash:
              type: string
              pattern: "[0-9a-f]{7,}?"
          additionalProperties: false
      additionalProperties: false
    paginated_issue_attachments:
      type: object
      description: A paginated list of issue attachments.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/issue_attachment"
          minItems: 0
      additionalProperties: false
    pipeline_ref_target:
      allOf:
        - $ref: "#/components/schemas/pipeline_target"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines reference target.
          properties:
            ref_type:
              enum:
                - branch
                - tag
                - named_branch
                - bookmark
              type: string
              description: The type of reference (branch/tag).
            ref_name:
              type: string
              description: The name of the reference.
            commit:
              $ref: "#/components/schemas/commit"
            selector:
              $ref: "#/components/schemas/pipeline_selector"
    pipeline_step_state_completed:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines COMPLETED pipeline step state.
          properties:
            name:
              enum:
                - COMPLETED
              type: string
              description: The name of pipeline step state (COMPLETED).
            result:
              $ref: "#/components/schemas/pipeline_step_state_completed_result"
    pipeline_schedule:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Pipelines schedule.
          properties:
            uuid:
              type: string
              description: The UUID identifying the schedule.
            enabled:
              type: boolean
              description: Whether the schedule is enabled.
            target:
              $ref: "#/components/schemas/pipeline_target"
            selector:
              $ref: "#/components/schemas/pipeline_selector"
            cron_pattern:
              type: string
              description: The cron expression that the schedule applies.
            created_on:
              type: string
              format: date-time
              description: The timestamp when the schedule was created.
            updated_on:
              type: string
              format: date-time
              description: The timestamp when the schedule was updated.
    branching_model:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A repository's branching model
          properties:
            branch_types:
              type: array
              description: The active branch types.
              items:
                type: object
                properties:
                  kind:
                    type: string
                    description: The kind of branch.
                    enum:
                      - feature
                      - bugfix
                      - release
                      - hotfix
                  prefix:
                    type: string
                    description: The prefix for this branch type. A branch with this prefix
                      will be classified as per `kind`. The prefix must be a
                      valid prefix for a branch and must always exist. It cannot
                      be blank, empty or `null`.
                required:
                  - kind
                  - prefix
                additionalProperties: false
              minItems: 0
              maxItems: 4
              uniqueItems: true
            development:
              type: object
              properties:
                branch:
                  $ref: "#/components/schemas/branch"
                name:
                  type: string
                  description: Name of the target branch. Will be listed here even when the
                    target branch does not exist. Will be `null` if targeting
                    the main branch and the repository is empty.
                use_mainbranch:
                  type: boolean
                  description: Indicates if the setting points at an explicit branch
                    (`false`) or tracks the main branch (`true`).
              required:
                - name
                - use_mainbranch
              additionalProperties: false
            production:
              type: object
              properties:
                branch:
                  $ref: "#/components/schemas/branch"
                name:
                  type: string
                  description: Name of the target branch. Will be listed here even when the
                    target branch does not exist. Will be `null` if targeting
                    the main branch and the repository is empty.
                use_mainbranch:
                  type: boolean
                  description: Indicates if the setting points at an explicit branch
                    (`false`) or tracks the main branch (`true`).
              required:
                - name
                - use_mainbranch
              additionalProperties: false
          additionalProperties: true
    pipeline:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipeline. This represents an actual pipeline result.
          properties:
            uuid:
              type: string
              description: The UUID identifying the pipeline.
            build_number:
              type: integer
              description: The build number of the pipeline.
            creator:
              $ref: "#/components/schemas/account"
            repository:
              $ref: "#/components/schemas/repository"
            target:
              $ref: "#/components/schemas/pipeline_target"
            trigger:
              $ref: "#/components/schemas/pipeline_trigger"
            state:
              $ref: "#/components/schemas/pipeline_state"
            created_on:
              type: string
              format: date-time
              description: The timestamp when the pipeline was created.
            completed_on:
              type: string
              format: date-time
              description: The timestamp when the Pipeline was completed. This is not set
                if the pipeline is still in progress.
            build_seconds_used:
              type: integer
              description: The number of build seconds used by this pipeline.
    issue_attachment:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: An issue file attachment's meta data. Note this does not contain the
            file's actual contents.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            name:
              type: string
          additionalProperties: true
    paginated_teams:
      type: object
      description: A paginated list of teams.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/team"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    page:
      type: object
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
      additionalProperties: false
    ssh_account_key:
      allOf:
        - $ref: "#/components/schemas/ssh_key"
        - type: object
          description: Represents an SSH public key for a user.
          properties:
            owner:
              $ref: "#/components/schemas/account"
          additionalProperties: true
    commit:
      allOf:
        - $ref: "#/components/schemas/base_commit"
        - type: object
          description: A repository commit object.
          properties:
            repository:
              $ref: "#/components/schemas/repository"
            participants:
              type: array
              items:
                $ref: "#/components/schemas/participant"
              minItems: 0
          additionalProperties: true
    deploy_key:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: Represents deploy key for a repository.
          properties:
            key:
              type: string
              description: The deploy key value.
            repository:
              $ref: "#/components/schemas/repository"
            comment:
              type: string
              description: The comment parsed from the deploy key (if present)
            label:
              type: string
              description: The user-defined label for the deploy key
            added_on:
              type: string
              format: date-time
            last_used:
              type: string
              format: date-time
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            owner:
              $ref: "#/components/schemas/account"
          additionalProperties: true
    pipeline_ssh_key_pair:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Pipelines SSH key pair.
          properties:
            private_key:
              type: string
              description: The SSH private key. This value will be empty when retrieving
                the SSH key pair.
            public_key:
              type: string
              description: The SSH public key.
    deployment_release:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Bitbucket Deployment Release.
          properties:
            uuid:
              type: string
              description: The UUID identifying the release.
            name:
              type: string
              description: The name of the release.
            url:
              type: string
              format: uri
              description: Link to the pipeline that produced the release.
            commit:
              $ref: "#/components/schemas/commit"
            created_on:
              type: string
              format: date-time
              description: The timestamp when the release was created.
    comment:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: The base type for all comments. This type should be considered
            abstract. Each of the "commentable" resources defines its own
            subtypes (e.g. `issue_comment`).
          properties:
            id:
              type: integer
            created_on:
              type: string
              format: date-time
            updated_on:
              type: string
              format: date-time
            content:
              type: object
              properties:
                raw:
                  type: string
                  description: The text as it was typed by a user.
                markup:
                  type: string
                  description: The type of markup language the raw content is to be
                    interpreted in.
                  enum:
                    - markdown
                    - creole
                    - plaintext
                html:
                  type: string
                  description: The user's content rendered as HTML.
              additionalProperties: false
            user:
              $ref: "#/components/schemas/user"
            deleted:
              type: boolean
            parent:
              $ref: "#/components/schemas/comment"
            inline:
              type: object
              properties:
                to:
                  type: integer
                  description: The comment's anchor line in the new version of the file.
                  minimum: 1
                from:
                  type: integer
                  description: The comment's anchor line in the old version of the file.
                  minimum: 1
                path:
                  type: string
                  description: The path of the file this comment is anchored to.
              required:
                - path
              additionalProperties: false
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                html:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                code:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
          additionalProperties: true
    paginated_pullrequest_comments:
      type: object
      description: A paginated list of pullrequest comments.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/pullrequest_comment"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_pipeline_schedule_executions:
      type: object
      description: A paged list of the executions of a schedule.
      properties:
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
        values:
          type: array
          minItems: 0
          items:
            $ref: "#/components/schemas/pipeline_schedule_execution"
          description: The values of the current page.
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
        next:
          type: string
          format: uri
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
        previous:
          type: string
          format: uri
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
    pipeline_target:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A representation of the target that a pipeline executes on.
          properties: {}
    pipeline_state_completed_result:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A result of a completed pipeline state.
          properties: {}
    pipeline_state_in_progress:
      allOf:
        - $ref: "#/components/schemas/pipeline_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines IN_PROGRESS pipeline state.
          properties:
            name:
              enum:
                - IN_PROGRESS
              type: string
              description: The name of pipeline state (IN_PROGRESS).
            stage:
              $ref: "#/components/schemas/pipeline_state_in_progress_stage"
    deployment_state_completed_status:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: The status of a completed deployment.
          properties: {}
    pipeline_step_error:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: An error causing a step failure.
          properties:
            key:
              type: string
              description: The error key.
            message:
              type: string
              description: The error message.
    search_content_match:
      type: object
      properties:
        lines:
          type: array
          readOnly: true
          items:
            $ref: "#/components/schemas/search_line"
    repository_permission:
      type: object
      description: A user's permission for a given repository.
      properties:
        type:
          type: string
        permission:
          type: string
          enum:
            - admin
            - write
            - read
        user:
          $ref: "#/components/schemas/user"
        repository:
          $ref: "#/components/schemas/repository"
      required:
        - type
      additionalProperties: true
    pipeline_commit_target:
      allOf:
        - $ref: "#/components/schemas/pipeline_target"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines commit target.
          properties:
            commit:
              $ref: "#/components/schemas/commit"
            selector:
              $ref: "#/components/schemas/pipeline_selector"
    paginated_diffstats:
      type: object
      description: A paginated list of diffstats.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/diffstat"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_pipelines:
      type: object
      description: A paged list of pipelines
      properties:
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
        values:
          type: array
          minItems: 0
          items:
            $ref: "#/components/schemas/pipeline"
          description: The values of the current page.
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
        next:
          type: string
          format: uri
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
        previous:
          type: string
          format: uri
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
    pipeline_state_completed_successful:
      allOf:
        - $ref: "#/components/schemas/pipeline_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines SUCCESSFUL pipeline result.
          properties:
            name:
              enum:
                - SUCCESSFUL
              type: string
              description: The name of the successful result (SUCCESSFUL).
    paginated_deployments:
      type: object
      description: A paged list of deployments
      properties:
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
        values:
          type: array
          minItems: 0
          items:
            $ref: "#/components/schemas/deployment"
          description: The values of the current page.
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
        next:
          type: string
          format: uri
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
        previous:
          type: string
          format: uri
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
    pipeline_state:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: The representation of the progress state of a pipeline.
          properties: {}
    paginated_pullrequests:
      type: object
      description: A paginated list of pullrequests.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/pullrequest"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    pipeline_step:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A step of a Bitbucket pipeline. This represents the actual result of
            the step execution.
          properties:
            uuid:
              type: string
              description: The UUID identifying the step.
            started_on:
              type: string
              format: date-time
              description: The timestamp when the step execution was started. This is not
                set when the step hasn't executed yet.
            completed_on:
              type: string
              format: date-time
              description: The timestamp when the step execution was completed. This is not
                set if the step is still in progress.
            state:
              $ref: "#/components/schemas/pipeline_step_state"
            image:
              $ref: "#/components/schemas/pipeline_image"
            setup_commands:
              type: array
              items:
                $ref: "#/components/schemas/pipeline_command"
              description: The list of commands that are executed as part of the setup
                phase of the build. These commands are executed outside the
                build container.
            script_commands:
              type: array
              items:
                $ref: "#/components/schemas/pipeline_command"
              description: The list of build commands. These commands are executed in the
                build container.
      x-bb-default-fields:
        - uuid
      x-bb-url: /rest/1.0/accounts/{target_user.uuid}/repositories/{repository.uuid}/pipelines/{pipeline.uuid}/steps/{uuid}
    search_code_search_result:
      type: object
      properties:
        type:
          type: string
          readOnly: true
        content_match_count:
          type: integer
          format: int64
          readOnly: true
        content_matches:
          type: array
          readOnly: true
          items:
            $ref: "#/components/schemas/search_content_match"
        path_matches:
          type: array
          readOnly: true
          items:
            $ref: "#/components/schemas/search_segment"
        file:
          $ref: "#/components/schemas/commit_file"
    paginated_branchrestrictions:
      type: object
      description: A paginated list of branch restriction rules.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/branchrestriction"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    ssh_key:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: Base type for representing SSH public keys.
          properties:
            uuid:
              type: string
              description: The SSH key's immutable ID.
            key:
              type: string
              description: The SSH public key value in OpenSSH format.
            comment:
              type: string
              description: The comment parsed from the SSH key (if present)
            label:
              type: string
              description: The user-defined label for the SSH key
            created_on:
              type: string
              format: date-time
            last_used:
              type: string
              format: date-time
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
          additionalProperties: true
    paginated_issues:
      type: object
      description: A paginated list of issues.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/issue"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    commitstatus:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A commit status object.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                commit:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            uuid:
              type: string
              description: The commit status' id.
            key:
              type: string
              description: >-
                An identifier for the status that's unique to
                        its type (current "build" is the only supported type) and the vendor,
                        e.g. BB-DEPLOY
            refname:
              type: string
              description: >-
                
                The name of the ref that pointed to this commit at the time the status

                object was created. Note that this the ref may since have moved off of

                the commit. This optional field can be useful for build systems whose

                build triggers and configuration are branch-dependent (e.g. a Pipeline

                build).

                It is legitimate for this field to not be set, or even apply (e.g. a

                static linting job).
            url:
              type: string
              description: A URL linking back to the vendor or build system, for providing
                more information about whatever process produced this status.
                Accepts context variables `repository` and `commit` that
                Bitbucket will evaluate at runtime whenever at runtime. For
                example, one could use
                https://foo.com/builds/{repository.full_name} which Bitbucket
                will turn into https://foo.com/builds/foo/bar at render time.
            state:
              type: string
              description: Provides some indication of the status of this commit
              enum:
                - SUCCESSFUL
                - FAILED
                - INPROGRESS
                - STOPPED
            name:
              type: string
              description: An identifier for the build itself, e.g. BB-DEPLOY-1
            description:
              type: string
              description: A description of the build (e.g. "Unit tests in Bamboo")
            created_on:
              type: string
              format: date-time
            updated_on:
              type: string
              format: date-time
          additionalProperties: true
    search_result_page:
      type: object
      properties:
        size:
          type: integer
          format: int64
          readOnly: true
        page:
          type: integer
          format: int32
          readOnly: true
        pagelen:
          type: integer
          format: int32
          readOnly: true
        query_substituted:
          type: boolean
          readOnly: true
        next:
          type: string
          format: uri
          readOnly: true
        previous:
          type: string
          format: uri
          readOnly: true
        values:
          type: array
          readOnly: true
          items:
            $ref: "#/components/schemas/search_code_search_result"
    account:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: An account object.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                html:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                avatar:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                followers:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                following:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                repositories:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            username:
              type: string
              pattern: ^[a-zA-Z0-9_\-]+$
            nickname:
              type: string
              description: Account name defined by the owner. Should be used instead of the
                "username" field. Note that "nickname" cannot be used in place
                of "username" in URLs and queries, as "nickname" is not
                guaranteed to be unique.
            account_status:
              type: string
              description: The status of the account. Currently the only possible value is
                "active", but more values may be added in the future.
            display_name:
              type: string
            website:
              type: string
            created_on:
              type: string
              format: date-time
            uuid:
              type: string
            has_2fa_enabled:
              type: boolean
          additionalProperties: true
    deployment_state_in_progress:
      allOf:
        - $ref: "#/components/schemas/deployment_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Deployment IN_PROGRESS deployment state.
          properties:
            name:
              enum:
                - IN_PROGRESS
              type: string
              description: The name of deployment state (IN_PROGRESS).
            url:
              type: string
              format: uri
              description: Link to the deployment result.
            deployer:
              $ref: "#/components/schemas/account"
            start_date:
              type: string
              format: date-time
              description: The timestamp when the deployment was started.
    paginated_commitstatuses:
      type: object
      description: A paginated list of commit status objects.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/commitstatus"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    pipeline_state_in_progress_running:
      allOf:
        - $ref: "#/components/schemas/pipeline_state_in_progress_stage"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines RUNNING stage of a pipeline that is in
            progress.
          properties:
            name:
              enum:
                - RUNNING
              type: string
              description: The name of the stage (RUNNING)
    paginated_refs:
      type: object
      description: A paginated list of refs.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/ref"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_snippet_commit:
      type: object
      description: A paginated list of snippet commits.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/snippet_commit"
          minItems: 0
      additionalProperties: false
    branchrestriction:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A branch restriction rule.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            id:
              type: integer
              description: The branch restriction status' id.
            kind:
              type: string
              description: The type of restriction that is being applied.
              enum:
                - require_tasks_to_be_completed
                - require_passing_builds_to_merge
                - force
                - require_all_dependencies_merged
                - push
                - require_approvals_to_merge
                - enforce_merge_checks
                - restrict_merges
                - reset_pullrequest_approvals_on_change
                - delete
            branch_match_kind:
              type: string
              description: Indicates how the restriction is matched against a branch. The
                default is `glob`.
              enum:
                - branching_model
                - glob
            branch_type:
              type: string
              description: Apply the restriction to branches of this type. Active when
                `branch_match_kind` is `branching_model`. The branch type will
                be calculated using the branching model configured for the
                repository.
              enum:
                - feature
                - bugfix
                - release
                - hotfix
                - development
                - production
            pattern:
              type: string
              description: Apply the restriction to branches that match this pattern.
                Active when `branch_match_kind` is `glob`. Will be empty when
                `branch_match_kind` is `branching_model`.
            users:
              type: array
              items:
                $ref: "#/components/schemas/account"
              minItems: 0
            groups:
              type: array
              items:
                $ref: "#/components/schemas/group"
              minItems: 0
            value:
              type: integer
              description: 'Value with kind-specific semantics:
                "require_approvals_to_merge" uses it to require a minimum number
                of approvals on a PR; "require_passing_builds_to_merge" uses it
                to require a minimum number of passing builds.'
          required:
            - kind
            - branch_match_kind
            - pattern
          additionalProperties: true
    pipeline_step_state_completed_result:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A result of a completed pipeline step state.
          properties: {}
    pipeline_trigger:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A representation of the trigger used for a pipeline.
          properties: {}
    project:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: |-
            A Bitbucket project.
                        Projects are used by teams to organize repositories.
          properties:
            links:
              type: object
              properties:
                html:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                avatar:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            uuid:
              type: string
              description: The project's immutable id.
            key:
              type: string
              description: The project's key.
            owner:
              $ref: "#/components/schemas/team"
            name:
              type: string
              description: The name of the project.
            description:
              type: string
            is_private:
              type: boolean
              description: >-
                
                Indicates whether the project is publicly accessible, or whether it is

                private to the team and consequently only visible to team members.

                Note that private projects cannot contain public repositories.
            created_on:
              type: string
              format: date-time
            updated_on:
              type: string
              format: date-time
          additionalProperties: true
    pipeline_error:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: An error causing a pipeline failure.
          properties:
            key:
              type: string
              description: The error key.
            message:
              type: string
              description: The error message.
    pipeline_schedule_execution_errored:
      allOf:
        - $ref: "#/components/schemas/pipeline_schedule_execution"
        - additionalProperties: true
          type: object
          description: A Pipelines schedule execution that failed to be executed.
          properties:
            error:
              $ref: "#/components/schemas/pipeline_error"
    diffstat:
      type: object
      description: A diffstat object that includes a summary of changes made to a file
        between two commits.
      properties:
        type:
          type: string
        status:
          type: string
          enum:
            - added
            - removed
            - modified
            - renamed
        lines_added:
          type: integer
        lines_removed:
          type: integer
        old:
          $ref: "#/components/schemas/commit_file"
        new:
          $ref: "#/components/schemas/commit_file"
      required:
        - type
      additionalProperties: true
    pullrequest_comment:
      allOf:
        - $ref: "#/components/schemas/comment"
        - type: object
          description: A pullrequest comment.
          properties:
            pullrequest:
              $ref: "#/components/schemas/pullrequest"
          additionalProperties: true
    tag:
      allOf:
        - $ref: "#/components/schemas/ref"
        - type: object
          description: A tag object, representing a tag in a repository.
          properties:
            message:
              type: string
              description: The message associated with the tag, if available.
            date:
              type: string
              description: The date that the tag was created, if available
              format: date-time
            tagger:
              $ref: "#/components/schemas/author"
          additionalProperties: true
    pipeline_trigger_manual:
      allOf:
        - $ref: "#/components/schemas/pipeline_trigger"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines MANUAL trigger.
          properties: {}
    paginated_treeentries:
      type: object
      description: A paginated list of commit_file and/or commit_directory objects.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/treeentry"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    participant:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: Object describing a user's role on resources like commits or pull
            requests.
          properties:
            user:
              $ref: "#/components/schemas/user"
            role:
              type: string
              enum:
                - PARTICIPANT
                - REVIEWER
            approved:
              type: boolean
            participated_on:
              type: string
              description: The ISO8601 timestamp of the participant's action. For
                approvers, this is the time of their approval. For commenters
                and pull request reviewers who are not approvers, this is the
                time they last commented, or null if they have not commented.
              format: date-time
          additionalProperties: true
    paginated_versions:
      type: object
      description: A paginated list of issue tracker versions.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/version"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    pipeline_step_state:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: The representation of the progress state of a pipeline step.
          properties: {}
    author:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: The author of a change in a repository
          properties:
            raw:
              type: string
              description: The raw author value from the repository. This may be the only
                value available if the author does not match a user in
                Bitbucket.
            user:
              $ref: "#/components/schemas/account"
          additionalProperties: true
    commit_file:
      type: object
      description: A file object, representing a file at a commit in a repository
      properties:
        type:
          type: string
        path:
          type: string
          description: The path in the repository
        commit:
          $ref: "#/components/schemas/commit"
        attributes:
          type: string
          enum:
            - link
            - executable
            - subrepository
            - binary
            - lfs
      required:
        - type
      additionalProperties: true
    snippet:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A snippet object.
          properties:
            id:
              type: integer
              minimum: 0
            title:
              type: string
            scm:
              type: string
              description: The DVCS used to store the snippet.
              enum:
                - hg
                - git
            created_on:
              type: string
              format: date-time
            updated_on:
              type: string
              format: date-time
            owner:
              $ref: "#/components/schemas/account"
            creator:
              $ref: "#/components/schemas/account"
            is_private:
              type: boolean
          additionalProperties: true
    hook_event:
      type: object
      description: An event, associated with a resource or subject type.
      properties:
        event:
          type: string
          description: The event identifier.
          enum:
            - pullrequest:unapproved
            - issue:comment_created
            - pullrequest:approved
            - repo:created
            - repo:deleted
            - repo:imported
            - pullrequest:comment_updated
            - issue:updated
            - project:updated
            - pullrequest:comment_created
            - repo:commit_status_updated
            - pullrequest:updated
            - issue:created
            - repo:fork
            - pullrequest:comment_deleted
            - repo:commit_status_created
            - repo:updated
            - pullrequest:rejected
            - pullrequest:fulfilled
            - repo:push
            - pullrequest:created
            - repo:transfer
            - repo:commit_comment_created
        category:
          type: string
          description: The category this event belongs to.
        label:
          type: string
          description: Summary of the webhook event type.
        description:
          type: string
          description: More detailed description of the webhook event type.
      additionalProperties: false
    branch:
      allOf:
        - $ref: "#/components/schemas/ref"
        - type: object
          description: A branch object, representing a branch in a repository.
          properties: {}
          additionalProperties: true
    deployment_state_undeployed:
      allOf:
        - $ref: "#/components/schemas/deployment_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Deployment UNDEPLOYED deployment state.
          properties:
            name:
              enum:
                - UNDEPLOYED
              type: string
              description: The name of deployment state (UNDEPLOYED).
            trigger_url:
              type: string
              format: uri
              description: Link to trigger the deployment.
    pipeline_command:
      type: object
      description: An executable pipeline command.
      properties:
        name:
          type: string
          description: The name of the command.
        command:
          type: string
          description: The executable command.
    pipeline_state_completed_error:
      allOf:
        - $ref: "#/components/schemas/pipeline_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines ERROR pipeline result.
          properties:
            name:
              enum:
                - ERROR
              type: string
              description: The name of the result (ERROR)
            error:
              $ref: "#/components/schemas/pipeline_error"
    object:
      type: object
      description: Base type for most resource objects. It defines the common `type`
        element that identifies an object's type. It also identifies the element
        as Swagger's `discriminator`.
      properties:
        type:
          type: string
      required:
        - type
      additionalProperties: true
      discriminator:
        propertyName: type
    pipeline_step_state_in_progress:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines IN_PROGRESS pipeline step state.
          properties:
            name:
              enum:
                - IN_PROGRESS
              type: string
              description: The name of pipeline step state (IN_PROGRESS).
    pipeline_step_state_completed_successful:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines SUCCESSFUL pipeline step result.
          properties:
            name:
              enum:
                - SUCCESSFUL
              type: string
              description: The name of the result (SUCCESSFUL)
    user:
      allOf:
        - $ref: "#/components/schemas/account"
        - type: object
          description: A user object.
          properties:
            is_staff:
              type: boolean
            account_id:
              type: string
              description: The user's Atlassian account ID.
          additionalProperties: true
    paginated_webhook_subscriptions:
      type: object
      description: A paginated list of webhook subscriptions
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/webhook_subscription"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    pipelines_stg_west_pipeline_step:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A step of a Bitbucket pipeline. This represents the actual result of
            the step execution.
      x-bb-default-fields:
        - uuid
      x-bb-url: /rest/1.0/accounts/{target_user.uuid}/repositories/{repository.uuid}/pipelines/{pipeline.uuid}/steps/{uuid}
    snippet_comment:
      allOf:
        - $ref: "#/components/schemas/object"
        - type: object
          description: A comment on a snippet.
          properties:
            links:
              type: object
              properties:
                self:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
                html:
                  type: object
                  properties:
                    href:
                      type: string
                      format: uri
                    name:
                      type: string
                  additionalProperties: false
              additionalProperties: false
            snippet:
              $ref: "#/components/schemas/snippet"
          additionalProperties: true
    deployment_state:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: The representation of the progress state of a deployment.
          properties: {}
    pipeline_build_number:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A Pipelines build number.
          properties:
            next:
              type: integer
              description: The next number that will be used as build number.
    pipeline_state_completed_failed:
      allOf:
        - $ref: "#/components/schemas/pipeline_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines FAILED pipeline result.
          properties:
            name:
              enum:
                - FAILED
              type: string
              description: The name of the failed result (FAILED).
    pipeline_step_state_completed_not_run:
      allOf:
        - $ref: "#/components/schemas/pipeline_step_state_completed_result"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines NOT_RUN pipeline step result.
          properties:
            name:
              enum:
                - NOT_RUN
              type: string
              description: The name of the result (NOT_RUN)
    paginated_users:
      type: object
      description: A paginated list of users.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/user"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    paginated_pipeline_known_hosts:
      type: object
      description: A paged list of known hosts.
      properties:
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
        values:
          type: array
          minItems: 0
          items:
            $ref: "#/components/schemas/pipeline_known_host"
          description: The values of the current page.
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
        next:
          type: string
          format: uri
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
        previous:
          type: string
          format: uri
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
    paginated_tags:
      type: object
      description: A paginated list of tags.
      properties:
        size:
          type: integer
          description: Total number of objects in the response. This is an optional element
            that is not provided in all responses, as it can be expensive to
            compute.
          minimum: 0
        page:
          type: integer
          description: Page number of the current results. This is an optional element that
            is not provided in all responses.
          minimum: 1
        pagelen:
          type: integer
          description: Current number of objects on the existing page. The default value is
            10 with 100 being the maximum allowed value. Individual APIs may
            enforce different values.
          minimum: 1
        next:
          type: string
          description: Link to the next page if it exists. The last page of a collection
            does not have this value. Use this link to navigate the result set
            and refrain from constructing your own URLs.
          format: uri
        previous:
          type: string
          description: Link to previous page if it exists. A collections first page does
            not have this value. This is an optional element that is not
            provided in all responses. Some result sets strictly support forward
            navigation and never provide previous links. Clients must anticipate
            that backwards navigation is not always available. Use this link to
            navigate the result set and refrain from constructing your own URLs.
          format: uri
        values:
          type: array
          items:
            $ref: "#/components/schemas/tag"
          minItems: 0
          uniqueItems: true
      additionalProperties: false
    pipeline_selector:
      allOf:
        - $ref: "#/components/schemas/object"
        - additionalProperties: true
          type: object
          description: A representation of the selector that was used to identify the
            pipeline in the YML file.
          properties:
            type:
              enum:
                - branches
                - tags
                - bookmarks
                - default
                - custom
              type: string
              description: The type of selector.
            pattern:
              type: string
              description: The name of the matching pipeline definition.
    pipeline_trigger_push:
      allOf:
        - $ref: "#/components/schemas/pipeline_trigger"
        - additionalProperties: true
          type: object
          description: A Bitbucket Pipelines PUSH trigger.
          properties: {}
    treeentry:
      type: object
      description: Base type for most resource objects. It defines the common `type`
        element that identifies an object's type. It also identifies the element
        as Swagger's `discriminator`.
      properties:
        type:
          type: string
        path:
          type: string
          description: The path in the repository
        commit:
          $ref: "#/components/schemas/commit"
      required:
        - type
      additionalProperties: true